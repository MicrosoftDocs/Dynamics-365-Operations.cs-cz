---
title: Zlepšení výkonu plánovacího modulu
description: Toto téma poskytuje informace o plánovacím modulu a o tom, jak zlepšit výkon.
author: ChristianRytt
manager: tfehr
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: kamaybac
ms.search.validFrom: 2020-09-03
ms.dyn365.ops.version: ''
ms.openlocfilehash: 1c1b940754021956998fe27ba16020d4b16aedf1
ms.sourcegitcommit: 49f3011b8a6d8cdd038e153d8cb3cf773be25ae4
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/16/2020
ms.locfileid: "4015060"
---
# <a name="improve-scheduling-engine-performance"></a><span data-ttu-id="67592-103">Zlepšení výkonu plánovacího modulu</span><span class="sxs-lookup"><span data-stu-id="67592-103">Improve scheduling engine performance</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="67592-104">Modul pro plánování zdrojů se používá při plánování tras pro plánované a vydané výrobní zakázky.</span><span class="sxs-lookup"><span data-stu-id="67592-104">The resource scheduling engine is used when scheduling routes for planned and released production orders.</span></span> <span data-ttu-id="67592-105">Modul byl původně vydán jako součást Dynamics AX 2012 a od svého vydání prošel několika vylepšeními.</span><span class="sxs-lookup"><span data-stu-id="67592-105">The engine was originally released as part of Dynamics AX 2012 and has gone through several improvements since its release.</span></span>

<span data-ttu-id="67592-106">[Plánování úloh v dílně](https://en.wikipedia.org/wiki/Job_shop_scheduling) je extrémně složitý kombinatorický problém, u něhož čas řešení exponenciálně roste s počtem rozhodovacích proměnných.</span><span class="sxs-lookup"><span data-stu-id="67592-106">The [job shop scheduling problem](https://en.wikipedia.org/wiki/Job_shop_scheduling) is an extremely complex combinatorial problem where solution time grows exponentially with the number of decision variables.</span></span> <span data-ttu-id="67592-107">Zákazníci často nastavují výrobní trasy a související data způsobem, který vede k problému s plánováním, který nelze vyřešit v rozumném čase ani na nejmodernějším hardwaru.</span><span class="sxs-lookup"><span data-stu-id="67592-107">Oftentimes, customers set up production routes and related data in a way that results in a scheduling problem that can't be solved in reasonable time even on the most modern hardware.</span></span> <span data-ttu-id="67592-108">Toto téma vám pomůže pochopit plánovací modul a jaký vliv může mít konkrétní nastavení na výkon.</span><span class="sxs-lookup"><span data-stu-id="67592-108">This topic will help you understand the scheduling engine and how a specific setup can have influence on the performance.</span></span>

<span data-ttu-id="67592-109">Pokud jde o zlepšení výkonu plánování, obecné pokyny doporučují snížit složitost problému, který musí modul vyřešit.</span><span class="sxs-lookup"><span data-stu-id="67592-109">When it comes to improving the performance of the scheduling, general guidelines recommend reducing the complexity of the problem the engine needs to solve.</span></span> <span data-ttu-id="67592-110">Mezi hlavní faktory, které můžou ovlivnit výkon, patří:</span><span class="sxs-lookup"><span data-stu-id="67592-110">Some of the main factors that can affect performance include:</span></span>

- <span data-ttu-id="67592-111">Trasy s mnoha operacemi</span><span class="sxs-lookup"><span data-stu-id="67592-111">Routes with many operations</span></span>
- <span data-ttu-id="67592-112">Trasy s paralelními operacemi</span><span class="sxs-lookup"><span data-stu-id="67592-112">Routes with parallel operations</span></span>
- <span data-ttu-id="67592-113">Operace s počtem zdrojů vyšším než jeden</span><span class="sxs-lookup"><span data-stu-id="67592-113">Operations with quantity of resources higher than one</span></span>
- <span data-ttu-id="67592-114">Operace s mnoha použitelnými zdroji</span><span class="sxs-lookup"><span data-stu-id="67592-114">Operations with many applicable resources</span></span>
- <span data-ttu-id="67592-115">Používání pevných odkazů</span><span class="sxs-lookup"><span data-stu-id="67592-115">Use of hard links</span></span>
- <span data-ttu-id="67592-116">Používání omezené kapacity</span><span class="sxs-lookup"><span data-stu-id="67592-116">Use of finite capacity</span></span>
- <span data-ttu-id="67592-117">Počet různých kalendářů, které se používají</span><span class="sxs-lookup"><span data-stu-id="67592-117">The number of different calendars used</span></span>
- <span data-ttu-id="67592-118">Počet slotů pracovní doby za den v kalendáři</span><span class="sxs-lookup"><span data-stu-id="67592-118">The number of working time slots per day in the calendar</span></span>
- <span data-ttu-id="67592-119">Celková doba trvání trasy</span><span class="sxs-lookup"><span data-stu-id="67592-119">Total duration of the route</span></span>
- <span data-ttu-id="67592-120">Paralelní spuštění více plánovacích modulů</span><span class="sxs-lookup"><span data-stu-id="67592-120">Running multiple scheduling engines in parallel</span></span>

## <a name="overview-of-basic-scheduling-flow"></a><span data-ttu-id="67592-121">Přehled základního toku plánování</span><span class="sxs-lookup"><span data-stu-id="67592-121">Overview of basic scheduling flow</span></span>

<span data-ttu-id="67592-122">Abychom porozuměli, jak může dané nastavení ovlivnit výkon, je důležité v určité základní míře pochopit tok tohoto procesu, a to jak uvnitř modulu, tak v kódu X++, který ho obklopuje.</span><span class="sxs-lookup"><span data-stu-id="67592-122">To understand how a given setup can affect performance, it is important to understand something about how the process flows, both inside the engine and in the X++ code that surrounds it.</span></span>

<span data-ttu-id="67592-123">Základní proces plánování zakázky se skládá ze tří hlavních kroků:</span><span class="sxs-lookup"><span data-stu-id="67592-123">The basic process of scheduling an order consists of three main steps:</span></span>

- <span data-ttu-id="67592-124">**Načítání dat** – Zde jsou datové modely X++ transformovány do interního datového modelu pro modul ve formě úloh a omezení.</span><span class="sxs-lookup"><span data-stu-id="67592-124">**Loading data** – Here, the X++ data models are transformed into the engine's internal data model in the form of jobs and constraints.</span></span>
- <span data-ttu-id="67592-125">**Plánování** – Toto je hlavní zdroj pro plánování, který zpracovává daný model a omezení a pak generuje výsledek.</span><span class="sxs-lookup"><span data-stu-id="67592-125">**Scheduling** – This is the main source for scheduling that processes the given model and constraints, and generates a result.</span></span> <span data-ttu-id="67592-126">Během tohoto procesu bude modul podle potřeby požadovat informace o pracovní době a stávající ch rezervacích kapacity z X++.</span><span class="sxs-lookup"><span data-stu-id="67592-126">During this process, the engine will request working time information and existing capacity reservations from X++ as needed.</span></span>
- <span data-ttu-id="67592-127">**Ukládání dat** – Výsledek modulu ve formě slotů pro rezervaci kapacity úloh je zpracován kódem X++, aby se rezervace kapacity uložily a aby se aktualizovaly časy zahájení a ukončení úloh/operací/zakázek.</span><span class="sxs-lookup"><span data-stu-id="67592-127">**Save data** – The engine result in the form of job capacity reservation slots is processed by X++ code to save capacity reservations and update the start and end times of the jobs/operation/order.</span></span>

## <a name="load-data-into-the-engine"></a><span data-ttu-id="67592-128">Načítání dat do modulu</span><span class="sxs-lookup"><span data-stu-id="67592-128">Load data into the engine</span></span>

<span data-ttu-id="67592-129">Plánovací modul má abstraktnější datový model než databáze Supply Chain Management, protože byl vytvořen jako obecný modul, který dokáže zpracovat různé zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="67592-129">The scheduling engine has a more abstract data model than the Supply Chain Management database because it has been built as a generic engine that can handle different sources of data.</span></span> <span data-ttu-id="67592-130">Koncepty trasy, sekundární operace a doby běhu je třeba „přeložit“ do obecného modelu úlohy a omezení, který modul vystavuje.</span><span class="sxs-lookup"><span data-stu-id="67592-130">The concepts of route, secondary operations, and run time need to be "translated" into the generic job and constraint model that the engine exposes.</span></span> <span data-ttu-id="67592-131">Logika pro sestavení modelu zahrnuje značné množství obchodní logiky a liší se v závislosti na zdrojových datech.</span><span class="sxs-lookup"><span data-stu-id="67592-131">The logic for building the model has a significant amount of business logic to it and is different depending on the source data.</span></span> <span data-ttu-id="67592-132">Odpovědnou třídou X++ je `WrkCtrScheduler` a pak tu jsou odvozené třídy pro plánované výrobní zakázky, uvolněné výrobní zakázky a prognózy projektů.</span><span class="sxs-lookup"><span data-stu-id="67592-132">The responsible X++ class is `WrkCtrScheduler` and it has derived classes for planned production orders, released production orders, and project forecasts.</span></span>

<span data-ttu-id="67592-133">Jako příklad si představme trasu uvedenou v následující tabulce a na následujícím obrázku, která se zdá být relativně jednoduchá.</span><span class="sxs-lookup"><span data-stu-id="67592-133">As an example, consider a route shown in the following table and image, which seems relatively simple.</span></span>

| <span data-ttu-id="67592-134">Číslo</span><span class="sxs-lookup"><span data-stu-id="67592-134">Oper.</span></span> <span data-ttu-id="67592-135">operace</span><span class="sxs-lookup"><span data-stu-id="67592-135">No.</span></span> | <span data-ttu-id="67592-136">Priorita</span><span class="sxs-lookup"><span data-stu-id="67592-136">Priority</span></span> | <span data-ttu-id="67592-137">Přípravný čas</span><span class="sxs-lookup"><span data-stu-id="67592-137">Setup time</span></span> | <span data-ttu-id="67592-138">Operační čas</span><span class="sxs-lookup"><span data-stu-id="67592-138">Run time</span></span> | <span data-ttu-id="67592-139">Čas čekání po oper.</span><span class="sxs-lookup"><span data-stu-id="67592-139">Queue time after</span></span> | <span data-ttu-id="67592-140">Množství prostředků</span><span class="sxs-lookup"><span data-stu-id="67592-140">Quantity of resources</span></span> | <span data-ttu-id="67592-141">Další</span><span class="sxs-lookup"><span data-stu-id="67592-141">Next</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="67592-142">10</span><span class="sxs-lookup"><span data-stu-id="67592-142">10</span></span> | <span data-ttu-id="67592-143">Primární</span><span class="sxs-lookup"><span data-stu-id="67592-143">Primary</span></span> | <span data-ttu-id="67592-144">1.00</span><span class="sxs-lookup"><span data-stu-id="67592-144">1.00</span></span> | <span data-ttu-id="67592-145">2.00</span><span class="sxs-lookup"><span data-stu-id="67592-145">2.00</span></span> | | <span data-ttu-id="67592-146">1</span><span class="sxs-lookup"><span data-stu-id="67592-146">1</span></span> | <span data-ttu-id="67592-147">20</span><span class="sxs-lookup"><span data-stu-id="67592-147">20</span></span> |
| <span data-ttu-id="67592-148">10</span><span class="sxs-lookup"><span data-stu-id="67592-148">10</span></span> | <span data-ttu-id="67592-149">Sekundární&nbsp;1</span><span class="sxs-lookup"><span data-stu-id="67592-149">Secondary&nbsp;1</span></span> | | | | <span data-ttu-id="67592-150">1</span><span class="sxs-lookup"><span data-stu-id="67592-150">1</span></span> | <span data-ttu-id="67592-151">20</span><span class="sxs-lookup"><span data-stu-id="67592-151">20</span></span> |
| <span data-ttu-id="67592-152">20</span><span class="sxs-lookup"><span data-stu-id="67592-152">20</span></span> | <span data-ttu-id="67592-153">Primární</span><span class="sxs-lookup"><span data-stu-id="67592-153">Primary</span></span> | | <span data-ttu-id="67592-154">3.00</span><span class="sxs-lookup"><span data-stu-id="67592-154">3.00</span></span> | <span data-ttu-id="67592-155">1.00</span><span class="sxs-lookup"><span data-stu-id="67592-155">1.00</span></span> | <span data-ttu-id="67592-156">3</span><span class="sxs-lookup"><span data-stu-id="67592-156">3</span></span> | <span data-ttu-id="67592-157">0</span><span class="sxs-lookup"><span data-stu-id="67592-157">0</span></span> |

<span data-ttu-id="67592-158">![Příklad schématu trasy](media/scheduling-engine-route.png "Příklad schématu trasy")</span><span class="sxs-lookup"><span data-stu-id="67592-158">![Example rout diagram](media/scheduling-engine-route.png "Example rout diagram")</span></span>

<span data-ttu-id="67592-159">Při odesílání do modulu dojde k rozdělení do 8 úloh, jak je znázorněno na následujícím obrázku (vyberte obrázek pro jeho zvětšení).</span><span class="sxs-lookup"><span data-stu-id="67592-159">When sending this to the engine, it is split out into eight jobs, as shown in the following illustration (select the image to enlarge it).</span></span>

<span data-ttu-id="67592-160">[![Úlohy plánovacího modulu](media/scheduling-engine-jobs.png "Úlohy plánovacího modulu")](media/scheduling-engine-jobs-large.png)</span><span class="sxs-lookup"><span data-stu-id="67592-160">[![Scheduling engine jobs](media/scheduling-engine-jobs.png "Scheduling engine jobs")](media/scheduling-engine-jobs-large.png)</span></span>

<span data-ttu-id="67592-161">Standardní propojení mezi dvěma úlohami je `FinishStart`, což znamená, že čas ukončení jedné úlohy musí být před časem zahájení jiné úlohy.</span><span class="sxs-lookup"><span data-stu-id="67592-161">The standard link between two jobs is `FinishStart`, meaning that the end time of one job must be before the start time of another job.</span></span> <span data-ttu-id="67592-162">Protože nastavení musí být provedeno stejným zdrojem, který tento proces později provede, existují mezi nimi omezení `OnSameResource`.</span><span class="sxs-lookup"><span data-stu-id="67592-162">Because the setup must be performed by the same resource that will later do the process, there are `OnSameResource` constraints between them.</span></span> <span data-ttu-id="67592-163">Mezi úlohami pro primární a sekundární operaci 10 existují propojení `StartStart` a `FinishFinish`, což znamená, že úlohy musí začínat i končit současně, a zároveň platí omezení `NotOnSameResource`, která zabrání spuštění stejného zdroje pro primární i sekundární operaci.</span><span class="sxs-lookup"><span data-stu-id="67592-163">Between the jobs for primary and secondary operation for 10, there are `StartStart` and `FinishFinish` links, which means that the jobs must both start and end at the same time, and there are `NotOnSameResource` constraints, which will prevent the same resource for primary and secondary.</span></span>

<span data-ttu-id="67592-164">Pro operaci 20, kde bylo množství zdrojů nastaveno na 3, byla procesní úloha rozdělena do 3 odlišných úloh, které musí všechny běžet ve stejnou dobu.</span><span class="sxs-lookup"><span data-stu-id="67592-164">For operation 20, where the quantity of resources has been set to 3, the process job has been split into three distinct jobs where all the jobs must run at the exact same time.</span></span>
<span data-ttu-id="67592-165">V tomto případě byla skupina tras nastavena tak, aby po určitých intervalech nerezervovala kapacitu pro frontu, a proto po ní existuje pouze jedna úloha.</span><span class="sxs-lookup"><span data-stu-id="67592-165">In this case, the route group has been set up to not reserve capacity for queue after times, which is why there is only a single job for the queue after.</span></span>

<span data-ttu-id="67592-166">Plánovací modul rozumí pouze konceptu úloh a nemá žádnou představu o operacích.</span><span class="sxs-lookup"><span data-stu-id="67592-166">The scheduling engine only understands the concepts of jobs and has no notion of operations.</span></span> <span data-ttu-id="67592-167">To znamená, že při plánování jsou operace také rozděleny na úlohy, i když v databázi nebudou trvalé.</span><span class="sxs-lookup"><span data-stu-id="67592-167">This means that when doing operation scheduling, the operations are also split into jobs, although these will not be persisted in the database.</span></span>

<span data-ttu-id="67592-168">U každé úlohy také definujeme určitý požadavek na kapacitu úlohy (požadovaný počet sekund).</span><span class="sxs-lookup"><span data-stu-id="67592-168">For each job, we will also define what the job capacity requirement is (the number of seconds required).</span></span> <span data-ttu-id="67592-169">V závislosti na tom, jak byly definovány požadavky na zdroje, můžeme také pro každou úlohu odeslat seznam všech potenciálních použitelných zdrojů, které by úloha mohla využít, a jaké jsou požadavky na kapacitu pro jednotlivé zdroje.</span><span class="sxs-lookup"><span data-stu-id="67592-169">Depending on how the resource requirements have been defined, we may also, for each job, send a list of all the potential applicable resources that the job could run on and what the capacity requirement is for that specific resource.</span></span> <span data-ttu-id="67592-170">I když se seznam použitelných zdrojů odesílá při vytváření modelu, modul bude muset i tak zajistit, aby přiřazení prostředků bylo skutečně platné po celou dobu trvání úlohy.</span><span class="sxs-lookup"><span data-stu-id="67592-170">Even though the list of applicable resources is sent when building the model, the engine will still need to ensure that the resource assignment is actually valid for the entire job duration.</span></span>

## <a name="scheduling-engine-internals"></a><span data-ttu-id="67592-171">Vnitřní části plánovacího modulu</span><span class="sxs-lookup"><span data-stu-id="67592-171">Scheduling engine internals</span></span>

### <a name="scheduling-engine-interface"></a><span data-ttu-id="67592-172">Rozhraní plánovacího modulu</span><span class="sxs-lookup"><span data-stu-id="67592-172">Scheduling engine interface</span></span>

<span data-ttu-id="67592-173">Chcete-li získat představu o tom, jak modul funguje interně, je nejlepší podívat se na funkčnost, kterou externě vystavuje.</span><span class="sxs-lookup"><span data-stu-id="67592-173">To get an idea of how the engine works internally, it is best to look at the functionality it exposes externally.</span></span> <span data-ttu-id="67592-174">Hlavním rozhraním v X++ je `WrkCtrSchedulerEngineInterface`.</span><span class="sxs-lookup"><span data-stu-id="67592-174">In X++, the main interface is `WrkCtrSchedulerEngineInterface`.</span></span> <span data-ttu-id="67592-175">Zahrnuje metody popsané v následujících pododdílech.</span><span class="sxs-lookup"><span data-stu-id="67592-175">It has the methods described in the following subsections.</span></span>

#### <a name="general-engine"></a><span data-ttu-id="67592-176">Obecný modul</span><span class="sxs-lookup"><span data-stu-id="67592-176">General engine</span></span>

| <span data-ttu-id="67592-177">**Metoda**</span><span class="sxs-lookup"><span data-stu-id="67592-177">**Method**</span></span> | <span data-ttu-id="67592-178">**Účel**</span><span class="sxs-lookup"><span data-stu-id="67592-178">**Purpose**</span></span> |
| --- | --- |
| `run` | <span data-ttu-id="67592-179">Plánuje všechny načtené úlohy a vrací kód chyby.</span><span class="sxs-lookup"><span data-stu-id="67592-179">Schedules all loaded jobs and returns the error code.</span></span> |
| `getJobSchedulingSequenceResult` | <span data-ttu-id="67592-180">Získá výsledek plánování a první chybovou úlohu v sekvenci identifikované konkrétní úlohou.</span><span class="sxs-lookup"><span data-stu-id="67592-180">Gets the scheduling result and the first error job for the sequence identified by a specific job.</span></span> |
| `validateJobCapacityReservations` | <span data-ttu-id="67592-181">Ověří rezervace kapacity pro všechny úlohy uložené modulem.</span><span class="sxs-lookup"><span data-stu-id="67592-181">Validates the capacity reservations for all the jobs stored by the engine.</span></span> |
| `setReservationsTimeStamp` | <span data-ttu-id="67592-182">Odešle časové razítko do sady modulu u všech nových rezervací kapacity pro naplánované úlohy v mezipaměti modulu.</span><span class="sxs-lookup"><span data-stu-id="67592-182">Sends a timestamp to the engine set on all new capacity reservations for the scheduled jobs in the cache of the engine.</span></span> |
| `addPropertyToGroupAggregation` | <span data-ttu-id="67592-183">Přidá předponu vlastnosti do sady vlastností použité při agregaci kapacity.</span><span class="sxs-lookup"><span data-stu-id="67592-183">Adds a property prefix to the set of properties used when capacity is aggregated.</span></span> |
| `addResource` | <span data-ttu-id="67592-184">Přidá zdroj do fondu zdrojů plánovacího modulu.</span><span class="sxs-lookup"><span data-stu-id="67592-184">Adds a resource to the scheduling engine resource pool.</span></span> |
| `addResourceGroup` | <span data-ttu-id="67592-185">Přidá skupinu zdrojů do fondu skupin zdrojů plánovacího modulu.</span><span class="sxs-lookup"><span data-stu-id="67592-185">Adds a resource group to the scheduling engine resource group pool.</span></span> |
| `addResourceGroupMembership` | <span data-ttu-id="67592-186">Přidá zdroj jako člen do skupiny zdrojů.</span><span class="sxs-lookup"><span data-stu-id="67592-186">Adds a resource as a member to a resource group.</span></span> |
| `addOptimizationGoal` | <span data-ttu-id="67592-187">Přidá cíl optimalizace plánování (doba trvání nebo priorita).</span><span class="sxs-lookup"><span data-stu-id="67592-187">Adds a scheduling optimization goal (duration or priority).</span></span> |

#### <a name="individual-jobs"></a><span data-ttu-id="67592-188">Jednotlivé úlohy</span><span class="sxs-lookup"><span data-stu-id="67592-188">Individual jobs</span></span>

| <span data-ttu-id="67592-189">**Metoda**</span><span class="sxs-lookup"><span data-stu-id="67592-189">**Method**</span></span> | <span data-ttu-id="67592-190">**Účel**</span><span class="sxs-lookup"><span data-stu-id="67592-190">**Purpose**</span></span> |
| --- | --- |
| `addJobInfo` | <span data-ttu-id="67592-191">Přidá záznam s informacemi o úloze, který informuje modul o úloze, která by měla být naplánována.</span><span class="sxs-lookup"><span data-stu-id="67592-191">Adds a job information record that informs the engine about a job that should be scheduled.</span></span> |
| `addConstraintJobEndsAt` | <span data-ttu-id="67592-192">Přidá omezení, že by úloha měla skončit k určitému datu a v určitém čase.</span><span class="sxs-lookup"><span data-stu-id="67592-192">Adds a constraint that a job should end at a specified date and time.</span></span> |
| `addConstraintJobStartsAt` | <span data-ttu-id="67592-193">Přidá omezení, že by úloha měla začít k určitému datu a v určitém čase.</span><span class="sxs-lookup"><span data-stu-id="67592-193">Adds a constraint that a job should start at a specified date and time.</span></span> |
| `addConstraintMaxJobDays` | <span data-ttu-id="67592-194">Definuje omezení, že se může úloha může protáhnout na zadaný maximální počet dní.</span><span class="sxs-lookup"><span data-stu-id="67592-194">Defines the constraint that a job can span over a specified maximal number of days.</span></span> |
| `addConstraintResourceRequirement` | <span data-ttu-id="67592-195">Přidá omezení, že úloha musí být naplánována na konkrétním zdroji.</span><span class="sxs-lookup"><span data-stu-id="67592-195">Adds the constraint that the job must be scheduled on a specific resource.</span></span> |
| `addJobBindPriority` | <span data-ttu-id="67592-196">Přidá prioritu propojení úlohy pro pár (úloha, úroveň omezení).</span><span class="sxs-lookup"><span data-stu-id="67592-196">Adds a job bind priority for a (job, constraint level) pair.</span></span> <span data-ttu-id="67592-197">Vyšší hodnota priority znamená, že proměnné úlohy budou propojeny dříve.</span><span class="sxs-lookup"><span data-stu-id="67592-197">A higher priority value means the job variables will be bound earlier.</span></span> <span data-ttu-id="67592-198">Úloha bude zpracována před úlohami s nižší prioritou ve stejné posloupnosti.</span><span class="sxs-lookup"><span data-stu-id="67592-198">The job will be processed before jobs with lower priority value in the same sequence.</span></span> |
| `addJobCapacity` | <span data-ttu-id="67592-199">Přidá informace o vytížení kapacity u úlohy (například požadovaná doba běhu úlohy) – bez ohledu na to, na kterém zdroji úloha běží.</span><span class="sxs-lookup"><span data-stu-id="67592-199">Adds capacity load information for a job (like the required job runtime) independent on which resource the job runs on.</span></span> |
| `addJobResourceCapacity` | <span data-ttu-id="67592-200">Přidá zdroj do sady zdrojů, které lze použít k provedení úlohy, a uvádí požadovanou kapacitu při spuštění na tomto zdroji.</span><span class="sxs-lookup"><span data-stu-id="67592-200">Adds a resource to the set of resources that may be used to perform a job, and states the capacity required when running on that resource.</span></span> |
| `addJobGoal` | <span data-ttu-id="67592-201">Přidá informace o cíli úlohy pro konkrétní úroveň omezení (nejdřívější čas dokončení nebo nejzazší čas zahájení).</span><span class="sxs-lookup"><span data-stu-id="67592-201">Adds job goal information for a specific constraint level (earliest end time or latest start time).</span></span> |
| `addJobResourcePriority` | <span data-ttu-id="67592-202">Přidá prioritu, která se má použít, když je úloha naplánována na zdroji.</span><span class="sxs-lookup"><span data-stu-id="67592-202">Adds the priority to use when a job is scheduled on a resource.</span></span> |
| `addJobResourceRuntime` | <span data-ttu-id="67592-203">Určuje čas úlohy, který je závislý na zdroji, na kterém bude úloha naplánována.</span><span class="sxs-lookup"><span data-stu-id="67592-203">Specifies a job time that is dependent of the resource the job will be scheduled on.</span></span> |
| `addJobRuntime` | <span data-ttu-id="67592-204">Určuje čas úlohy, který je nezávislý na zdroji, na kterém bude úloha naplánována.</span><span class="sxs-lookup"><span data-stu-id="67592-204">Specifies a job time that is independent of the resource on which the job will be scheduled.</span></span> |
| `scheduleJobOnResourceGroup` | <span data-ttu-id="67592-205">Označí úlohu pro plánování na úrovni skupiny zdrojů.</span><span class="sxs-lookup"><span data-stu-id="67592-205">Marks a job for scheduling on the resource group level.</span></span> |
| `setJobResourcePreemptionAllowed` | <span data-ttu-id="67592-206">Určuje, zda je povolena preference pro úlohu u zdroje (pokud je modulu povoleno naplánovat úlohu v nenavazujících kapacitních slotech).</span><span class="sxs-lookup"><span data-stu-id="67592-206">Sets whether preemption is allowed for a job on a resource (if engine is allowed to schedule the job in noncontiguous capacity slots).</span></span> |
| `setRequiredNumberOfResources` | <span data-ttu-id="67592-207">Nastaví počet zdrojů potřebných k naplánování úlohy (jen pro plánování operací).</span><span class="sxs-lookup"><span data-stu-id="67592-207">Sets the number of resources required to schedule a job (only for operations scheduling).</span></span> |

#### <a name="constraints-between-jobs"></a><span data-ttu-id="67592-208">Omezení mezi úlohami</span><span class="sxs-lookup"><span data-stu-id="67592-208">Constraints between jobs</span></span>

| <span data-ttu-id="67592-209">**Metoda**</span><span class="sxs-lookup"><span data-stu-id="67592-209">**Method**</span></span> | <span data-ttu-id="67592-210">**Účel**</span><span class="sxs-lookup"><span data-stu-id="67592-210">**Purpose**</span></span> |
| --- | --- |
| `addJobLink` | <span data-ttu-id="67592-211">Přidá propojení (například finish\>start) mezi dvěma úlohami.</span><span class="sxs-lookup"><span data-stu-id="67592-211">Adds a link (such as finish\>start) between two jobs.</span></span> |
| `addConstraintEndsDelayed` | <span data-ttu-id="67592-212">Definuje omezení, že úloha nemůže skončit před dokončením jiné úlohy (plus nějaká doba zpoždění).</span><span class="sxs-lookup"><span data-stu-id="67592-212">Defines the constraint that a job cannot end before another jobs end plus some delay time.</span></span> |
| `addConstraintJobListWorkingTimeIntersect` | <span data-ttu-id="67592-213">Přidá omezení, že se kapacitní sloty rezervované pro úlohy musí nacházet v překrývající se pracovní době obou zdrojů používaných úlohami.</span><span class="sxs-lookup"><span data-stu-id="67592-213">Adds a constraint that the capacity slots reserved for the jobs must be on the intersecting working times for the two resources used by the jobs.</span></span> |
| `addConstraintJobOverlap` | <span data-ttu-id="67592-214">Přidá omezení, které definuje posloupnost úloh, když lze dané množství položky přesouvat mezi dvěma zdroji v době, kdy první zdroj stále není dokončen – aby mohl druhý zdroj začít se zpracováním.</span><span class="sxs-lookup"><span data-stu-id="67592-214">Add a constraint that defines how jobs are sequenced when a given quantity of an item can be moved between two resources while the first resource is still not finished processing, so that the second resource can start processing.</span></span> |
| `addConstraintNotOnSameResource` | <span data-ttu-id="67592-215">Přidá omezení, že by dvě úlohy neměly být naplánovány na stejném zdroji.</span><span class="sxs-lookup"><span data-stu-id="67592-215">Adds a constraint that two jobs should not be scheduled on the same resource.</span></span> |
| `addConstraintOnSameResource` | <span data-ttu-id="67592-216">Přidá omezení, že dvě úlohy musí být naplánovány na stejném zdroji.</span><span class="sxs-lookup"><span data-stu-id="67592-216">Adds a constraint that two jobs must be using the same resource.</span></span> |
| `addJobSameReservations` | <span data-ttu-id="67592-217">Přidá omezení, že úloha musí nakonec mít rezervace kapacity pro stejné časové sloty jako primární úloha.</span><span class="sxs-lookup"><span data-stu-id="67592-217">Adds a constraint that a job must end up having capacity reservations for the same time slots as the primary job.</span></span> |
| `setPrimaryParallelJob` | <span data-ttu-id="67592-218">Přidá informaci o tom, která úloha je primární v sadě paralelních úloh.</span><span class="sxs-lookup"><span data-stu-id="67592-218">Adds information about what job is the primary job in a set of parallel jobs.</span></span> |

### <a name="solver"></a><span data-ttu-id="67592-219">Řešitel</span><span class="sxs-lookup"><span data-stu-id="67592-219">Solver</span></span>

<span data-ttu-id="67592-220">Samotný modul je v podstatě specializovaný řešitel omezení s přidanou vlastní heuristikou.</span><span class="sxs-lookup"><span data-stu-id="67592-220">The engine itself is essentially a specialized constraint solver with custom heuristics added.</span></span> <span data-ttu-id="67592-221">Tento řešitel je založen na dvou hlavních prvcích: proměnných a omezeních.</span><span class="sxs-lookup"><span data-stu-id="67592-221">The solver is based on two main elements: variables and constraints.</span></span>

#### <a name="variable"></a><span data-ttu-id="67592-222">Proměnná</span><span class="sxs-lookup"><span data-stu-id="67592-222">Variable</span></span>

<span data-ttu-id="67592-223">Proměnná představuje sadu možných hodnot.</span><span class="sxs-lookup"><span data-stu-id="67592-223">A variable represents a domain of possible values.</span></span> <span data-ttu-id="67592-224">Plánovací modul má dva typy proměnných:</span><span class="sxs-lookup"><span data-stu-id="67592-224">Scheduling engine has two types of variables:</span></span>

- <span data-ttu-id="67592-225">**Proměnná DateTime** – Zahrnuje sadu všech dat a časů a dá se omezit přesunutím dolní a horní hranice pro čas blíže k sobě.</span><span class="sxs-lookup"><span data-stu-id="67592-225">**DateTime variable** - Has a domain of all dates and times, and the domain can be restricted by moving the lower and upper bound for the time of the variable closer to each other.</span></span>
- <span data-ttu-id="67592-226">**Proměnná Zdroj** – Zahrnuje sadu použitelných zdrojů a dá se omezit vyřazením zdrojů ze seznamu.</span><span class="sxs-lookup"><span data-stu-id="67592-226">**Resource variable** - Has a domain of applicable resources, and the domain can be restricted by eliminating resources from the list.</span></span>

#### <a name="constraint"></a><span data-ttu-id="67592-227">Omezení</span><span class="sxs-lookup"><span data-stu-id="67592-227">Constraint</span></span>

<span data-ttu-id="67592-228">Omezení funguje tak, že omezí sady u proměnných, ale také závisí na jiných proměnných, takže se aktivuje při změně proměnných.</span><span class="sxs-lookup"><span data-stu-id="67592-228">A constraint acts on variables by restricting their domains, but it also depends on variables so it gets activated when variables change.</span></span> <span data-ttu-id="67592-229">Proces „šíření omezení“ představuje vykonání hlavní funkce omezení, a je-li úspěšný, provede zpětné hlášení do hlavní logiky.</span><span class="sxs-lookup"><span data-stu-id="67592-229">The process of "constraint propagation" is when a constraint performs its main function and reports back to the main logic if successful.</span></span>

<span data-ttu-id="67592-230">Proměnná se považuje za vázanou, když ji nelze dále omezovat, což pro proměnnou DateTime znamená, že horní a dolní mez je stejná, a pro proměnnou Resource, že má jen jeden použitelný zdroj.</span><span class="sxs-lookup"><span data-stu-id="67592-230">A variable is considered bound when it can't be restricted further, which for DateTime variable means that upper and lower bound is the same, and for the Resource variable that it has only a single applicable resource.</span></span> <span data-ttu-id="67592-231">Když jsou všechny proměnné vázané, najde se řešení.</span><span class="sxs-lookup"><span data-stu-id="67592-231">When all variables are bound, a solution is found.</span></span>

### <a name="constraint-levels"></a><span data-ttu-id="67592-232">Úrovně omezení</span><span class="sxs-lookup"><span data-stu-id="67592-232">Constraint levels</span></span>

<span data-ttu-id="67592-233">Když je plánování prováděno jako součást fáze pokrytí plánování požadavků na materiál (MRP), budou zakázky naplánovány zpětně od data požadavku.</span><span class="sxs-lookup"><span data-stu-id="67592-233">When scheduling is executed as part of the material requirements planning (MRP) coverage phase, the orders will be scheduled backward from requirement date.</span></span> <span data-ttu-id="67592-234">Pokud však není možné najít plán, který začíná dnes nebo později a končí před požadovaným datem, změní se směr plánování na ode dneška.</span><span class="sxs-lookup"><span data-stu-id="67592-234">However, if it is not possible to find a schedule that starts today or later and ends before the requirement date, then the scheduling direction will change to forward from today.</span></span>

<span data-ttu-id="67592-235">Toto hlavní obchodní pravidlo se řeší uspořádáním omezení v úrovních.</span><span class="sxs-lookup"><span data-stu-id="67592-235">This main business rule is handled by organizing the constraints in levels.</span></span> <span data-ttu-id="67592-236">V případě, že se při použití omezení na nejvyšší úrovni nenajde žádné řešení, všechna omezení na této úrovni se zruší a vyzkouší se nižší úroveň.</span><span class="sxs-lookup"><span data-stu-id="67592-236">If no solution is found when using the constraints on the highest level, then the constraints on that level are all dropped, and the lower level is tried.</span></span> <span data-ttu-id="67592-237">V praxi to znamená, že pro zpětné plánování bude model obsahovat úroveň 1 s cíli úloh, které odpovídají nejpozdějšímu času zahájení, aby se vyhovělo maximálnímu omezení koncového času (požadovanému datu), a úroveň 0 s cíli úloh, které odpovídají nejčasnějšímu koncovému času s tím, že platí omezení minimálního počátečního času, a to na dnešek.</span><span class="sxs-lookup"><span data-stu-id="67592-237">In praxis, this means that for backward scheduling the model will contain a level 1 with job goals of latest start time given a maximum end time constraint (the requirement date), and a level 0 with job goals of earliest end time and given a minimum start time constraint of today.</span></span>

### <a name="algorithm"></a><span data-ttu-id="67592-238">Algoritmus</span><span class="sxs-lookup"><span data-stu-id="67592-238">Algorithm</span></span>

<span data-ttu-id="67592-239">Hlavní kroky algoritmu modulu:</span><span class="sxs-lookup"><span data-stu-id="67592-239">The main steps of the engine algorithm are:</span></span>

1. <span data-ttu-id="67592-240">Najde posloupnosti (řetězce úloh), které lze vyřešit samostatně.</span><span class="sxs-lookup"><span data-stu-id="67592-240">Find sequences (job chains) which can be solved separately.</span></span>
1. <span data-ttu-id="67592-241">Pokusí se najít počáteční řešení pro sekvenci s nejvyšší úrovní omezení.</span><span class="sxs-lookup"><span data-stu-id="67592-241">Try to find an initial solution for the sequence for the highest constraint level.</span></span>
    1. <span data-ttu-id="67592-242">Seřadí úlohy v posloupnosti podle cíle a priorit úloh, aby bylo možné najít počáteční úlohu.</span><span class="sxs-lookup"><span data-stu-id="67592-242">Sort the jobs in the sequence based on job goal and priorities, such that a start job can be found.</span></span>
    1. <span data-ttu-id="67592-243">Vytvoří cyklus úloh v následující posloupnosti:</span><span class="sxs-lookup"><span data-stu-id="67592-243">Loop the jobs in the following sequence:</span></span>
        1. <span data-ttu-id="67592-244">Najde všechna omezení, která je třeba rozšířit, a spustí šíření.</span><span class="sxs-lookup"><span data-stu-id="67592-244">Find all constraints that need to be propagated and run propagation.</span></span>
        1. <span data-ttu-id="67592-245">Pokud byly všechny proměnné pro úlohu svázány, našlo se řešení pro tuto úlohu.</span><span class="sxs-lookup"><span data-stu-id="67592-245">If all variables for the job have been bound, then a solution for that job has been found.</span></span>
        1. <span data-ttu-id="67592-246">Pokud jednu z proměnných nelze svázat bez porušení omezení, pak vrátí zpět vazbu proměnné, zkusí jinou hodnotu v sadě (pro proměnnou zdroje) a znovu zahájí šíření omezení.</span><span class="sxs-lookup"><span data-stu-id="67592-246">If one of the variables could not be bound without violating the constraints, then roll back the variable binding, try a different value in the domain (for resource variable), and rerun the constraint propagation.</span></span>
1. <span data-ttu-id="67592-247">Pokud nebylo nalezeno žádné řešení, budou odstraněna všechna omezení na aktuální úrovni omezení, úroveň omezení se sníží (pokud jsou k dispozici nižší úrovně) a hledání řešení se zopakuje s novou sadou omezení.</span><span class="sxs-lookup"><span data-stu-id="67592-247">If no solution was found, then all constraints on the current constraint level is removed, the constraint level lowered (if any lower levels are available) and solution search retried with the new set of constraint.</span></span>
1. <span data-ttu-id="67592-248">Pokud bylo nalezeno proveditelné řešení, je zahájena fáze optimalizace, což je snaha hledat lepší řešení, dokud nebude dosažen časový limit optimalizace nebo dokud nebudou vyčerpány všechny kombinace zdrojů.</span><span class="sxs-lookup"><span data-stu-id="67592-248">If a feasible solution was found, then the optimization phase is started, which will try to find a better solution until the optimization timeout is reached or all resource combinations have been exhausted.</span></span>

<span data-ttu-id="67592-249">Řešitel omezení nemá povědomí o specificích plánovacího algoritmu.</span><span class="sxs-lookup"><span data-stu-id="67592-249">The constraint solver is not aware of the specifics of the scheduling algorithm.</span></span> <span data-ttu-id="67592-250">Celé „kouzlo“ spočívá v definici a kombinaci různých omezení.</span><span class="sxs-lookup"><span data-stu-id="67592-250">It is in the definition and combination of the various constraints that the "magic" happens.</span></span>

### <a name="determining-working-times"></a><span data-ttu-id="67592-251">Určení pracovních časů</span><span class="sxs-lookup"><span data-stu-id="67592-251">Determining working times</span></span>

<span data-ttu-id="67592-252">Velká část (interních) omezení v modulu řídí pracovní dobu a kapacitu zdroje.</span><span class="sxs-lookup"><span data-stu-id="67592-252">A large part of the (internal) constraints in the engine controls the working time and capacity of a resource.</span></span> <span data-ttu-id="67592-253">Úloha v podstatě spočívá v procházení slotů pracovní doby pro zdroj z daného bodu v daném směru a nalezení dostatečně dlouhého intervalu, do kterého se vejde požadovaná kapacita (čas) úloh.</span><span class="sxs-lookup"><span data-stu-id="67592-253">Essentially, the task is to traverse the working time slots for a resource from a given point in a given direction, and find a long enough interval in which the jobs required capacity (time) can fit.</span></span>

<span data-ttu-id="67592-254">K tomu modul potřebuje znát pracovní dobu zdroje.</span><span class="sxs-lookup"><span data-stu-id="67592-254">To do this, the engine needs to know the working times of a resource.</span></span> <span data-ttu-id="67592-255">Oproti hlavním datům modelu se pracovní doby *načítají v líném režimu* , což znamená, že se do modulu načítají podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="67592-255">Opposite to the main model data, the working times are *lazy loaded* , meaning that they are loaded into the engine as needed.</span></span> <span data-ttu-id="67592-256">Důvodem pro tento přístup je, že v Supply Chain Managementu často existují pracovní doby pro kalendář na velmi dlouhé období a obvykle existuje mnoho kalendářů, takže data by byla pro předběžné načtení poměrně velká.</span><span class="sxs-lookup"><span data-stu-id="67592-256">The reason for this approach is that there are often working times in Supply Chain Management for a calendar for a very long period and typically many calendars exist so the data would be quite large to pre-load.</span></span>

<span data-ttu-id="67592-257">Informace z kalendáře si modul žádá v blocích vyvoláním metody třídy X++ `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span><span class="sxs-lookup"><span data-stu-id="67592-257">Calendar information is requested by the engine in chunks, by invoking the X++ class method `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span></span> <span data-ttu-id="67592-258">Požadavek je pak na konkrétní ID kalendáře v konkrétním časovém intervalu.</span><span class="sxs-lookup"><span data-stu-id="67592-258">The request is for a specific calendar ID in a specific time interval.</span></span> <span data-ttu-id="67592-259">V závislosti na stavu mezipaměti serveru v Supply Chain Managementu může každý z těchto požadavků vést k několika voláním databáze, což trvá dlouho (relativně k čistému výpočetnímu času).</span><span class="sxs-lookup"><span data-stu-id="67592-259">Depending on the state of the server cache in Supply Chain Management, each of these requests could end up in several database calls, which takes a long time (relative to the pure computational time).</span></span> <span data-ttu-id="67592-260">Pokud navíc kalendář obsahuje velmi propracované definice pracovní doby s mnoha intervaly za den, prodlouží se čas, který načítání zabere.</span><span class="sxs-lookup"><span data-stu-id="67592-260">Also, if the calendar contains very elaborate working time definitions with many working time intervals per day, this adds to the time the loading takes.</span></span>

<span data-ttu-id="67592-261">Když se do plánovacího modulu načtou data o pracovní době, tato se udrží v interní mezipaměti pro konkrétní kalendář, což znamená, že pokud jakékoli jiné úlohy nebo zdroje používají stejný kalendář, lze další vyhledávání rychle provést z této paměti.</span><span class="sxs-lookup"><span data-stu-id="67592-261">When the working time data is loaded in the scheduling engine, this is retained in its internal cache for the specific calendar, meaning that if any other jobs or resources are using the same calendar then the next lookups can be performed quickly from memory.</span></span> <span data-ttu-id="67592-262">Jednou z běžných příčin špatného výkonu je, že je pro každý zdroj použito samostatné ID kalendáře, protože pro každý kalendář bude poté nutné požadovat data, přestože obsah kalendářů může být stejný.</span><span class="sxs-lookup"><span data-stu-id="67592-262">One common cause of bad performance is if a separate calendar ID is used for each resource, because data will then need to be requested for each calendar, even though the content of the calendars might be the same.</span></span>

### <a name="finite-capacity"></a><span data-ttu-id="67592-263">Omezená kapacita</span><span class="sxs-lookup"><span data-stu-id="67592-263">Finite capacity</span></span>

<span data-ttu-id="67592-264">Při použití omezené kapacity se pracovní časové intervaly z kalendáře rozdělí a sníží na základě stávajících rezervací kapacity.</span><span class="sxs-lookup"><span data-stu-id="67592-264">When using finite capacity, the working time slots from the calendar are split and reduced based on the existing capacity reservations.</span></span> <span data-ttu-id="67592-265">Tyto rezervace se také načítají prostřednictvím stejné třídy `WrkCtrSchedulingInteropDataProvider` jako kalendáře, ale tentokrát se používá metoda `getCapacityReservations`.</span><span class="sxs-lookup"><span data-stu-id="67592-265">These reservations are also fetched through the same `WrkCtrSchedulingInteropDataProvider` class as the calendars, but instead use the method `getCapacityReservations`.</span></span> <span data-ttu-id="67592-266">Během hlavního plánování se berou v úvahu rezervace konkrétního hlavního plánu, a pokud jsou povoleny na stránce **Parametry hlavního plánování** , zahrnou se i rezervace z potvrzených výrobních zakázek.</span><span class="sxs-lookup"><span data-stu-id="67592-266">When scheduling during master planning, the reservations for the specific master plan are considered and if enabled on the **Master planning parameters** page, the reservations from firmed production orders are also included.</span></span> <span data-ttu-id="67592-267">Podobně také při plánování výrobní zakázky existuje možnost zahrnout rezervace ze stávajících plánovaných objednávek, i když to není tak běžné jako naopak.</span><span class="sxs-lookup"><span data-stu-id="67592-267">Similarly, when scheduling a production order, it is also an option to include reservations from existing planned orders, although this is not as common as the other way around.</span></span>

<span data-ttu-id="67592-268">Použití omezené kapacity způsobí, že plánování bude trvat déle, a to z několika důvodů:</span><span class="sxs-lookup"><span data-stu-id="67592-268">Using finite capacity will cause scheduling to take longer due to several reasons:</span></span>

- <span data-ttu-id="67592-269">Načítání informací o kapacitě z databáze je pomalá operace a ukládání informací o kapacitě do mezipaměti na straně serveru obvykle není tak efektivní jako u pracovních časů, protože se nesdílí mezi zdroji, což obvykle platí pro kalendáře.</span><span class="sxs-lookup"><span data-stu-id="67592-269">Fetching the capacity information from database is a slow operation and the server-side caching of capacity information is typically not as good as for working times because they are not shared among resources like calendars typically are.</span></span>
- <span data-ttu-id="67592-270">Počet slotů pracovní doby, které se mají procházet, se zvyšuje kvůli jejich rozdělení a obvykle musí být prozkoumány sloty pro delší časové období, než bude možné najít řešení.</span><span class="sxs-lookup"><span data-stu-id="67592-270">The number of working time slots to traverse increases due to the splits, and slots for a longer time period must typically be investigated before a solution can be found.</span></span>
- <span data-ttu-id="67592-271">Po dokončení plánování je třeba provést kontrolu konfliktních rezervací (podrobnosti viz část Paralelní spuštění více plánovacích modulů).</span><span class="sxs-lookup"><span data-stu-id="67592-271">After the scheduling is complete, a check for conflicting reservations must be performed (see the "Running scheduling engines in parallel" section for details).</span></span>

### <a name="examining-the-resource-combinations"></a><span data-ttu-id="67592-272">Zkoumání kombinací zdrojů</span><span class="sxs-lookup"><span data-stu-id="67592-272">Examining the resource combinations</span></span>

<span data-ttu-id="67592-273">Pokud sekvence úloh obsahuje pouze standardní propojení `FinishStart`, což znamená, že tvoří jednoduchý řetězec bez větví, lze optimálního výsledku (z pohledu jedné zakázky, nikoli napříč zakázkami) dosáhnout nalezením nejlepšího řešení pro první úlohu a následným přechodem k nalezení nejlepšího řešení pro další úlohu.</span><span class="sxs-lookup"><span data-stu-id="67592-273">If the job sequence only contains the standard `FinishStart` links, meaning it forms a simple chain without any branches, an optimal result (seen from the single order, not across orders) can be achieved by finding the best solution for the first job and then moving on to find the best solution for the next job.</span></span> <span data-ttu-id="67592-274">Nejlepším řešením úlohy je nalezení zdroje, který se dokáže co nejblíže dostat k cílovému počátečnímu a koncovému datu úlohy (při dopředném plánování to znamená zajištění co nejdřívějšího koncového data úlohy), při současném respektování omezení.</span><span class="sxs-lookup"><span data-stu-id="67592-274">The best solution for a job means finding the resource that can get the from and to date of the job closest to the job goal (in forward scheduling this means getting the end date of the job as early as possible) while still respecting the constraints.</span></span>

<span data-ttu-id="67592-275">Pokud existují paralelní úlohy, hledání řešení může s sebou nést zkoumání různých kombinací zdrojů.</span><span class="sxs-lookup"><span data-stu-id="67592-275">When there are parallel jobs, finding a solution may involve examining different combinations of resources.</span></span> <span data-ttu-id="67592-276">Počet možných kombinací zdrojů je součinem počtu použitelných zdrojů pro připojené paralelní úlohy.</span><span class="sxs-lookup"><span data-stu-id="67592-276">The number of possible resource combinations is the product of the number of applicable resources for the connected parallel jobs.</span></span> <span data-ttu-id="67592-277">Zejména při zpětném plánování zakázky od požadovaného data může logice chvíli trvat, než zjistí, že neexistuje žádné řešení problému, aby paralelní úlohy nespadaly před dnešní datum, protože bude nutné zkontrolovat všechny kombinace vzhledem k tomu, že by mohly existovat nějaké zdroje, které by měly vyšší účinnost, nebo jiný kalendář, který by mohl přinést výsledek.</span><span class="sxs-lookup"><span data-stu-id="67592-277">Especially when scheduling an order backwards from a requirement date, it can take quite a while for the logic to realize that there is no solution to the problem that will make the parallel jobs fit before today's date, as it will need to check all the combinations because there could be some resources that had a higher efficiency or a different calendar that might give a result.</span></span> <span data-ttu-id="67592-278">To znamená, že pokud nebyl nastaven žádný časový limit, poběží dlouho, než změní směr na vpřed.</span><span class="sxs-lookup"><span data-stu-id="67592-278">This means that if no timeout limit has been set it will run for a long time before changing the direction to forward.</span></span>

<span data-ttu-id="67592-279">Tato kombinatorická logika také znamená, že přidání více použitelných zdrojů může způsobit pomalejší chod modulu.</span><span class="sxs-lookup"><span data-stu-id="67592-279">This combinatorial logic also means that adding more applicable resources may make the engine run slower.</span></span> <span data-ttu-id="67592-280">Pokud dojde k problémům s výkonem při paralelních operacích a plánování s neomezenou kapacitou, lze to částečně vyřešit tak, že návrhář trasy přijme rozhodnutí o tom, který prostředek by měl být použit, a poté prostředek přiřadit přímo k operaci (protože modul ve většině případů vždy nakonec vybere stejný zdroj, takže konečný výsledek bude stejný).</span><span class="sxs-lookup"><span data-stu-id="67592-280">If performance problems occur when having parallel operations and scheduling with infinite capacity, it can partly be fixed by having the route designer take a decision on which resource should be used and then assign the resource directly on the operation (because the engine in most cases will always end up picking the same resource, so the end result will be the same).</span></span>

### <a name="hard-links"></a><span data-ttu-id="67592-281">Pevná propojení</span><span class="sxs-lookup"><span data-stu-id="67592-281">Hard links</span></span>

<span data-ttu-id="67592-282">Nastavením pevného typu propojení mezi dvěma úlohami zajistíte, že mezi dokončením jedné úlohy a začátkem další nebude žádná časová prodleva.</span><span class="sxs-lookup"><span data-stu-id="67592-282">Setting the link type between two jobs to hard, ensures that there is no time gap between the finish of one job and the start of the next one.</span></span> <span data-ttu-id="67592-283">To může být velmi užitečné v určitých scénářích, třeba když se v jedné úloze zahřívá kov a poté se zpracovává v další úloze, přičemž není žádoucí nechat kov mezi úlohami vychladnout.</span><span class="sxs-lookup"><span data-stu-id="67592-283">This can be very useful in scenarios like when metal is heated in one job and then processed in the next job, where it is not desirable to have the metal cool down in between.</span></span>

<span data-ttu-id="67592-284">Se standardními měkkými propojeními a plánováním dopředu platí, že pokud trasa tvoří jednoduchý řetězec bez větví, lze dosáhnout výsledku nalezením řešení pro první úlohu, které splňuje svá vlastní omezení, a poté pokračováním v řetězci šířením času dokončení z předchozí úlohy na další.</span><span class="sxs-lookup"><span data-stu-id="67592-284">With standard soft links and forward scheduling, if the route forms a simple chain without any branches, a result can be achieved by finding a solution for the first job that satisfies its own constraints and then moving on through the chain propagating the end time from the previous job to the next job.</span></span> <span data-ttu-id="67592-285">Pokud aktuální úloha nemůže najít žádnou kapacitu, počáteční čas pro ni se posune dále, bez následků pro předchozí úlohy, čímž by potenciálně mohly vznikat prodlevy mezi úlohami.</span><span class="sxs-lookup"><span data-stu-id="67592-285">If the current job can't find any capacity, the start time for it will be moved out further, without any consequence for the previous jobs potentially creating gaps between the jobs.</span></span> <span data-ttu-id="67592-286">Avšak u pevných propojení (zejména ve spojení s omezenou kapacitou) pro stejný scénář bude skutečnost, že jedna úloha později v řetězci nemůže najít kapacitu, znamenat, že všechny předchozí naplánované úlohy budou muset být jedna po druhé „přetaženy“, a tím několikrát přeplánovány.</span><span class="sxs-lookup"><span data-stu-id="67592-286">However with hard links (especially in connection with finite capacity) for the same scenario, the fact that one job later in the chain cannot find capacity, will mean that all previous scheduled jobs will have to be "dragged" along one by one and thereby rescheduled a number of times.</span></span> <span data-ttu-id="67592-287">Zejména ve scénářích s vysokým zatížením více zdrojů můžou pevná propojení způsobit řetězovou reakci, při které se úlohy budou navzájem ovlivňovat a bude se muset provést řada iterací, než se výsledek stabilizuje do proveditelného plánu.</span><span class="sxs-lookup"><span data-stu-id="67592-287">Especially in scenarios with high load for multiple resources, the hard links can cause a chain reaction where the jobs will affect each other and a number of iterations will have to be performed before the result stabilizes into a feasible schedule.</span></span>

## <a name="running-scheduling-engines-in-parallel"></a><span data-ttu-id="67592-288">Paralelní spuštění plánovacích modulů</span><span class="sxs-lookup"><span data-stu-id="67592-288">Running scheduling engines in parallel</span></span>

<span data-ttu-id="67592-289">Když provádíte plánování jako součást běhu hlavního plánování, kde se používají podpůrná vlákna, může úlohy plánování výrobní zakázky vybírat také každé z těchto vláken.</span><span class="sxs-lookup"><span data-stu-id="67592-289">When performing scheduling as part of a master planning run where helpers are used, each of the master planning helper threads can also pick up production order scheduling tasks.</span></span> <span data-ttu-id="67592-290">To znamená, že může běžet více plánovacích modulů současně.</span><span class="sxs-lookup"><span data-stu-id="67592-290">This means that multiple scheduling engines can be running at the same time.</span></span> <span data-ttu-id="67592-291">I když je multithreading obecně velmi významná výhoda v oblasti výkonu, existují také některé funkční nevýhody v oblasti plánování.</span><span class="sxs-lookup"><span data-stu-id="67592-291">While multithreading in general is a highly significant performance benefit, there are also some functional downsides when it comes to scheduling.</span></span>

<span data-ttu-id="67592-292">V MRP jsou všechny výrobní zakázky pro danou úroveň kusovníku (BOM) naplánovány v sekvenci požadovaných dat, což znamená, že zakázky s nejdřívějším požadovaným datem by měly být naplánovány jako první, takže mají nejvyšší šanci na získání dostupné kapacity zdrojů.</span><span class="sxs-lookup"><span data-stu-id="67592-292">In MRP, all production orders for a given bill of materials (BOM) level are scheduled in requirement date sequence, meaning that those orders with the earliest requirement date should be scheduled first and thereby have the highest chance of getting the available resource capacity.</span></span> <span data-ttu-id="67592-293">Když si ale více modulů vybírá ze seznamu nenaplánovaných zakázek, posloupnost už není zajištěna, protože jedna může být dokončena rychleji než jiné.</span><span class="sxs-lookup"><span data-stu-id="67592-293">However, with multiple engines picking from the list of unscheduled orders the sequence is no longer ensured, as one might complete faster than the other.</span></span>

<span data-ttu-id="67592-294">Při plánování při omezené kapacitě a při pokusu více instancí modulu naplánovat zakázky, které potenciálně používají stejné zdroje ve stejném časovém intervalu, může navíc dojít ke konkurenčním požadavkům.</span><span class="sxs-lookup"><span data-stu-id="67592-294">Also, when scheduling using finite capacity and when multiple engine instances are trying to schedule orders that are potentially using the same resources at the same time interval, a race condition can occur.</span></span> <span data-ttu-id="67592-295">Počet takových konkurenčních požadavků je zaznamenán v poli **Plánování konfliktů** na stránce historie hlavních plánů.</span><span class="sxs-lookup"><span data-stu-id="67592-295">The number of such race conditions is recorded in the **Scheduling conflicts** field on the master plans history page.</span></span> <span data-ttu-id="67592-296">Logika řešení těchto konfliktů:</span><span class="sxs-lookup"><span data-stu-id="67592-296">The conflict resolution logic is as follows:</span></span>

- <span data-ttu-id="67592-297">Naplánuje se zakázka (bez zámku) a získají se rezervace kapacity.</span><span class="sxs-lookup"><span data-stu-id="67592-297">Schedule an order (lock-free) and get capacity reservations.</span></span>
- <span data-ttu-id="67592-298">Nastaví se zámek.</span><span class="sxs-lookup"><span data-stu-id="67592-298">Take the lock.</span></span>
- <span data-ttu-id="67592-299">Zkontroluje se, zda u naplánovaných zdrojů v časovém rozsahu existují novější rezervace kapacity.</span><span class="sxs-lookup"><span data-stu-id="67592-299">Check if newer capacity reservations exist for the scheduled resources in the timespan.</span></span>
  - <span data-ttu-id="67592-300">Pokud ne, kapacita se zapíše a uvolní se zámek.</span><span class="sxs-lookup"><span data-stu-id="67592-300">If no, write the capacity and release the lock.</span></span>
  - <span data-ttu-id="67592-301">Pokud ano, uvolní se zámek a zakázka se naplánuje od začátku.</span><span class="sxs-lookup"><span data-stu-id="67592-301">If yes, release the lock and reschedule the order from the beginning.</span></span>

<span data-ttu-id="67592-302">Takže při plánování s více instancemi modulu není výsledek plně deterministický, protože bude záviset na přesném načasování každého z vláken.</span><span class="sxs-lookup"><span data-stu-id="67592-302">So, when scheduling with multiple engine instances, the result is not fully deterministic because it will depend on the exact timing of each of the threads.</span></span>

## <a name="operation-scheduling-performance"></a><span data-ttu-id="67592-303">Výkon při plánování operací</span><span class="sxs-lookup"><span data-stu-id="67592-303">Operation scheduling performance</span></span>

<span data-ttu-id="67592-304">I když se plánování operací označuje také jako hrubé plánování kapacity, z pohledu modulu to může být těžší problém k vyřešení, pokud se používá omezená kapacita, protože k určení proveditelnosti je zapotřebí více dat.</span><span class="sxs-lookup"><span data-stu-id="67592-304">Even though operation scheduling is also known as rough-cut capacity planning, seen from an engine standpoint, it can be a harder problem to solve if finite capacity is used, as more data is needed to determine feasibility.</span></span>

<span data-ttu-id="67592-305">Kapacita skupiny zdrojů závisí na tom, které zdroje a kolik je členy této skupiny.</span><span class="sxs-lookup"><span data-stu-id="67592-305">The capacity of a resource group depends on which and how many resources are members of the resource group.</span></span> <span data-ttu-id="67592-306">Skupina zdrojů sama o sobě nemá žádnou kapacitu – pouze v případě, že jsou členem skupiny zdroje, bude mít jejich kapacitu.</span><span class="sxs-lookup"><span data-stu-id="67592-306">A resource group in itself does not have any capacity&mdash;only when resources are a member of the group will it have capacity.</span></span> <span data-ttu-id="67592-307">Vzhledem k tomu, že se členství ve skupině zdrojů může časem měnit, je nutné kapacitu denně vyhodnocovat.</span><span class="sxs-lookup"><span data-stu-id="67592-307">Because the resource group membership can vary over time, capacity must be evaluated per day.</span></span>

<span data-ttu-id="67592-308">V plánování operací se kalendář skupiny zdrojů používá k určení časů zahájení a ukončení každé operace.</span><span class="sxs-lookup"><span data-stu-id="67592-308">In operations scheduling, the resource group's calendar is used to determine the start and end times for each operation.</span></span> <span data-ttu-id="67592-309">To znamená, že kalendář skupiny zdrojů omezuje, kolik času můžou být operace naplánované na jednu operaci v jeden den v jedné skupině zdrojů.</span><span class="sxs-lookup"><span data-stu-id="67592-309">This means that the resource group's calendar places a limit on how much time can be operations scheduled for one operation on one day in one resource group.</span></span> <span data-ttu-id="67592-310">Oproti kalendáři pro konkrétní zdroje jsou údaje z kalendáře skupiny zdrojů ignorovány kvůli své neefektivitě, protože – zjednodušeně řečeno – označují otevírací dobu a nikoli skutečnou kapacitu.</span><span class="sxs-lookup"><span data-stu-id="67592-310">Opposite the calendar for the specific resources, the efficiency data of the calendar is ignored for the resource group as it simply denotes opening hours and not actual capacity.</span></span>

<span data-ttu-id="67592-311">Pokud je například pracovní doba skupiny zdrojů v konkrétní den od 8:00 do 16:00, jedna operace nemůže u této skupiny vytvořit větší zatížení než to, co lze zvládnout za 8 hodin, a to bez ohledu na to, jak velkou kapacitu má daná skupina k dispozici celkem v daný den.</span><span class="sxs-lookup"><span data-stu-id="67592-311">For example, if the working time for a resource group on one specific date is from 8:00 to 16:00, one operation can't put more load on the resource group than what can be fit into 8 hours, no matter how much capacity that the resource group has available in total on that day.</span></span> <span data-ttu-id="67592-312">Zatížení však může dále omezit skutečná dostupná kapacita.</span><span class="sxs-lookup"><span data-stu-id="67592-312">The available capacity can however limit the load further.</span></span>

<span data-ttu-id="67592-313">Při výpočtu dostupné kapacity pro skupinu zdrojů v daný den se zohlední zatížení z naplánovaných úloh u všech zdrojů zahrnutých do této skupiny v tentýž den.</span><span class="sxs-lookup"><span data-stu-id="67592-313">The load from job scheduling on all the resources included in the resource group on a given day is considered when the available capacity for the resource group on the same day is calculated.</span></span> <span data-ttu-id="67592-314">Pro každé datum probíhá výpočet takto:</span><span class="sxs-lookup"><span data-stu-id="67592-314">For each date, the calculation is:</span></span>

<span data-ttu-id="67592-315">*Dostupná kapacita skupiny prostředků = kapacita zdrojů ve skupině na základě jejich kalendáře &ndash; Naplánované zatížení z úloh u zdrojů ve skupině &ndash; Naplánované zatížení z operací u zdrojů ve skupině &ndash; Naplánované zatížení z operací ve skupině zdrojů*</span><span class="sxs-lookup"><span data-stu-id="67592-315">*Available resource group capacity = Capacity for resources in the group based on their calendar &ndash; Job scheduled load on the resources in the group &ndash; Operations scheduled load on the resources in the group &ndash; Operations scheduled load on the resource group*</span></span>

<span data-ttu-id="67592-316">Na kartě **Požadavky na zdroj** u operace postupu lze požadavky na zdroj zadat buď jako konkrétní zdroj (v takovém případě bude operace naplánována s použitím tohoto zdroje), jako skupinu zdrojů, jako typ zdroje, nebo jako jednu či více schopností (dovednost, kurz či certifikát).</span><span class="sxs-lookup"><span data-stu-id="67592-316">On the **Resource requirements** tab on the route operation, the resource requirements can be specified using either a specific resource (in which case the operation will be scheduled using that resource), for a resource group, for a resource type, or for one or more capabilities, skill, course, or certificate.</span></span> <span data-ttu-id="67592-317">Použití všech těchto možností poskytuje velkou flexibilitu při návrhu trasy, zároveň však komplikuje plánování na modulu, protože u kapacity musí být zohledněna každá „vlastnost“ (abstraktní název používaný v modulu pro schopnosti, dovednosti atd.).</span><span class="sxs-lookup"><span data-stu-id="67592-317">While using all of these options gives a great flexibility on the route design, it also complicates the scheduling for the engine as the capacity must be accounted for per "property" (the abstract name used in the engine for capability, skills, and so on).</span></span>

<span data-ttu-id="67592-318">Kapacita skupiny zdrojů, pokud jde o určitou schopnost, je součet kapacity ze všech zdrojů ve skupině, která tuto schopnost mají.</span><span class="sxs-lookup"><span data-stu-id="67592-318">The resource group's capacity for a capability is the sum of the capacity for all resources in the resource group that has the capability in question.</span></span> <span data-ttu-id="67592-319">Pokud má zdroj ve skupině určitou schopnost, bude to zohledněno bez ohledu na požadovanou úroveň kapacity.</span><span class="sxs-lookup"><span data-stu-id="67592-319">If a resource in the group has a capability, it will be considered no matter what level of the capacity is required.</span></span>

<span data-ttu-id="67592-320">V plánování operací se dostupná kapacita pro určitou schopnost ve skupinu zdrojů sníží, když je zatížená operací, která dotyčnou schopnost vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="67592-320">In operations scheduling, the available capacity for a certain capability for a resource group will be reduced when it is loaded with an operation that requires the capability in question.</span></span> <span data-ttu-id="67592-321">Pokud operace vyžaduje více než jednu schopnost, kapacita se sníží pro všechny požadované funkce.</span><span class="sxs-lookup"><span data-stu-id="67592-321">If the operation requires more than one capability, the capacity will be reduced for all required capabilities.</span></span>

<span data-ttu-id="67592-322">Pro každé datum probíhá požadovaný výpočet takto:</span><span class="sxs-lookup"><span data-stu-id="67592-322">For each date, the required calculation is:</span></span>

<span data-ttu-id="67592-323">*Dostupná kapacita pro schopnost = Kapacita pro schopnost &ndash; Naplánované zatížení z úloh u zdrojů, které tuto konkrétní schopnost mají, ve skupině zdrojů &ndash; Naplánované zatížení z operací u zdrojů, které tuto konkrétní schopnost mají, ve skupině zdrojů &ndash; Naplánované zatížení z operací, které tuto schopnost vyžadují, u samotné skupiny zdrojů*</span><span class="sxs-lookup"><span data-stu-id="67592-323">*Available capacity for a capability = Capacity for the capability &ndash; Job scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resource group itself that require the specific capability*</span></span>

<span data-ttu-id="67592-324">To znamená, že pokud existuje zatížení konkrétního zdroje, zohlední se při výpočtu dostupné kapacity skupiny zdrojů, pokud jde o konkrétní schopnost, protože zatížení konkrétního zdroje snižuje jeho příspěvek k její kapacitě, pokud jde o danou schopnost, a to bez ohledu na to, zda toto zatížení s touto konkrétní schopností souvisí.</span><span class="sxs-lookup"><span data-stu-id="67592-324">This means that if there is load on a specific resource, the load is considered in the calculation of the resource group's available capacity per capability, because the load on a specific resource reduces its contribution to the resource group's capacity for a capability no matter if the load on the specific resource is for that specific capability.</span></span> <span data-ttu-id="67592-325">Pokud existuje zatížení na úrovni skupiny zdrojů, zohlední se to při výpočtu její dostupné kapacity, pokud jde o konkrétní schopnost, jen v případě, že zatížení pochází z operace, která tuto konkrétní schopnost vyžaduje.</span><span class="sxs-lookup"><span data-stu-id="67592-325">If there is load on the resource group level, it is considered in the calculation of the resource group's available capacity per capability only if the load is from an operation that requires the specific capability.</span></span>

<span data-ttu-id="67592-326">Výše uvedená logika je komplikovaná, protože je stejná pro každý typ „vlastnosti“, takže použití plánování operací s omezenou kapacitou vyžaduje načtení významného objemu dat.</span><span class="sxs-lookup"><span data-stu-id="67592-326">The above logic is complicated, as this is the same for each type of "property" so using operations scheduling with finite capacity requires a significant amount of data to be loaded.</span></span>

## <a name="viewing-scheduling-engine-input-and-output"></a><span data-ttu-id="67592-327">Zobrazení vstupu a výstupu plánovacího modulu</span><span class="sxs-lookup"><span data-stu-id="67592-327">Viewing scheduling engine input and output</span></span>

<span data-ttu-id="67592-328">Chcete-li získat konkrétní podrobnosti o vstupu a výstupu procesu plánování, povolte protokolování přechodem na **Správa organizace \> Nastavení \> Plánování \> Kokpit pro trasování plánování**.</span><span class="sxs-lookup"><span data-stu-id="67592-328">To get specific details of the input and output of the scheduling process,  enable logging by going to **Organization administration \> Setup \> Scheduling \> Scheduling tracing cockpit**.</span></span>

<span data-ttu-id="67592-329">Na této stránce nejprve vyberte **Povolit protokolování** v podokně akcí.</span><span class="sxs-lookup"><span data-stu-id="67592-329">On this page, first select **Enable logging** on the Action Pane.</span></span> <span data-ttu-id="67592-330">Pak určete plánování výrobní zakázky.</span><span class="sxs-lookup"><span data-stu-id="67592-330">Then run the scheduling for the production order.</span></span> <span data-ttu-id="67592-331">Po dokončení se vraťte na stránku **Kokpit pro trasování plánování** a vyberte **Zakázat protokolování** v podokně akcí.</span><span class="sxs-lookup"><span data-stu-id="67592-331">When complete, return to the **Scheduling tracing cockpit** page and select **Disable logging** on the Action Pane.</span></span> <span data-ttu-id="67592-332">Obnovte stránku a v mřížce se objeví nový řádek.</span><span class="sxs-lookup"><span data-stu-id="67592-332">Refresh the page and a new line will appear in the grid.</span></span> <span data-ttu-id="67592-333">Vyberte nový řádek a pak **Stáhnout** v podokně akcí.</span><span class="sxs-lookup"><span data-stu-id="67592-333">Select the new line and select **Download** on the Action Pane.</span></span> <span data-ttu-id="67592-334">Získáte tím komprimovanou složku ZIP obsahující následující soubory:</span><span class="sxs-lookup"><span data-stu-id="67592-334">This will give you a .zip compressed folder containing the following files:</span></span>

- <span data-ttu-id="67592-335">**Log.txt** – Toto je soubor protokolu, který popisuje kroky, kterými modul prochází.</span><span class="sxs-lookup"><span data-stu-id="67592-335">**Log.txt** - This is the log file that describes the steps that the engine goes through.</span></span> <span data-ttu-id="67592-336">Je to velmi detailní a může se zdát, že je toho příliš, ale při použití v rámci experimentování s nastavením trasy s cílem vyřešit problémy s výkonem je třeba se nejprve podívat na časový rozdíl mezi prvním a posledním řádkem, protože tím zjistíte přesný čas, který plánovač potřeboval.</span><span class="sxs-lookup"><span data-stu-id="67592-336">It is very elaborate and can be a bit overwhelming, but when used as part of experimenting with the route setup to resolve performance problems the first thing to look for is the difference in time between the first and the last line, as this will give you the exact time the scheduler has spent.</span></span>
- <span data-ttu-id="67592-337">**XmlModel.xml** – Obsahuje model sestavený v X++, na němž modul pracuje.</span><span class="sxs-lookup"><span data-stu-id="67592-337">**XmlModel.xml** - This contains the model that is built in X++ and that the engine operates on.</span></span> <span data-ttu-id="67592-338">Položka `JobId` použitá v souboru koreluje s položkou `RecId` ze zdrojové tabulky obsahující úlohy (`ReqRouteJob` nebo `ProdRouteJob`).</span><span class="sxs-lookup"><span data-stu-id="67592-338">The `JobId` used in the file correlates to the `RecId` from the source table containing the jobs (`ReqRouteJob` or `ProdRouteJob`).</span></span> <span data-ttu-id="67592-339">Typickou věcí, kterou je třeba v tomto souboru zkontrolovat, je, že data uvedená v položkách `ConstraintJobStartsAt` a `ConstraintJobEndsAt` jsou podle očekávání, že vlastnost `JobGoal` je nastavena správně a že úlohy spolu souvisejí prostřednictvím omezení `JobLink`.</span><span class="sxs-lookup"><span data-stu-id="67592-339">The typical thing to look for in this file is that the dates given in `ConstraintJobStartsAt` and `ConstraintJobEndsAt` are as expected, that the `JobGoal` property is set correctly, and that the jobs are related to each other through the `JobLink` constraints.</span></span>
- <span data-ttu-id="67592-340">**XmlSlots.xml** – Obsahuje všechny pracovní doby a rezervace kapacity, které modul požadoval.</span><span class="sxs-lookup"><span data-stu-id="67592-340">**XmlSlots.xml** - This contains all the working times and capacity reservations that the engine has requested.</span></span> <span data-ttu-id="67592-341">Pracovní doby a rezervace v kalendáři budou modulem vyžadovány pouze pro časová období, do nichž se pokouší úlohy (a další vyrovnávací paměť) umístit, takže pokud soubor obsahuje časy velmi daleko v budoucnosti, může to být indikací problému s nastavením.</span><span class="sxs-lookup"><span data-stu-id="67592-341">The calendar working times and reservations will only be requested by the engine for the time periods where it tries to place the jobs (and an extra buffer), so if the file contains times very far in the future, it might be an indication of a problem with the setup.</span></span> <span data-ttu-id="67592-342">Uzly `ResourceProperty` zobrazí u každého zdroje, se kterou skupinou prostředků a schopnostmi je spojen v konkrétních obdobích.</span><span class="sxs-lookup"><span data-stu-id="67592-342">The `ResourceProperty` nodes will show for each resource which resource group and capabilities it is associated with for which periods.</span></span>
- <span data-ttu-id="67592-343">**Result.xml** – Obsahuje výsledek běhu plánování.</span><span class="sxs-lookup"><span data-stu-id="67592-343">**Result.xml** - This contains the result of the scheduling run.</span></span>

<span data-ttu-id="67592-344">Všimněte si, že funkce trasování může z hlediska výkonu významně zvýšit režii, proto ji používejte pouze k prozkoumání plánování konkrétních zakázek kontrolovaným způsobem.</span><span class="sxs-lookup"><span data-stu-id="67592-344">Note that the tracing functionality can add significant performance overhead, so only use it for investigating scheduling of specific orders in a controlled manner.</span></span> <span data-ttu-id="67592-345">Pokud je zapnutá během hlavního plánování, rychle dosáhne svého limitu velikosti a zastaví se.</span><span class="sxs-lookup"><span data-stu-id="67592-345">If it is turned on during a master planning run it will quickly reach its size limit and stop.</span></span>

## <a name="troubleshooting-performance"></a><span data-ttu-id="67592-346">Řešení problémů s výkonem</span><span class="sxs-lookup"><span data-stu-id="67592-346">Troubleshooting performance</span></span>

<span data-ttu-id="67592-347">Jak lze pochopit ze všech předchozích částí, existují určité úskalí, pokud jde o nastavení a použití plánovacího modulu, což může vést k problémům s výkonem.</span><span class="sxs-lookup"><span data-stu-id="67592-347">As can be understood from all of the previous sections, there are some pitfalls when it comes to the setup and usage of the scheduling engine, which can lead to performance problems.</span></span> <span data-ttu-id="67592-348">Lze je vyřešit pomocí následujícího kontrolního seznamu.</span><span class="sxs-lookup"><span data-stu-id="67592-348">The following check list can be used for troubleshooting such issues.</span></span> <span data-ttu-id="67592-349">Je důležité podívat se na všechny body, protože problémy nejčastěji způsobuje kombinace více faktorů.</span><span class="sxs-lookup"><span data-stu-id="67592-349">It is important to look at all the points as it is most often a combination of multiple factors that leads to problems.</span></span>

### <a name="performing-scheduling-as-part-of-mrp-when-it-is-not-needed"></a><span data-ttu-id="67592-350">Provádění plánování v rámci MRP, když to není potřeba</span><span class="sxs-lookup"><span data-stu-id="67592-350">Performing scheduling as part of MRP when it is not needed</span></span>

<span data-ttu-id="67592-351">I když se trasy používají pro účely řízení výroby, jako je kalkulace nákladů a vykazování, nemusí být nutné je během MRP brát v úvahu.</span><span class="sxs-lookup"><span data-stu-id="67592-351">Even though routes are used for the production control purposes such as costing and reporting, it might not be necessary to consider them during MRP.</span></span> <span data-ttu-id="67592-352">V některých případech bude pro plánování stačit standardní doba realizace výroby stanovená pro položku.</span><span class="sxs-lookup"><span data-stu-id="67592-352">In some cases, having a standard production lead time specified for the item will be sufficient for planning.</span></span> <span data-ttu-id="67592-353">Chcete-li vypnout plánování trasy, nastavte časové ohraničení kapacity na nulu.</span><span class="sxs-lookup"><span data-stu-id="67592-353">To turn off route scheduling, set the capacity time fence to zero.</span></span> <span data-ttu-id="67592-354">Pokud by mělo být provedeno plánování, musí být časové ohraničení kapacity nastaveno pečlivě, protože nemusí být nutné brát v úvahu trasy v celém rozsahu časového ohraničení pokrytí MRP.</span><span class="sxs-lookup"><span data-stu-id="67592-354">If scheduling should be done, then the capacity time fence must be carefully set because it might not be necessary to consider routes for the full extent of the MRP's coverage time fence.</span></span>

<span data-ttu-id="67592-355">Všimněte si, že pokud zakázka není naplánována během MRP, bude třeba ji naplánovat, až bude plánovaná zakázka potvrzena.</span><span class="sxs-lookup"><span data-stu-id="67592-355">Note that if the order is not scheduled during MRP, then it will instead need to be scheduled when the planned order is firmed.</span></span> <span data-ttu-id="67592-356">To znamená, že proces potvrzení bude trvat déle, takže v závislosti na tom, u kolika z navržených plánovaných objednávek dojde k potvrzení, může ve fázi MRP dojít ke ztrátě výkonu při potvrzování.</span><span class="sxs-lookup"><span data-stu-id="67592-356">This means that the firming process will take longer, so depending on how many of the suggested planned orders get firmed the performance gain during MRP might be lost at firming.</span></span>

### <a name="route-with-unnecessary-operations"></a><span data-ttu-id="67592-357">Trasa se zbytečnými operacemi</span><span class="sxs-lookup"><span data-stu-id="67592-357">Route with unnecessary operations</span></span>

<span data-ttu-id="67592-358">Při navrhování trasy je lákavé pokusit se přesně namodelovat skutečný průběh se všemi kroky, kterými výroba prochází.</span><span class="sxs-lookup"><span data-stu-id="67592-358">When designing the route, it is tempting to try to model the real world exactly with all the steps the production goes through.</span></span> <span data-ttu-id="67592-359">I když to může být v některých případech užitečné, není to dobré pro výkon, protože model, s nímž musí modul pracovat, se zvětší (z hlediska úloh i omezení) a bude provedeno více příkazů SQL pro vkládání a aktualizaci úloh a rezervace kapacity.</span><span class="sxs-lookup"><span data-stu-id="67592-359">While this can be useful in some cases, it is not good for the performance as the model the engine needs to work on gets larger (both in terms of jobs and constraints) and more SQL statements will be executed for insertion and update of the jobs and capacity reservations.</span></span> <span data-ttu-id="67592-360">Existuje také následný efekt spočívající v tom, že je třeba hlásit pokrok u úloh, což lze zmírnit automatickým účtováním.</span><span class="sxs-lookup"><span data-stu-id="67592-360">Also, there is the downstream effect of having to eventually report progress on the jobs, which can be mitigated with automatic postings.</span></span> <span data-ttu-id="67592-361">Pokud se tato data k ničemu nepoužívají, vytváří zbytečné zatížení.</span><span class="sxs-lookup"><span data-stu-id="67592-361">If the data is not used for anything, it creates unnecessary load.</span></span>

<span data-ttu-id="67592-362">Doporučujeme, abyste vytvořili pouze operace, které je vyloženě třeba naplánovat (což jsou obvykle ty, které představují úzké hrdlo) nebo pro účely výpočtu nákladů.</span><span class="sxs-lookup"><span data-stu-id="67592-362">We recommend that you only create operations that are strictly needed for scheduling (which will typically be the bottleneck resources) and/or costing purposes.</span></span> <span data-ttu-id="67592-363">Alternativou je seskupení mnoha menších různorodých operací do jedné větší operace, která bude představovat větší část procesu.</span><span class="sxs-lookup"><span data-stu-id="67592-363">Alternatively you should group many smaller distinct operations into one larger operation that represents a greater part of the process.</span></span>

### <a name="many-applicable-resources-for-an-operation"></a><span data-ttu-id="67592-364">Mnoho použitelných zdrojů pro operaci</span><span class="sxs-lookup"><span data-stu-id="67592-364">Many applicable resources for an operation</span></span>

<span data-ttu-id="67592-365">Počet použitelných zdrojů pro operaci je určen požadavky na zdroje nastavenými ve vztahu operace.</span><span class="sxs-lookup"><span data-stu-id="67592-365">The number of applicable resources for an operation is determined by the resource requirements set on the operation relation.</span></span> <span data-ttu-id="67592-366">Požadavek může být buď na konkrétní (jednotlivý) zdroj, případně může být založen na členství zdroje ve skupině zdrojů nebo na jeho schopnosti.</span><span class="sxs-lookup"><span data-stu-id="67592-366">The requirement can either be for a specific (individual) resource or it can be based on the resource's membership of a resource group or capability.</span></span>

<span data-ttu-id="67592-367">Pokud se plánování neprovádí s použitím omezené kapacity a všechny použitelné zdroje mají stejný kalendář a účinnost, pak plánovací modul vždy vybere pro operaci stejný zdroj, ale až po vyzkoušení všech použitelných zdrojů, aby zkontroloval, zda není k dispozici nějaký „lepší“.</span><span class="sxs-lookup"><span data-stu-id="67592-367">If scheduling is not done using finite capacity and all the applicable resources have the same calendar and efficiency, then the scheduling engine will always end up picking the same resource for an operation, but only after trying all the applicable resources to check if there is one that is "better" than the others.</span></span> <span data-ttu-id="67592-368">V tomto případě lze značně snížit zatížení plánování jednoduše tím, že v době návrhu trasy operaci vždy přiřadíte konkrétní zdroj.</span><span class="sxs-lookup"><span data-stu-id="67592-368">In this case, the load of the scheduling can be greatly reduced simply by always assigning a specific resource to the operation at the route design time.</span></span>

### <a name="route-with-parallel-operations"></a><span data-ttu-id="67592-369">Trasa s paralelními operacemi</span><span class="sxs-lookup"><span data-stu-id="67592-369">Route with parallel operations</span></span>

<span data-ttu-id="67592-370">Paralelní operace (primární/sekundární) jsou sice výkonným nástrojem pro modelování scénářů, třeba kdy je k provedení konkrétního úkolu potřeba stroj i operátor, ale současně jsou zdrojem mnoha problémů s výkonem.</span><span class="sxs-lookup"><span data-stu-id="67592-370">While parallel operations (primary/secondary) are a powerful tool to model scenarios like when a machine and an operator are both needed to perform a specific task, it is also the source of many performance issues.</span></span> <span data-ttu-id="67592-371">Pokud je požadavek na konkrétní jednotlivý zdroj přiřazen k primární i sekundární operaci, obvykle to není problém.</span><span class="sxs-lookup"><span data-stu-id="67592-371">If a requirement for a specific individual resource is assigned to both the primary and secondary operation, it is typically not a problem.</span></span> <span data-ttu-id="67592-372">Pokud ale existuje mnoho možných zdrojů pro každou z operací, vnese to do plánování významnou výpočetní složitost.</span><span class="sxs-lookup"><span data-stu-id="67592-372">But if there are many possible resources for each of the operations, then it adds significant computational complexity to the scheduling.</span></span>

<span data-ttu-id="67592-373">Alternativou k použití paralelních operací je buď modelování těchto párů jako „virtuálních“ zdrojů (které pak budou reprezentovat „týmy“, které jdou do operace vždy společně), nebo se jednoduše při modelování jedna z operací vynechá, pokud nepředstavuje úzké hrdlo.</span><span class="sxs-lookup"><span data-stu-id="67592-373">An alternative to using parallel operations is either to model the pairs as "virtual" resources (which will then represent the team that always goes together for the operation) or to simply not model one of the operations if it doesn't represent a bottleneck.</span></span>

### <a name="route-with-quantity-of-resources-higher-than-1"></a><span data-ttu-id="67592-374">Trasa s počtem zdrojů vyšším než 1</span><span class="sxs-lookup"><span data-stu-id="67592-374">Route with quantity of resources higher than 1</span></span>

<span data-ttu-id="67592-375">Pokud množství zdrojů potřebných pro operaci nastavíte na hodnotu vyšší než 1, pak to bude mít v podstatě stejný výsledek jako použití primárních/sekundárních operací, protože do modulu se bude odesílat více paralelních úloh.</span><span class="sxs-lookup"><span data-stu-id="67592-375">If setting the quantity of resources needed for an operation higher than one, then it results effectively the same as using primary/secondary operations because multiple parallel jobs are sent to the engine.</span></span> <span data-ttu-id="67592-376">V tomto případě však neexistuje možnost přiřazení konkrétních prostředků, protože množství vyšší než 1 vyžaduje, aby byl pro operaci použitelný více než 1 zdroj.</span><span class="sxs-lookup"><span data-stu-id="67592-376">However, for this case there is not an option of using specific resource assignments, because a quantity higher than one requires that more than one resource is applicable for the operation.</span></span>

### <a name="excessive-use-of-finite-capacity"></a><span data-ttu-id="67592-377">Nadměrné používání omezené kapacity</span><span class="sxs-lookup"><span data-stu-id="67592-377">Excessive use of finite capacity</span></span>

<span data-ttu-id="67592-378">Použití omezené kapacity vyžaduje, aby modul načetl informace o kapacitě z databáze, a může mít výpočetní režii, protože bude obtížnější najít řešení, zejména v prostředích, kde jsou prostředky rezervovány blízko své maximální kapacity.</span><span class="sxs-lookup"><span data-stu-id="67592-378">Use of finite capacity requires the engine to load the capacity information from a database and can have a computational overhead because it will be harder to find a solution especially in environments where the resources are booked close to their maximum capacity.</span></span> <span data-ttu-id="67592-379">V důsledku toho je důležité pečlivě vyhodnotit, zda zdroj skutečně potřebuje využívat omezenou kapacitu, nebo zda je možné ho rezervovat nadměrně.</span><span class="sxs-lookup"><span data-stu-id="67592-379">As a result, it is important to carefully evaluate if a resource really needs to use finite capacity or they can be overbooked.</span></span> <span data-ttu-id="67592-380">Protože mezi prostředky s omezenou kapacitou může existovat rozdíl v tom, jak důležité je, aby u nich nedošlo k nadměrné rezervaci, doporučujeme u zdroje použít možnost úzkého hrdla v kombinaci se samostatnou hodnotou v plánu v části Ochranná doba kapacity pro kritické prostředky.</span><span class="sxs-lookup"><span data-stu-id="67592-380">Because there might be a difference among finite capacity resources in how important they are not to overbook, we recommend using the bottleneck option on a resource in combination with a separate value on the plan in "Capacity time fence for bottleneck resources".</span></span> <span data-ttu-id="67592-381">Koncept úzkého hrdla umožňuje snížení obecného časového ohraničení konečné kapacity.</span><span class="sxs-lookup"><span data-stu-id="67592-381">Using the bottleneck concept can enable that the general finite capacity time fence can be lowered.</span></span>

### <a name="setting-hard-links"></a><span data-ttu-id="67592-382">Nastavení pevných propojení</span><span class="sxs-lookup"><span data-stu-id="67592-382">Setting hard links</span></span>

<span data-ttu-id="67592-383">Standardní typ propojení u trasy je *měkký* , což znamená, že mezi dobou ukončení jedné operace a začátkem další je povolena časová prodleva.</span><span class="sxs-lookup"><span data-stu-id="67592-383">The standard link type of the route is *soft* , which means that a time gap is allowed between the finishing time of one operation and the start of the next.</span></span> <span data-ttu-id="67592-384">Pokud to povolíte, může to mít ten neblahý účinek, že pokud pro některou z operací nebudou materiály nebo kapacita k dispozici po velmi dlouhou dobu, může být výroba nějakou dobu nečinná, čímž může narůst množství rozpracované práce.</span><span class="sxs-lookup"><span data-stu-id="67592-384">Allowing this can have the unfortunate effect that, if materials or capacity are not available for one of the operations for a very long time, the production could be idle for quite a while, meaning a possible increase of work in progress.</span></span> <span data-ttu-id="67592-385">U pevných propojení se to nestane, protože dokončení a zahájení musí dokonale navazovat.</span><span class="sxs-lookup"><span data-stu-id="67592-385">This will not happen with hard links because the finish and start must align perfectly.</span></span> <span data-ttu-id="67592-386">Nastavení pevných odkazů ale problém s plánováním ztěžuje, protože průsečíky pracovní doby a kapacity je nutné vypočítat pro dva zdroje operací.</span><span class="sxs-lookup"><span data-stu-id="67592-386">But setting hard links makes the scheduling problem more difficult because working time and capacity intersections must be calculated for the two resources of the operations.</span></span> <span data-ttu-id="67592-387">Pokud jsou součástí i paralelní operace, výrazně tím vzroste výpočetní čas.</span><span class="sxs-lookup"><span data-stu-id="67592-387">If there are also parallel operations involved, this adds significant computational time.</span></span> <span data-ttu-id="67592-388">Pokud zdroje u těchto dvou operací mají různé kalendáře, které se vůbec nepřekrývají, problém je neřešitelný.</span><span class="sxs-lookup"><span data-stu-id="67592-388">If the resources of the two operations have different calendars that don't overlap at all, the problem is unsolvable.</span></span>

<span data-ttu-id="67592-389">Pevná propojení doporučujeme používat, pouze pokud je to nezbytně nutné, a pečlivě zvažte, zda je to nezbytné pro každou operaci trasy.</span><span class="sxs-lookup"><span data-stu-id="67592-389">We recommend using hard links only when strictly necessary, and carefully consider if it is necessary for each operation of the route.</span></span>

<span data-ttu-id="67592-390">Trikem, jak omezit množství rozpracované práce bez použití pevných propojení, je naplánovat zakázku dvakrát, přičemž u druhého průchodu se směr změní na opačný.</span><span class="sxs-lookup"><span data-stu-id="67592-390">To reduce the work in progress without applying hard links, a trick is to schedule the order twice with changing to the opposite direction for the second pass.</span></span> <span data-ttu-id="67592-391">Pokud by se první plán nastavil zpětně od data dodání, druhý by se měl být provádět dopředu od naplánovaného data zahájení.</span><span class="sxs-lookup"><span data-stu-id="67592-391">If the first schedule was done backwards from delivery date, then the second should be done forward from the scheduled start date.</span></span> <span data-ttu-id="67592-392">To způsobí, že úlohy budou co nejvíce komprimovány, takže objem rozpracované práce bude minimalizován.</span><span class="sxs-lookup"><span data-stu-id="67592-392">This will result in the jobs being compressed as much as possible so that the work in progress is minimized.</span></span>

### <a name="separate-calendar-for-each-resource"></a><span data-ttu-id="67592-393">Samostatný kalendář u každého zdroje</span><span class="sxs-lookup"><span data-stu-id="67592-393">Separate calendar for each resource</span></span>

<span data-ttu-id="67592-394">Jedním z hlavních zdrojů dat pro plánovací modul jsou informace z kalendáře, jejichž načítání z databáze může být nákladné.</span><span class="sxs-lookup"><span data-stu-id="67592-394">One of the main sources of data for the scheduling engine is calendar information, which can be expensive to load from the database.</span></span> <span data-ttu-id="67592-395">Protože kalendáře jsou generovány na základě šablon, může být lákavé vygenerovat kalendář pro každý zdroj a poté upravit informace v tomto kalendáři, když u zdroje dojde k výpadku a dalším problémům.</span><span class="sxs-lookup"><span data-stu-id="67592-395">Because calendars are generated based on templates, it would be tempting to generate a calendar for each resource and then adjust the information in this calendar when the resource has downtime and other issues.</span></span> <span data-ttu-id="67592-396">Tímto způsobem však vážně omezíte schopnost modulu ukládat data z kalendáře do mezipaměti, protože by bylo nutné požadovat nová data pro každý zdroj, což by mohlo být velkým zdrojem problémů s výkonem.</span><span class="sxs-lookup"><span data-stu-id="67592-396">However, doing this will severely limit the engines ability to cache the calendar data as it would need to request new data for each resource and can be a large source of performance problems.</span></span> <span data-ttu-id="67592-397">Místo toho doporučujeme, abyste mezi zdroji co nejvíce používali stejné kalendáře a poté změny vyplývající z prostojů implementovali přiřazením jiného ID kalendáře pro konkrétní období.</span><span class="sxs-lookup"><span data-stu-id="67592-397">Instead, we recommend that you reuse the calendars as much as possible between the resources, and then control downtime changes by assigning a different calendar ID for a period.</span></span>

### <a name="high-number-of-working-time-slots-per-calendar-day"></a><span data-ttu-id="67592-398">Vysoký počet slotů pracovní doby pro kalendářní den</span><span class="sxs-lookup"><span data-stu-id="67592-398">High number of working time slots per calendar day</span></span>

<span data-ttu-id="67592-399">Protože modul pracuje tak, že prozkoumává jednotlivé časové sloty z hlediska kapacity, je výhodné minimalizovat počet časových slotů v kalendářním dni.</span><span class="sxs-lookup"><span data-stu-id="67592-399">Because the engine works by examining time slots one-by-one for capacity, it is beneficial to minimize the number of time slots per calendar day.</span></span> <span data-ttu-id="67592-400">Toho lze dosáhnout například tím, že zvážíte, zda je důležité, aby výsledný plán odrážel, že pracovníci mají každou hodinu 5minutovou přestávku.</span><span class="sxs-lookup"><span data-stu-id="67592-400">This could be done, for example, by considering whether it's important for the resulting schedule to reflect that workers have a 5-minute break every hour.</span></span>

### <a name="large-or-none-scheduling-timeouts"></a><span data-ttu-id="67592-401">Velké (nebo žádné) časové limity plánování</span><span class="sxs-lookup"><span data-stu-id="67592-401">Large (or none) scheduling timeouts</span></span>

<span data-ttu-id="67592-402">Výkon plánovacího modulu lze optimalizovat pomocí parametrů na stránce **Parametry plánování**.</span><span class="sxs-lookup"><span data-stu-id="67592-402">Scheduling engine performance can be optimized using parameters found on the **Scheduling parameters** page.</span></span> <span data-ttu-id="67592-403">Nastavení **Časový limit plánování povolen** a **Časový limit optimalizace plánování povolen** by mělo být vždy nastaveno na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="67592-403">The **Scheduling timeout enabled** and **Scheduling optimization timeout enabled** settings should always be set to **Yes**.</span></span> <span data-ttu-id="67592-404">Pokud je nastaveno na **Ne** , plánování může potenciálně běžet nekonečně dlouho, pokud byla vytvořena neproveditelná trasa s mnoha možnostmi.</span><span class="sxs-lookup"><span data-stu-id="67592-404">If set to **No** , the scheduling can potentially run infinitely if an unfeasible route with many options has been created.</span></span>

<span data-ttu-id="67592-405">Hodnota **Maximální čas plánování na sekvenci** určuje, kolik sekund lze nanejvýš strávit pokusem najít řešení pro jednu sekvenci (ve většině případů sekvence odpovídá jedné zakázce).</span><span class="sxs-lookup"><span data-stu-id="67592-405">The value for **Maximum scheduling time per sequence** controls how many seconds can, at most, be spent trying to find a solution for a single sequence (in most cases a sequence corresponds to a single order).</span></span> <span data-ttu-id="67592-406">Hodnota, která se zde použije, velmi závisí na složitosti trasy a nastaveních, jako je konečná kapacita – dobrým výchozím bodem je maximálně asi 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="67592-406">The value to use here highly depends on the complexity of the route and settings like finite capacity, ut a maximum of about 30 seconds is a good starting point.</span></span>

<span data-ttu-id="67592-407">Hodnota **Časový limit pokusů o optimalizaci** určuje, kolik sekund lze maximálně využít k nalezení lepšího řešení, než jaké bylo původně nalezeno.</span><span class="sxs-lookup"><span data-stu-id="67592-407">The value for **Optimization attempts timeout** controls how many seconds can at most be used to find a better solution than the one originally found.</span></span> <span data-ttu-id="67592-408">To ovlivní pouze trasy, které používají paralelní operace, protože kvůli nim je nutné otestovat různé kombinace.</span><span class="sxs-lookup"><span data-stu-id="67592-408">This will only influence routes that are using parallel operations as these make it necessary to test different combinations.</span></span>

> [!NOTE]
> <span data-ttu-id="67592-409">Hodnoty nastavené pro časové limity budou použity jak pro plánování vydaných výrobních zakázek, tak plánovaných zakázek v rámci MRP.</span><span class="sxs-lookup"><span data-stu-id="67592-409">The values set for the timeouts will be applied both for scheduling of released production orders and of planned orders as part of MRP.</span></span> <span data-ttu-id="67592-410">Výsledkem je, že nastavení velmi vysokých hodnot by mohlo výrazně zvýšit dobu běhu MRP při spuštění plánu s mnoha naplánovanými výrobními zakázkami.</span><span class="sxs-lookup"><span data-stu-id="67592-410">As a result, setting very high values could significantly add to the run time of MRP when running for a plan with many planned production orders.</span></span>
