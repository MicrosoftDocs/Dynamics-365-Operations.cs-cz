---
title: Synchronizace prodejních objednávek přímo mezi aplikacemi Sales a Supply Chain Management
description: Toto téma se věnuje šablonám a základním úlohám, které se používají ke spuštění synchronizace prodejních objednávek přímo mezi aplikacemi Dynamics 365 Sales a Dynamics 365 Supply Chain Management.
author: ChristianRytt
manager: tfehr
ms.date: 05/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.openlocfilehash: ddc6159480d1ff9fb823dbd95465c991ae51f9c4
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/15/2021
ms.locfileid: "4974978"
---
# <a name="synchronization-of-sales-orders-directly-between-sales-and-supply-chain-management"></a><span data-ttu-id="dd0d8-103">Synchronizace prodejních objednávek přímo mezi aplikacemi Sales a Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="dd0d8-103">Synchronization of sales orders directly between Sales and Supply Chain Management</span></span>

[!include [banner](../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

<span data-ttu-id="dd0d8-104">Toto téma se věnuje šablonám a základním úlohám, které se používají ke spuštění synchronizace prodejních objednávek přímo mezi aplikacemi Dynamics 365 Sales a Dynamics 365 Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-104">The topic discusses the templates and underlying tasks that are used to run synchronization of sales orders directly between Dynamics 365 Sales and Dynamics 365 Supply Chain Management.</span></span>

## <a name="data-flow-in-prospect-to-cash"></a><span data-ttu-id="dd0d8-105">Tok dat ve zpeněžení potenciálního zákazníka</span><span class="sxs-lookup"><span data-stu-id="dd0d8-105">Data flow in Prospect to cash</span></span>

<span data-ttu-id="dd0d8-106">Řešení Zpeněžení potenciálního zákazníka používá funkci Integrace dat k synchronizaci dat mezi instancemi aplikací Supply Chain Management a Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-106">The Prospect to cash solution uses the Data integration feature to synchronize data across instances of Supply Chain Management and Sales.</span></span> <span data-ttu-id="dd0d8-107">Šablony zpeněžení potenciálního zákazníka dostupné v rámci funkce integrace dat umožňují tok dat účtů, kontaktů, produktů, prodejních kvót, prodejních objednávek a prodejních faktur mezi aplikacemi Supply Chain Management a Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-107">The Prospect to cash templates that are available with the Data integration feature enable the flow of data for accounts, contacts, products, sales quotations, sales orders, and sales invoices between Supply Chain Management and Sales.</span></span> <span data-ttu-id="dd0d8-108">Následující obrázek znázorňuje, jak jsou data synchronizována mezi aplikacemi Supply Chain Management a Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-108">The following illustration shows how the data is synchronized between Supply Chain Management and Sales.</span></span>

<span data-ttu-id="dd0d8-109">[![Tok dat ve zpeněžení potenciálního zákazníka](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)</span><span class="sxs-lookup"><span data-stu-id="dd0d8-109">[![Data flow in Prospect to cash](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="dd0d8-110">Šablony a úkoly</span><span class="sxs-lookup"><span data-stu-id="dd0d8-110">Templates and tasks</span></span>

<span data-ttu-id="dd0d8-111">Chcete-li získat přístup k dostupným šablonám, otevřete [Centrum pro správu Power Apps](https://preview.admin.powerapps.com/dataintegration).</span><span class="sxs-lookup"><span data-stu-id="dd0d8-111">To access the available templates, open [Power Apps Admin Center](https://preview.admin.powerapps.com/dataintegration).</span></span> <span data-ttu-id="dd0d8-112">Vyberte **Projekty** a v pravém horním rohu vyberte **Nový projekt**, abyste zvolili veřejné šablony.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-112">Select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="dd0d8-113">Ke spuštění synchronizace prodejních objednávek přímo mezi aplikacemi Sales a Supply Chain Management slouží následující šablony a základní úkoly:</span><span class="sxs-lookup"><span data-stu-id="dd0d8-113">The following templates and underlying tasks are used to run synchronization of sales orders directly between Sales and Supply Chain Management.</span></span>

- <span data-ttu-id="dd0d8-114">**Názvy šablon v integraci dat:**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-114">**Names of the templates in Data integration:**</span></span> 

    - <span data-ttu-id="dd0d8-115">Prodejní objednávky (Sales do Supply Chain Management) – Přímo</span><span class="sxs-lookup"><span data-stu-id="dd0d8-115">Sales Orders (Sales to Supply Chain Management) - Direct</span></span>
    - <span data-ttu-id="dd0d8-116">Prodejní objednávky (Supply Chain Management do Sales) – Přímo</span><span class="sxs-lookup"><span data-stu-id="dd0d8-116">Sales Orders (Supply Chain Management to Sales) - Direct</span></span>

- <span data-ttu-id="dd0d8-117">**Názvy úkolů v projektu integrace dat:**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-117">**Names of the tasks in the Data integration project:**</span></span>

    - <span data-ttu-id="dd0d8-118">OrderHeader</span><span class="sxs-lookup"><span data-stu-id="dd0d8-118">OrderHeader</span></span>
    - <span data-ttu-id="dd0d8-119">OrderLine</span><span class="sxs-lookup"><span data-stu-id="dd0d8-119">OrderLine</span></span>

<span data-ttu-id="dd0d8-120">Následující úlohy synchronizace jsou vyžadovány před synchronizací záhlaví prodejní faktury a mohou se objevit řádky:</span><span class="sxs-lookup"><span data-stu-id="dd0d8-120">The following synchronization tasks are required before synchronization of sales invoice headers and lines can occur:</span></span>

- <span data-ttu-id="dd0d8-121">Produkty (Supply Chain Management do Sales) – Přímo</span><span class="sxs-lookup"><span data-stu-id="dd0d8-121">Products (Supply Chain Management to Sales) - Direct</span></span>
- <span data-ttu-id="dd0d8-122">Obchodní vztahy (Sales do Supply Chain Management) – Přímo (pokud se používá)</span><span class="sxs-lookup"><span data-stu-id="dd0d8-122">Accounts (Sales to Supply Chain Management) - Direct (if used)</span></span>
- <span data-ttu-id="dd0d8-123">Kontakty na odběratele (Sales do Supply Chain Management) – Přímo (pokud se používá)</span><span class="sxs-lookup"><span data-stu-id="dd0d8-123">Contacts to Customers (Sales to Supply Chain Management) - Direct (if used)</span></span>

## <a name="entity-set"></a><span data-ttu-id="dd0d8-124">Sada entit</span><span class="sxs-lookup"><span data-stu-id="dd0d8-124">Entity set</span></span>

| <span data-ttu-id="dd0d8-125">Správa dodavatelsko-odběratelského řetězce</span><span class="sxs-lookup"><span data-stu-id="dd0d8-125">Supply Chain Management</span></span>  | <span data-ttu-id="dd0d8-126">Prodej.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-126">Sales</span></span>             |
|-------------------------|-------------------|
| <span data-ttu-id="dd0d8-127">Záhlaví prodejní objednávky Dataverse</span><span class="sxs-lookup"><span data-stu-id="dd0d8-127">Dataverse sales order headers</span></span> | <span data-ttu-id="dd0d8-128">SalesOrders</span><span class="sxs-lookup"><span data-stu-id="dd0d8-128">SalesOrders</span></span>       |
| <span data-ttu-id="dd0d8-129">Řádky prodejní objednávky Dataverse</span><span class="sxs-lookup"><span data-stu-id="dd0d8-129">Dataverse sales order lines</span></span>   | <span data-ttu-id="dd0d8-130">SalesOrderDetails</span><span class="sxs-lookup"><span data-stu-id="dd0d8-130">SalesOrderDetails</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="dd0d8-131">Tok entity</span><span class="sxs-lookup"><span data-stu-id="dd0d8-131">Entity flow</span></span>

<span data-ttu-id="dd0d8-132">Prodejní objednávky jsou vytvořeny v aplikaci Sales a synchronizovány do aplikace Supply Chain Management při aktivaci možnosti **Spustit projekt** pro projekt na základě šablony **Prodejní objednávky (Sales do Supply Chain Management) - přímo**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-132">Sales orders are created in Sales and synchronized to Supply Chain Management when **Run project** is triggered for a project based on the **Sales Orders (Sales to Supply Chain Management) - Direct** template.</span></span> <span data-ttu-id="dd0d8-133">Můžete aktivovat a synchronizovat pouze objednávky z aplikace Sales v případě, že všechny **Produkty objednávky** se skládají z produktů, které jsou udržovány externě.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-133">You can only activate and synchronize orders from Sales if all **Order Products** consist of products that are externally maintained.</span></span> <span data-ttu-id="dd0d8-134">Z tohoto důvodu může existovat žádný zápis produktů.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-134">Therefore, there can be no write-in products.</span></span> <span data-ttu-id="dd0d8-135">Po aktivaci objednávky bude prodejní objednávka v uživatelském rozhraní jen pro čtení.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-135">After the order is activated, the sales order becomes read-only in the user interface (UI).</span></span> <span data-ttu-id="dd0d8-136">V daném okamžiku se provedou aktualizace aplikace Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-136">At that point, the updates are made from Supply Chain Management.</span></span> <span data-ttu-id="dd0d8-137">Poté, co má prodejní objednávka stav **Potvrzeno**, projekt založený na šabloně **Prodejní objednávky (Supply Chain Management do Sales) - přímo** umožňuje synchronizovat aktualizace nebo stav plnění z aplikace Supply Chain Management do Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-137">After the sales order has a status of **Confirmed**, the a project based on the **Sales Orders (Supply Chain Management to Sales) - Direct** template can be used to synchronize updates or fulfillment status from Supply Chain Management to Sales.</span></span>

<span data-ttu-id="dd0d8-138">Není nutné vytvoření objednávek v aplikaci Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-138">You don't have to create orders in Sales.</span></span> <span data-ttu-id="dd0d8-139">Místo toho můžete vytvořit nové prodejní objednávky v aplikaci Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-139">You can create new sales orders in Supply Chain Management instead.</span></span> <span data-ttu-id="dd0d8-140">Poté, co má prodejní objednávka stav **Potvrzeno**, bude synchronizována do aplikace Sales, jak je popsáno ve výše uvedeném odstavci.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-140">After a sales order has a status of **Confirmed**, it's synchronized to Sales as described in the previous paragraph.</span></span>

<span data-ttu-id="dd0d8-141">V aplikaci Supply Chain Management pomáhají filtry v šabloně zajistit, aby byly v synchronizaci zahrnuty pouze příslušné prodejní objednávky:</span><span class="sxs-lookup"><span data-stu-id="dd0d8-141">In Supply Chain Management, filters in the template help guarantee that only the relevant sales orders are included in the synchronization:</span></span>

- <span data-ttu-id="dd0d8-142">Objednávající a fakturující odběratel na prodejní objednávce musí pocházet z aplikace Sales, aby byli zahrnuti do procesu synchronizace.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-142">On the sales order, both the ordering customer and the invoicing customer have to originate from Sales to be included in the synchronization.</span></span> <span data-ttu-id="dd0d8-143">V aplikaci Supply Chain Management se používají sloupce **OrderingCustomerIsExternallyMaintained** a **InvoiceCustomerIsExternallyMaintained** k filtrování prodejních objednávek z datových tabulek.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-143">In Supply Chain Management, the **OrderingCustomerIsExternallyMaintained** and **InvoiceCustomerIsExternallyMaintained** columns are used to filter sales orders from the data tables.</span></span>
- <span data-ttu-id="dd0d8-144">Prodejní objednávka musí být v aplikaci Supply Chain Management potvrzena.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-144">The sales order in Supply Chain Management must be confirmed.</span></span> <span data-ttu-id="dd0d8-145">Pouze potvrzené prodejní objednávky nebo prodejní objednávky s vyšším stavem zpracování, například stavem **Expedováno** nebo **Fakturováno**, budou synchronizovány do aplikace Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-145">Only confirmed sales orders or sales orders that have a higher processing status, such as **Shipped** or **Invoiced**, are synchronized to Sales.</span></span>
- <span data-ttu-id="dd0d8-146">Po vytvoření nebo úpravě prodejní objednávky musí být provedena v aplikaci Supply Chain Management dávková úloha **Vypočítat celkové tržby**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-146">After a sales order is created or modified, the **Calculate sales totals** batch job in Supply Chain Management must be run.</span></span> <span data-ttu-id="dd0d8-147">Pouze prodejní objednávky s vypočítanými celkovými tržbami budou synchronizovány do aplikace Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-147">Only sales orders where sales totals are calculated will be synchronized to Sales.</span></span>

## <a name="freight-tax"></a><span data-ttu-id="dd0d8-148">Daň z přepravy</span><span class="sxs-lookup"><span data-stu-id="dd0d8-148">Freight tax</span></span>

<span data-ttu-id="dd0d8-149">Aplikace Sales nepodporuje daň na úrovni záhlaví, protože daň je uložena na úrovni řádku.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-149">Sales doesn't support tax at the header level, because tax is stored at the line level.</span></span> <span data-ttu-id="dd0d8-150">K podpoře daně na úrovni záhlaví z aplikace Supply Chain Management, jako je daň z přepravy, systém synchronizuje daň do aplikace Sales jako zápis produktu s názvem **Daň z přepravy** a který má částku daně z aplikace Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-150">To support tax at the header level from Supply Chain Management, such as tax on freight, the system synchronizes tax to Sales as a write-in product that is named **Freight Tax**, and that has the tax amount from Supply Chain Management.</span></span> <span data-ttu-id="dd0d8-151">Standardní kalkulace ceny v aplikaci Sales slouží pro součty, a to i v případě, kdy je daň na úrovní záhlaví z aplikace Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-151">In this way, the standard price calculation in Sales can be used for totals, even when there is tax at the header level from Supply Chain Management.</span></span>

## <a name="discount-calculation-and-rounding"></a><span data-ttu-id="dd0d8-152">Výpočet slevy a zaokrouhlení</span><span class="sxs-lookup"><span data-stu-id="dd0d8-152">Discount calculation and rounding</span></span>

<span data-ttu-id="dd0d8-153">Model výpočtu slevy v aplikaci Sales se liší od modelu výpočtu slevy v aplikaci Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-153">The discount calculation model in Sales differs from the discount calculation model in Supply Chain Management.</span></span> <span data-ttu-id="dd0d8-154">V aplikaci Supply Chain Management konečná částka slevy na řádku prodeje může být výsledkem kombinace částky slevy a procent slevy.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-154">In Supply Chain Management, the final discount amount on a sales line can be the result of a combination of discount amounts and discount percentages.</span></span> <span data-ttu-id="dd0d8-155">Pokud je tato celková částka slevy podělená množstvím na řádku, může dojít k zaokrouhlení.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-155">If this final discount amount is divided by the quantity on the line, rounding can occur.</span></span> <span data-ttu-id="dd0d8-156">Toto zaokrouhlení však není bráno v potaz, pokud je zaokrouhlená částka slevy na jednotku synchronizována do aplikace Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-156">However, this rounding isn't considered if a rounded per-unit discount amount is synchronized to Sales.</span></span> <span data-ttu-id="dd0d8-157">Chcete-li zaručit, že celková částka slevy z řádku prodeje v aplikaci Supply Chain Management je správně synchronizována do aplikace Sales, musí být celá částka synchronizována, aniž by byla podělena množstvím řádku.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-157">To help guarantee that the full discount amount from a sales line in Supply Chain Management is correctly synchronized to Sales, the full amount must be synchronized without being divided by the line quantity.</span></span> <span data-ttu-id="dd0d8-158">Proto je nutné definovat v aplikaci Sales možnost **Metoda výpočtu slevy** jako **Položku řádku**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-158">Therefore, you must define the **Discount calculation method** as **Line item** in Sales.</span></span>

<span data-ttu-id="dd0d8-159">Při synchronizaci řádku prodejní objednávky z aplikace Sales do aplikace Supply Chain Management se používá celková částka řádkové slevy.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-159">When a sales order line is synchronized from Sales to Supply Chain Management, the full line discount amount is used.</span></span> <span data-ttu-id="dd0d8-160">Protože aplikace Supply Chain Management nemá žádné pole pro uložení celé částky slevy pro řádek, je částka podělená množstvím a uložená v poli **Řádková sleva**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-160">Because Supply Chain Management has no field that can store the full discount amount for a line, the amount is divided by the quantity and stored in the **Line discount** field.</span></span> <span data-ttu-id="dd0d8-161">Jakékoliv zaokrouhlování, ke kterému dojde při tomto dělení, je uloženo v poli **Prodejní náklady** na řádku prodeje.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-161">Any rounding that occurs in this division is stored in the **Sales charges** field on the sales line.</span></span>

### <a name="example"></a><span data-ttu-id="dd0d8-162">Příklad</span><span class="sxs-lookup"><span data-stu-id="dd0d8-162">Example</span></span>

<span data-ttu-id="dd0d8-163">**Synchronizace ze Supply Chain Management**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-163">**Synchronization from Sales to Supply Chain Management**</span></span>

- <span data-ttu-id="dd0d8-164">**Prodej:** množství = 3, sleva na řádek = 10 USD</span><span class="sxs-lookup"><span data-stu-id="dd0d8-164">**Sales:** Quantity = 3, per-line discount = $10.00</span></span>
- <span data-ttu-id="dd0d8-165">**Supply Chain Management**: množství = 3, částka řádkové slevy = $3,33, prodejní poplatek =-$0,01</span><span class="sxs-lookup"><span data-stu-id="dd0d8-165">**Supply Chain Management:** Quantity = 3, line discount amount = $3.33, sales charge = -$0.01</span></span> 

<span data-ttu-id="dd0d8-166">**Synchronizace ze Supply Chain Management do Sales**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-166">**Synchronization from Supply Chain Management to Sales**</span></span>

- <span data-ttu-id="dd0d8-167">**Supply Chain Management**: množství = 3, částka řádkové slevy = $3,33, prodejní poplatek =-$0,01</span><span class="sxs-lookup"><span data-stu-id="dd0d8-167">**Supply Chain Management:** Quantity = 3, line discount amount = $3.33, sales charge = -$0.01</span></span>
- <span data-ttu-id="dd0d8-168">**Prodej:** množství = 3, sleva na řádek = (3 × 3,33 USD) + $0,01 USD = 10 USD</span><span class="sxs-lookup"><span data-stu-id="dd0d8-168">**Sales:** Quantity = 3, per-line discount = (3 × $3.33) + $0.01 = $10.00</span></span>

## <a name="prospect-to-cash-solution-for-sales"></a><span data-ttu-id="dd0d8-169">Řešení Potenciální zákazník pro hotovost v aplikaci Sales</span><span class="sxs-lookup"><span data-stu-id="dd0d8-169">Prospect to cash solution for Sales</span></span>

<span data-ttu-id="dd0d8-170">Nové sloupce byly přidána do tabulky **Objednávka** a zobrazí na stránce:</span><span class="sxs-lookup"><span data-stu-id="dd0d8-170">New columns have been added to the **Order** table and appear on the page:</span></span>

- <span data-ttu-id="dd0d8-171">**Je externě spravováno** - Nastavte tuto možnost na **Ano**, když pořadí pochází z aplikace Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-171">**Is Maintained Externally** – Set this option to **Yes** when the order is coming from Supply Chain Management.</span></span>
- <span data-ttu-id="dd0d8-172">**Stav zpracování** - Tento sloupec ukazuje stav zpracování objednávky v aplikaci Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-172">**Processing status** – This column shows the processing status of the order in Supply Chain Management.</span></span> <span data-ttu-id="dd0d8-173">K dispozici jsou následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="dd0d8-173">The following values are available:</span></span>

    - <span data-ttu-id="dd0d8-174">**Návrh** – Počáteční stav při vytvoření objednávky v aplikaci Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-174">**Draft** – The initial status when an order is created in Sales.</span></span> <span data-ttu-id="dd0d8-175">V aplikaci Sales lze upravit pouze objednávky s tímto stavem zpracování.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-175">In Sales, only orders with this processing status can be edited.</span></span>
    - <span data-ttu-id="dd0d8-176">**Aktivní** – Stav po aktivaci objednávky v aplikaci Sales s použitím tlačítka **Aktivovat**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-176">**Active** – The status after the order is activated in Sales by using the **Activate** button.</span></span>
    - <span data-ttu-id="dd0d8-177">**Potvrzeno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-177">**Confirmed**</span></span>
    - <span data-ttu-id="dd0d8-178">**Dodací list**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-178">**Packing Slip**</span></span>
    - <span data-ttu-id="dd0d8-179">**Fakturováno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-179">**Invoiced**</span></span>
    - <span data-ttu-id="dd0d8-180">**Vyskladněno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-180">**Picked**</span></span>
    - <span data-ttu-id="dd0d8-181">**Částečně vyskladněno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-181">**Partially Picked**</span></span>
    - <span data-ttu-id="dd0d8-182">**Částečně zabaleno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-182">**Partially Packed**</span></span>
    - <span data-ttu-id="dd0d8-183">**Expedováno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-183">**Shipped**</span></span>
    - <span data-ttu-id="dd0d8-184">**Částečně expedováno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-184">**Partially Shipped**</span></span>
    - <span data-ttu-id="dd0d8-185">**Částečně fakturováno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-185">**Partially Invoiced**</span></span>
    - <span data-ttu-id="dd0d8-186">**Zrušeno**</span><span class="sxs-lookup"><span data-stu-id="dd0d8-186">**Cancelled**</span></span>

<span data-ttu-id="dd0d8-187">Nastavení **Má pouze externě udržované produkty** se používá během aktivace objednávky ke konzistentnímu sledování, zda prodejní objednávka sestává zcela z externě spravovaných produktů.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-187">The **Has Externally Maintained Products Only** setting is used during order activation to consistently track whether a sales order consists entirely of externally maintained products.</span></span> <span data-ttu-id="dd0d8-188">Pokud prodejní objednávka sestává zcela z externě spravovaných produktů, produkty jsou evidovány v aplikaci Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-188">If a sales order consists entirely of externally maintained products, the products are maintained in Supply Chain Management.</span></span> <span data-ttu-id="dd0d8-189">Toto nastavení pomáhá zaručit, že neaktivujete a nepokusíte se synchronizovat řádky prodejní objednávky s produkty, které mají v aplikaci Supply Chain Management neznámé produkty.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-189">This setting helps guarantee that you don't activate and try to synchronize sales order lines that have products that are unknown to Supply Chain Management.</span></span>

<span data-ttu-id="dd0d8-190">Tlačítka **Vytvořit fakturu**, **Zrušit objednávku**, **Přepočítat**, **Získat produkty** a **Vyhledávání adresy** na stránce **Prodejní objednávka** jsou pro externě udržované objednávky skryta, protože faktury budou vytvořeny v aplikaci Supply Chain Management a synchronizovány do aplikace Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-190">The **Create Invoice**, **Cancel Order**, **Recalculate**, **Get Products**, and **Lookup Address** buttons on the **Sales order** page are hidden for externally maintained orders, because invoices will be created in Supply Chain Management and synchronized to Sales.</span></span> <span data-ttu-id="dd0d8-191">Tyto objednávky nelze upravovat, protože informace o prodejní objednávce budou synchronizovány po této aktivaci z aplikace Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-191">These orders can't be edited, because sales order information will be synchronized from Supply Chain Management after activation.</span></span>

<span data-ttu-id="dd0d8-192">Stav prodejní objednávky zůstane **Aktivní**, aby se zajistilo, že změny z aplikace Supply Chain Management mohou být odeslány do prodejní objednávky v aplikaci Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-192">The sales order status will remain **Active** to help guarantee that changes from Supply Chain Management can flow to the sales order in Sales.</span></span> <span data-ttu-id="dd0d8-193">Chcete-li kontrolovat toto chování, nastavte hodnotu **Statecode \[Stav\]** na **Aktivní** v projektu integrace dat.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-193">To control this behavior, set the default **Statecode \[Status\]** value to **Active** in the Data integration project.</span></span>

## <a name="preconditions-and-mapping-setup"></a><span data-ttu-id="dd0d8-194">Nastavení mapování a předpokladů</span><span class="sxs-lookup"><span data-stu-id="dd0d8-194">Preconditions and mapping setup</span></span>

<span data-ttu-id="dd0d8-195">Před synchronizací prodejních objednávek je důležité aktualizovat následující nastavení v systémech:</span><span class="sxs-lookup"><span data-stu-id="dd0d8-195">Before you synchronize sales orders, it's important that you update the following settings in the systems.</span></span>

### <a name="setup-in-sales"></a><span data-ttu-id="dd0d8-196">Nastavení v aplikaci Sales</span><span class="sxs-lookup"><span data-stu-id="dd0d8-196">Setup in Sales</span></span>

- <span data-ttu-id="dd0d8-197">Zajistěte, že jsou nastavena oprávnění pro tým, ke kterému je uživatel ze sady připojení aplikace Sales přiřazen.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-197">Make sure that permissions are set up for the team that the user from your Sales connection set is assigned to.</span></span> <span data-ttu-id="dd0d8-198">Používáte-li ukázková data, má obvykle uživatel přístup správce, ale tým ho nemá.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-198">If you're using demo data, the user usually has admin access, but the team doesn't have admin access.</span></span> <span data-ttu-id="dd0d8-199">Pokud nemá tým přístup správce při spuštění projektu z integrace dat, dostanete chybovou zprávu s oznámením, že hlavní tým chybí.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-199">If the team doesn't have admin access, when you run the project from Data integration, you will receive an error message that states that the Principal team is missing.</span></span>

    <span data-ttu-id="dd0d8-200">Přejděte na **Nastavení** &gt; **Zabezpečení** &gt; **Týmy**, vyberte příslušný tým, zvolte **Spravovat role** a vyberte roli s požadovanými oprávněními, například **Správce systému**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-200">Go to **Settings** &gt; **Security** &gt; **Teams**, select the relevant team, select **Manage Roles**, and select a role that has the desired permissions, such as **System Administrator**.</span></span>

- <span data-ttu-id="dd0d8-201">Chcete-li zajistit správné výpočty slev v aplikacích Supply Chain Management, je třeba nastavit položku **Metoda výpočtu slevy** na **Položka řádku**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-201">To ensure correct calculation of discounts in both Sales and Supply Chain Management **Discount calculation method** must be set to **Line item**.</span></span>
- <span data-ttu-id="dd0d8-202">Přejděte na **Nastavení** &gt; **Správa** &gt; **Nastavení systému** &gt; **Prodej** a ujistěte se, že se používají následující nastavení:</span><span class="sxs-lookup"><span data-stu-id="dd0d8-202">Go to **Settings** &gt; **Administration** &gt; **System settings** &gt; **Sales**, and make sure that the following settings are used:</span></span>

    - <span data-ttu-id="dd0d8-203">Možnost **Použít systém výpočtu ceny** je nastavena na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-203">The **Use system prizing calculation system** option is set to **Yes**.</span></span>
    - <span data-ttu-id="dd0d8-204">Sloupec **Metoda výpočtu slevy** je nastaven na **Položka řádku**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-204">The **Discount calculation method** column is set to **Line item**.</span></span>

### <a name="setup-in-supply-chain-management"></a><span data-ttu-id="dd0d8-205">Nastavení v Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="dd0d8-205">Setup in Supply Chain Management</span></span>

- <span data-ttu-id="dd0d8-206">Přejděte na **Prodej a marketing** &gt; **Periodické úlohy** &gt; **Vypočítat celkové tržby** a nastavte úlohu, aby se spustila jako dávková úloha.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-206">Go to **Sales and marketing** &gt; **Periodic tasks** &gt; **Calculate sales totals**, and set the job to run as a batch job.</span></span> <span data-ttu-id="dd0d8-207">Nastavte možnost **Vypočítat celkové částky prodejních objednávek** na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-207">Set the **Calculate totals for sales orders** option to **Yes**.</span></span> <span data-ttu-id="dd0d8-208">Tento krok je důležitý, protože pouze prodejní objednávky s vypočítanými celkovými tržbami budou synchronizovány do aplikace Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-208">This step is important, because only sales orders where sales totals are calculated will be synchronized to Sales.</span></span> <span data-ttu-id="dd0d8-209">Frekvence dávkové úlohy musí být ve shodě s frekvencí synchronizace prodejní objednávky.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-209">The frequency of the batch job should be aligned with the frequency of sales order synchronization.</span></span>

<span data-ttu-id="dd0d8-210">Pokud také používáte integraci s pracovními příkazy, je nutné nastavit původ prodeje.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-210">If you also use work order integration, you need to set up the sales origin.</span></span> <span data-ttu-id="dd0d8-211">Původ prodej slouží k odlišení prodejních objednávek v Supply Chain Management, které byly vytvořeny z pracovních objednávek v modulu Field Service.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-211">The sales origin is used to distinguish sales orders in Supply Chain Management that were created from work orders in Field Service.</span></span> <span data-ttu-id="dd0d8-212">Když má prodejní objednávka původ typu **Integrace pracovního příkazu**, v záhlaví prodejní objednávky se zobrazí pole **Stav externí pracovní objednávky**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-212">When a sales order has a sales origin of the **Work order integration** type, the **External work order status** field appears on the sales order header.</span></span> <span data-ttu-id="dd0d8-213">Původ prodeje zajišťuje, aby během synchronizace prodejní objednávky ze Supply Chain Management do Field Service byly odfiltrovány prodejních objednávek, které byly vytvořeny z pracovních příkazů ve Field Service.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-213">Additionally, the sales origin ensures that sales orders that were created from work orders in Field Service are filtered out during sales order synchronization from Supply Chain Management to Field Service.</span></span>

1. <span data-ttu-id="dd0d8-214">Přejděte na **Prodej a marketing** \> **Nastavení** \> **Prodejní objednávky** \> **Původ prodeje**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-214">Go to **Sales and marketing** \> **Setup** \> **Sales orders** \> **Sales origin**.</span></span>
2. <span data-ttu-id="dd0d8-215">Vyberte **nový** pro vytvoření nového původu prodeje.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-215">Select **New** to create a new sales origin.</span></span>
3. <span data-ttu-id="dd0d8-216">Ve sloupci **Původ prodeje** zadejte název pro původ prodeje, jako je například **SalesOrder**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-216">In the **Sales origin** column, enter a name for the sales origin, such as **SalesOrder**.</span></span>
4. <span data-ttu-id="dd0d8-217">Do sloupce **Popis** zadejte popis, například **Prodejní objednávka z obchodního oddělení**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-217">In the **Description** column, enter a description, such as **Sales Order from Sales**.</span></span>
5. <span data-ttu-id="dd0d8-218">Zaškrtněte políčko **Přiřazení typů původu**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-218">Select the **Origin type assignment** check box.</span></span>
6. <span data-ttu-id="dd0d8-219">Nastavte hodnotu ve sloupci **Typ původu prodeje** na **Integrace prodejní objednávky**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-219">Set the **Sales origin type** column to **Sales order integration**.</span></span>
7. <span data-ttu-id="dd0d8-220">Zvolte **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-220">Select **Save**.</span></span>

### <a name="setup-in-the-sales-orders-sales-to-supply-chain-management---direct-data-integration-project"></a><span data-ttu-id="dd0d8-221">Nastavení v prodejních objednávkách (Sales do Supply Chain Management) - Přímo v projektu integrace dat</span><span class="sxs-lookup"><span data-stu-id="dd0d8-221">Setup in the Sales Orders (Sales to Supply Chain Management) - Direct Data integration project</span></span>

- <span data-ttu-id="dd0d8-222">Ujistěte se, že existuje požadované mapování pro **Shipto\_country** do **DeliveryAddressCountryRegionISOCode**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-222">Make sure that the required mapping exists for **Shipto\_country** to **DeliveryAddressCountryRegionISOCode**.</span></span> <span data-ttu-id="dd0d8-223">Můžete ponechat prázdnou výchozí hodnotu v mapě hodnot, abyste nemuseli zadávat zemi pro národní objednávky.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-223">You can make blank a default value in the value map to avoid having to type country for national orders.</span></span> <span data-ttu-id="dd0d8-224">Nastavte levou stranu na Prázdné a pravou stranu na požadovanou zemi nebo oblast.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-224">Set the left side to 'Blank', and set the right side to the desired country or region.</span></span>

    <span data-ttu-id="dd0d8-225">Hodnota šablony je mapa hodnot, kde je namapováno několik zemí nebo oblastí a kde prázdná hodnota = USA.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-225">The template value is a value map where several countries or regions are mapped, and where 'Blank' = US.</span></span>

### <a name="setup-in-the-sales-orders-supply-chain-management-to-sales---direct-data-integration-project"></a><span data-ttu-id="dd0d8-226">Nastavení v prodejních objednávkách (Supply Chain Management do Sales) - Přímo v projektu integrace dat</span><span class="sxs-lookup"><span data-stu-id="dd0d8-226">Setup in the Sales Orders (Supply Chain Management to Sales) - Direct Data integration project</span></span>

#### <a name="salesheader-task"></a><span data-ttu-id="dd0d8-227">Úloha SalesHeader</span><span class="sxs-lookup"><span data-stu-id="dd0d8-227">SalesHeader task</span></span>

- <span data-ttu-id="dd0d8-228">Ceník je povinný pro vytvoření objednávek v aplikaci Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-228">A price list is required in order to create orders in Sales.</span></span> <span data-ttu-id="dd0d8-229">Aktualizujte mapu hodnot pro **pricelevelid.name \[Název ceníku\]** do ceníku, použitého v aplikaci Sales podle měny.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-229">Update the value map for **pricelevelid.name \[Price List Name\]** to the price list that is used in Sales per currency.</span></span> <span data-ttu-id="dd0d8-230">Výchozí ceník můžete použít pro jednu měnu.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-230">You can use the default price list for a single currency.</span></span> <span data-ttu-id="dd0d8-231">Popřípadě pokud máte ceníky v několika měnách, můžete použít mapu hodnot.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-231">Alternatively, if you have price lists in multiple currencies, you can use a value map.</span></span>

    <span data-ttu-id="dd0d8-232">Výchozí hodnota šablony pro  **pricelevelid.name \[Název ceníku\]** je **CRM služba USA (vzorek)**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-232">The default template value for **pricelevelid.name \[Price List Name\]** is **CRM Service USA (sample)**.</span></span>

#### <a name="salesline-task"></a><span data-ttu-id="dd0d8-233">Úloha SalesLine</span><span class="sxs-lookup"><span data-stu-id="dd0d8-233">SalesLine task</span></span>

- <span data-ttu-id="dd0d8-234">Ujistěte se, že existuje požadovaná mapa hodnot pro **SalesUnitSymbol** v aplikaci Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-234">Make sure that the required value map for **SalesUnitSymbol** in Supply Chain Management exists.</span></span>
- <span data-ttu-id="dd0d8-235">Ujistěte se, že požadované jednotky jsou definovány v aplikaci Sales.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-235">Make sure that the required units are defined in Sales.</span></span>

    <span data-ttu-id="dd0d8-236">Hodnota šablony, která má mapu hodnoty, je definována pro **SalesUnitSymbol** do **oumid.name**.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-236">A template value that has a value map is defined for **SalesUnitSymbol** to **oumid.name**.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="dd0d8-237">Mapování šablony v integraci dat</span><span class="sxs-lookup"><span data-stu-id="dd0d8-237">Template mapping in Data integration</span></span>

> [!NOTE]
> <span data-ttu-id="dd0d8-238">Sloupce **Platební podmínky**, **Dopravní podmínky**, **Dodací podmínky**, **způsob dopravy** a **způsob dodání** nejsou součástí výchozího mapování.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-238">The **Payment terms**, **Freight terms**, **Delivery terms**, **Shipping method**, and **Delivery mode** columns aren't part of the default mappings.</span></span> <span data-ttu-id="dd0d8-239">Pokud chcete tyto sloupce mapovat, je nutné nastavit mapování hodnoty, které je specifické pro data v organizacích, mezi nimiž je tabulka synchronizována.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-239">To map these columns, you must set up a value mapping that is specific to the data in the organizations that the table is synchronized between.</span></span>

<span data-ttu-id="dd0d8-240">Na následujícím obrázku je příklad mapování šablony v integraci dat.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-240">The following illustrations show an example of a template mapping in Data integration.</span></span>

> [!NOTE]
> <span data-ttu-id="dd0d8-241">Mapování ukazuje, jaké informace o sloupci budou synchronizovány z aplikace Sales do aplikace Supply Chain Management nebo naopak.</span><span class="sxs-lookup"><span data-stu-id="dd0d8-241">The mapping shows which column information will be synchronized from Sales to Supply Chain Management, or from Supply Chain Management to Sales.</span></span>

### <a name="sales-orders-supply-chain-management-to-sales---direct-orderheader"></a><span data-ttu-id="dd0d8-242">Prodejní objednávky (Supply Chain Management do Sales): OrderHeader</span><span class="sxs-lookup"><span data-stu-id="dd0d8-242">Sales Orders (Supply Chain Management to Sales) - Direct: OrderHeader</span></span>

<span data-ttu-id="dd0d8-243">[![Mapování šablony v integraci dat](./media/sales-order-direct-template-mapping-data-integrator-1.png)](./media/sales-order-direct-template-mapping-data-integrator-1.png)</span><span class="sxs-lookup"><span data-stu-id="dd0d8-243">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-1.png)](./media/sales-order-direct-template-mapping-data-integrator-1.png)</span></span>

### <a name="sales-orders-supply-chain-management-to-sales---direct-orderline"></a><span data-ttu-id="dd0d8-244">Prodejní objednávky (Supply Chain Management do Sales): OrderLine</span><span class="sxs-lookup"><span data-stu-id="dd0d8-244">Sales Orders (Supply Chain Management to Sales) - Direct: OrderLine</span></span>

<span data-ttu-id="dd0d8-245">[![Mapování šablony v integraci dat](./media/sales-order-direct-template-mapping-data-integrator-2.png)](./media/sales-order-direct-template-mapping-data-integrator-2.png)</span><span class="sxs-lookup"><span data-stu-id="dd0d8-245">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-2.png)](./media/sales-order-direct-template-mapping-data-integrator-2.png)</span></span>

### <a name="sales-orders-sales-to-supply-chain-management---direct-orderheader"></a><span data-ttu-id="dd0d8-246">Prodejní objednávky (Sales do Supply Chain Management): OrderHeader</span><span class="sxs-lookup"><span data-stu-id="dd0d8-246">Sales Orders (Sales to Supply Chain Management) - Direct: OrderHeader</span></span>

<span data-ttu-id="dd0d8-247">[![Mapování šablony v integraci dat](./media/sales-order-direct-template-mapping-data-integrator-3.png)](./media/sales-order-direct-template-mapping-data-integrator-3.png)</span><span class="sxs-lookup"><span data-stu-id="dd0d8-247">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-3.png)](./media/sales-order-direct-template-mapping-data-integrator-3.png)</span></span>

### <a name="sales-orders-sales-to-supply-chain-management---direct-orderline"></a><span data-ttu-id="dd0d8-248">Prodejní objednávky (Sales do Supply Chain Management) - přímé: OrderLine</span><span class="sxs-lookup"><span data-stu-id="dd0d8-248">Sales Orders (Sales to Supply Chain Management) - Direct: OrderLine</span></span>

<span data-ttu-id="dd0d8-249">[![Mapování šablony v integraci dat](./media/sales-order-direct-template-mapping-data-integrator-4.png)](./media/sales-order-direct-template-mapping-data-integrator-4.png)</span><span class="sxs-lookup"><span data-stu-id="dd0d8-249">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-4.png)](./media/sales-order-direct-template-mapping-data-integrator-4.png)</span></span>

## <a name="related-topics"></a><span data-ttu-id="dd0d8-250">Související témata</span><span class="sxs-lookup"><span data-stu-id="dd0d8-250">Related topics</span></span>

[<span data-ttu-id="dd0d8-251">zpeněžení potenciálního zákazníka</span><span class="sxs-lookup"><span data-stu-id="dd0d8-251">Prospect to cash</span></span>](prospect-to-cash.md)
