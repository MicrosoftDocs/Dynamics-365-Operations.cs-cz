---
title: Synchronizace pracovních příkazů ve službě Field Service do prodejních objednávek v aplikaci Supply Chain Management
description: Toto téma popisuje šablony a základní úlohy, které se používají k synchronizaci pracovních příkazů v modulu Field Service do prodejních objednávek v modulu Supply Chain Management.
author: ChristianRytt
manager: tfehr
ms.date: 04/09/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.openlocfilehash: f9395d39a68cd11f57262c791dd7646975c5e516
ms.sourcegitcommit: 38d40c331c8894acb7b119c5073e3088b54776c1
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/15/2021
ms.locfileid: "4998496"
---
# <a name="synchronize-work-orders-in-field-service-to-sales-orders-in-supply-chain-management"></a><span data-ttu-id="c16c6-103">Synchronizace pracovních příkazů ve službě Field Service do prodejních objednávek v aplikaci Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="c16c6-103">Synchronize work orders in Field Service to sales orders in Supply Chain Management</span></span>

[!include[banner](../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

<span data-ttu-id="c16c6-104">Toto téma popisuje šablony a základní úlohy, které se používají k synchronizaci pracovních příkazů v Dynamics 365 Field Service do prodejních objednávek v Dynamics 365 Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-104">This topic discusses the templates and underlying tasks that are used to synchronize work orders in Dynamics 365 Field Service to sales order in Dynamics 365 Supply Chain Management.</span></span>

<span data-ttu-id="c16c6-105">[![Synchronizace obchodních procesů mezi Supply Chain Management a Field Service](./media/field-service-integration.png)](./media/field-service-integration.png)</span><span class="sxs-lookup"><span data-stu-id="c16c6-105">[![Synchronization of business processes between Supply Chain Management and Field Service](./media/field-service-integration.png)](./media/field-service-integration.png)</span></span>


## <a name="templates-and-tasks"></a><span data-ttu-id="c16c6-106">Šablony a úkoly</span><span class="sxs-lookup"><span data-stu-id="c16c6-106">Templates and tasks</span></span>

<span data-ttu-id="c16c6-107">Následující šablony a základní úlohy se používají k synchronizaci pracovních příkazů v modulu Field Service do prodejních objednávek v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-107">The following templates and underlying tasks are used to run the synchronization of work orders in Field Service to sales orders in Supply Chain Management.</span></span>

### <a name="names-of-the-templates-in-data-integration"></a><span data-ttu-id="c16c6-108">Názvy šablon v integraci dat</span><span class="sxs-lookup"><span data-stu-id="c16c6-108">Names of the templates in Data integration</span></span>

<span data-ttu-id="c16c6-109">Šablona **Pracovní příkazy na prodejní objednávky (Field Service do Supply Chain Management.)** slouží ke spuštění synchronizace.</span><span class="sxs-lookup"><span data-stu-id="c16c6-109">The **Work orders to Sales orders (Field Service to Supply Chain Management)** template is used to run synchronization.</span></span>

### <a name="names-of-the-tasks-in-the-data-integration-project"></a><span data-ttu-id="c16c6-110">Názvy úkolů v projektu integrace dat</span><span class="sxs-lookup"><span data-stu-id="c16c6-110">Names of the tasks in the Data integration project</span></span>

- <span data-ttu-id="c16c6-111">WorkOrderHeader</span><span class="sxs-lookup"><span data-stu-id="c16c6-111">WorkOrderHeader</span></span>
- <span data-ttu-id="c16c6-112">WorkOrderServiceLineEstimate</span><span class="sxs-lookup"><span data-stu-id="c16c6-112">WorkOrderServiceLineEstimate</span></span>
- <span data-ttu-id="c16c6-113">WorkOrderServiceLineUsed</span><span class="sxs-lookup"><span data-stu-id="c16c6-113">WorkOrderServiceLineUsed</span></span>
- <span data-ttu-id="c16c6-114">WorkOrderProductLineEstimate</span><span class="sxs-lookup"><span data-stu-id="c16c6-114">WorkOrderProductLineEstimate</span></span>
- <span data-ttu-id="c16c6-115">WorkOrderProductLineUsed</span><span class="sxs-lookup"><span data-stu-id="c16c6-115">WorkOrderProductLineUsed</span></span>

<span data-ttu-id="c16c6-116">Následující úlohy synchronizace jsou vyžadovány před synchronizací záhlaví prodejní objednávky a mohou se objevit řádky:</span><span class="sxs-lookup"><span data-stu-id="c16c6-116">The following synchronization tasks are required before synchronization of sales order headers and lines can occur:</span></span>

- <span data-ttu-id="c16c6-117">Produkty Field Service (Supply Chain Management do Field Service)</span><span class="sxs-lookup"><span data-stu-id="c16c6-117">Field Service Products (Supply Chain Management to Field Service)</span></span>
- <span data-ttu-id="c16c6-118">Obchodní vztahy (Sales do Supply Chain Management) – Přímo</span><span class="sxs-lookup"><span data-stu-id="c16c6-118">Accounts (Sales to Supply Chain Management) – Direct</span></span>

## <a name="entity-set"></a><span data-ttu-id="c16c6-119">Sada entit</span><span class="sxs-lookup"><span data-stu-id="c16c6-119">Entity set</span></span>

| <span data-ttu-id="c16c6-120">**Field Service**</span><span class="sxs-lookup"><span data-stu-id="c16c6-120">**Field Service**</span></span> | <span data-ttu-id="c16c6-121">**Správa dodavatelsko-odběratelského řetězce**</span><span class="sxs-lookup"><span data-stu-id="c16c6-121">**Supply Chain Management**</span></span> |
|-------------------------|-------------------------|
| <span data-ttu-id="c16c6-122">msdyn_workorders</span><span class="sxs-lookup"><span data-stu-id="c16c6-122">msdyn_workorders</span></span>        | <span data-ttu-id="c16c6-123">Záhlaví prodejní objednávky Dataverse</span><span class="sxs-lookup"><span data-stu-id="c16c6-123">Dataverse sales order headers</span></span> |
| <span data-ttu-id="c16c6-124">msdyn_workorderservices</span><span class="sxs-lookup"><span data-stu-id="c16c6-124">msdyn_workorderservices</span></span> | <span data-ttu-id="c16c6-125">Řádky prodejní objednávky Dataverse</span><span class="sxs-lookup"><span data-stu-id="c16c6-125">Dataverse sales order lines</span></span>   |
| <span data-ttu-id="c16c6-126">msdyn_workorderproducts</span><span class="sxs-lookup"><span data-stu-id="c16c6-126">msdyn_workorderproducts</span></span> | <span data-ttu-id="c16c6-127">Řádky prodejní objednávky Dataverse</span><span class="sxs-lookup"><span data-stu-id="c16c6-127">Dataverse sales order lines</span></span>   |

## <a name="entity-flow"></a><span data-ttu-id="c16c6-128">Tok entity</span><span class="sxs-lookup"><span data-stu-id="c16c6-128">Entity flow</span></span>

<span data-ttu-id="c16c6-129">Objednávky práce se vytvářejí v aplikaci Field Service.</span><span class="sxs-lookup"><span data-stu-id="c16c6-129">Work orders are created in Field Service.</span></span> <span data-ttu-id="c16c6-130">V případě, že objednávky práce zahrnují pouze externě spravované produkty a hodnota **Stav pracovní objednávky** se liší od hodnoty **Neplánované otevřené** a **Uzavřené – zrušené**, lze objednávky práce synchronizovat s Supply Chain Management přes projekt Integrace dat Microsoft Dataverse.</span><span class="sxs-lookup"><span data-stu-id="c16c6-130">If the work orders include only externally maintained products, and if the **Work order status** value differs from **Open-Unscheduled** and **Closed – Cancelled**, the work orders can be synchronized to Supply Chain Management via a Microsoft Dataverse Data integration project.</span></span> <span data-ttu-id="c16c6-131">Aktualizace u pracovních příkazů budou synchronizovány jako prodejní objednávky v modulu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-131">Updates on the work orders will be synchronized as sales orders in Supply Chain Management.</span></span> <span data-ttu-id="c16c6-132">Mezi tyto aktualizace patří informace o typu původu a stavu.</span><span class="sxs-lookup"><span data-stu-id="c16c6-132">These updates include the information about the origin type and status.</span></span>

## <a name="estimated-versus-used"></a><span data-ttu-id="c16c6-133">Odhadované versus používané</span><span class="sxs-lookup"><span data-stu-id="c16c6-133">Estimated versus Used</span></span>

<span data-ttu-id="c16c6-134">V modulu Field Service mají produkty a služby u pracovních příkazů hodnoty **Odhadované** a **používané** pro množství a částky.</span><span class="sxs-lookup"><span data-stu-id="c16c6-134">In Field Service, products and services on work orders have both **Estimated** values and **Used** values for quantities and amounts.</span></span> <span data-ttu-id="c16c6-135">V Supply Chain Management ale prodejní objednávky nemají stejný koncept hodnot **Odhadované** a **Používané**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-135">However, in Supply Chain Management, sales orders don't have the same concept of **Estimated** and **Used** values.</span></span> <span data-ttu-id="c16c6-136">K podpoře přidělení produktu, které používá očekávané množství v prodejní objednávce v Supply Chain Management, ale aby se zachovalo použité množství, které má být spotřebováno a fakturováno, jsou použity dvě sady úkolů k synchronizace produktů a služeb v pracovním příkazu.</span><span class="sxs-lookup"><span data-stu-id="c16c6-136">To support product allocation that uses the expected quantity on the sales order in Supply Chain Management, but to keep the used quantity that should be consumed and invoiced, two sets of tasks synchronize the products and services on the work order.</span></span> <span data-ttu-id="c16c6-137">Jedna skupina úloh je pro hodnoty **Odhadované** a druhá pro hodnoty **Používané**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-137">One set of tasks is for **Estimated** values, and the other set of tasks is for **Used** values.</span></span>

<span data-ttu-id="c16c6-138">Toto chování umožňuje scénáře, kdy se odhadované hodnoty používají pro přidělení nebo rezervace v Supply Chain Management a použité hodnoty pro spotřebu a fakturaci.</span><span class="sxs-lookup"><span data-stu-id="c16c6-138">This behavior enables scenarios where estimated values are used for allocation or reservation in Supply Chain Management, whereas used values are used for consumption and invoicing.</span></span>

### <a name="estimated"></a><span data-ttu-id="c16c6-139">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-139">Estimated</span></span>

<span data-ttu-id="c16c6-140">Pro synchronizaci řádků produktů se hodnoty **odhadované** budou používat, když je hodnota **Stav řádku** **odhadované**, možnost **přidělené** je nastavena na **Ano** a hodnota **Stav systému** není **uzavřen – zaúčtování**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-140">For synchronization of product lines, the **Estimated** values are used when the **Line Status** value is **Estimated**, the **Allocated** option is set to **Yes**, and **System Status** value isn't **Closed – Posted**.</span></span>

<span data-ttu-id="c16c6-141">Pro synchronizaci řádků služby se hodnoty **Odhadované** používají, když je hodnota **Stav řádku** **Odhadované** a **Stav systému** není **Uzavřeno – zaúčtováno**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-141">For synchronization of service lines, the **Estimated** values are used when the **Line Status** value is **Estimated** and the **System Status** value isn't **Closed – Posted**.</span></span>

### <a name="used"></a><span data-ttu-id="c16c6-142">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-142">Used</span></span>

<span data-ttu-id="c16c6-143">Hodnoty **Použité** budou použity pro spotřebu a fakturaci.</span><span class="sxs-lookup"><span data-stu-id="c16c6-143">The **Used** values are used for consumption and invoicing.</span></span> <span data-ttu-id="c16c6-144">V těchto případech jsou hodnoty **Používá** synchronizovány.</span><span class="sxs-lookup"><span data-stu-id="c16c6-144">In these cases, the **Used** values are synchronized.</span></span>

<span data-ttu-id="c16c6-145">Následující tabulka poskytuje přehled různých kombinací řádků produktu.</span><span class="sxs-lookup"><span data-stu-id="c16c6-145">The following table provides an overview of the various combinations for product lines.</span></span>

| <span data-ttu-id="c16c6-146">Stav systému</span><span class="sxs-lookup"><span data-stu-id="c16c6-146">System Status</span></span> <br><span data-ttu-id="c16c6-147">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="c16c6-147">(Field Service)</span></span> | <span data-ttu-id="c16c6-148">Stav řádku</span><span class="sxs-lookup"><span data-stu-id="c16c6-148">Line Status</span></span> <br><span data-ttu-id="c16c6-149">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="c16c6-149">(Field Service)</span></span> | <span data-ttu-id="c16c6-150">Přiděleno</span><span class="sxs-lookup"><span data-stu-id="c16c6-150">Allocated</span></span> <br><span data-ttu-id="c16c6-151">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="c16c6-151">(Field Service)</span></span> |<span data-ttu-id="c16c6-152">Synchronizovaná hodnota</span><span class="sxs-lookup"><span data-stu-id="c16c6-152">Synchronized value</span></span> <br><span data-ttu-id="c16c6-153">(Supply Chain Management)</span><span class="sxs-lookup"><span data-stu-id="c16c6-153">(Supply Chain Management)</span></span> |
|--------------------|-------------|-----------|---------------------------------|
| <span data-ttu-id="c16c6-154">Otevřeno - Plánováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-154">Open - Scheduled</span></span>   | <span data-ttu-id="c16c6-155">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-155">Estimated</span></span>   | <span data-ttu-id="c16c6-156">Ano</span><span class="sxs-lookup"><span data-stu-id="c16c6-156">Yes</span></span>       | <span data-ttu-id="c16c6-157">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-157">Estimated</span></span>                       |
| <span data-ttu-id="c16c6-158">Otevřeno - Plánováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-158">Open - Scheduled</span></span>   | <span data-ttu-id="c16c6-159">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-159">Estimated</span></span>   | <span data-ttu-id="c16c6-160">Žádný</span><span class="sxs-lookup"><span data-stu-id="c16c6-160">No</span></span>        | <span data-ttu-id="c16c6-161">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-161">Used</span></span>                            |
| <span data-ttu-id="c16c6-162">Otevřeno - Plánováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-162">Open - Scheduled</span></span>   | <span data-ttu-id="c16c6-163">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-163">Used</span></span>        | <span data-ttu-id="c16c6-164">Ano</span><span class="sxs-lookup"><span data-stu-id="c16c6-164">Yes</span></span>       | <span data-ttu-id="c16c6-165">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-165">Used</span></span>                            |
| <span data-ttu-id="c16c6-166">Otevřeno - Plánováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-166">Open - Scheduled</span></span>   | <span data-ttu-id="c16c6-167">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-167">Used</span></span>        | <span data-ttu-id="c16c6-168">Žádný</span><span class="sxs-lookup"><span data-stu-id="c16c6-168">No</span></span>        | <span data-ttu-id="c16c6-169">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-169">Used</span></span>                            |
| <span data-ttu-id="c16c6-170">Otevřeno - Probíhá</span><span class="sxs-lookup"><span data-stu-id="c16c6-170">Open - In Progress</span></span> | <span data-ttu-id="c16c6-171">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-171">Estimated</span></span>   | <span data-ttu-id="c16c6-172">Ano</span><span class="sxs-lookup"><span data-stu-id="c16c6-172">Yes</span></span>       | <span data-ttu-id="c16c6-173">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-173">Estimated</span></span>                       |
| <span data-ttu-id="c16c6-174">Otevřeno - Probíhá</span><span class="sxs-lookup"><span data-stu-id="c16c6-174">Open - In Progress</span></span> | <span data-ttu-id="c16c6-175">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-175">Estimated</span></span>   | <span data-ttu-id="c16c6-176">Žádný</span><span class="sxs-lookup"><span data-stu-id="c16c6-176">No</span></span>        | <span data-ttu-id="c16c6-177">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-177">Used</span></span>                            |
| <span data-ttu-id="c16c6-178">Otevřeno - Probíhá</span><span class="sxs-lookup"><span data-stu-id="c16c6-178">Open - In Progress</span></span> | <span data-ttu-id="c16c6-179">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-179">Used</span></span>        | <span data-ttu-id="c16c6-180">Ano</span><span class="sxs-lookup"><span data-stu-id="c16c6-180">Yes</span></span>       | <span data-ttu-id="c16c6-181">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-181">Used</span></span>                            |
| <span data-ttu-id="c16c6-182">Otevřeno - Probíhá</span><span class="sxs-lookup"><span data-stu-id="c16c6-182">Open - In Progress</span></span> | <span data-ttu-id="c16c6-183">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-183">Used</span></span>        | <span data-ttu-id="c16c6-184">Žádný</span><span class="sxs-lookup"><span data-stu-id="c16c6-184">No</span></span>        | <span data-ttu-id="c16c6-185">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-185">Used</span></span>                            |
| <span data-ttu-id="c16c6-186">Otevřeno - Dokončeno</span><span class="sxs-lookup"><span data-stu-id="c16c6-186">Open - Completed</span></span>   | <span data-ttu-id="c16c6-187">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-187">Estimated</span></span>   | <span data-ttu-id="c16c6-188">Ano</span><span class="sxs-lookup"><span data-stu-id="c16c6-188">Yes</span></span>       | <span data-ttu-id="c16c6-189">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-189">Estimated</span></span>                       |
| <span data-ttu-id="c16c6-190">Otevřeno - Dokončeno</span><span class="sxs-lookup"><span data-stu-id="c16c6-190">Open - Completed</span></span>   | <span data-ttu-id="c16c6-191">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-191">Estimated</span></span>   | <span data-ttu-id="c16c6-192">Žádný</span><span class="sxs-lookup"><span data-stu-id="c16c6-192">No</span></span>        | <span data-ttu-id="c16c6-193">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-193">Used</span></span>                            |
| <span data-ttu-id="c16c6-194">Otevřeno - Dokončeno</span><span class="sxs-lookup"><span data-stu-id="c16c6-194">Open - Completed</span></span>   | <span data-ttu-id="c16c6-195">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-195">Used</span></span>        | <span data-ttu-id="c16c6-196">Ano</span><span class="sxs-lookup"><span data-stu-id="c16c6-196">Yes</span></span>       | <span data-ttu-id="c16c6-197">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-197">Used</span></span>                            |
| <span data-ttu-id="c16c6-198">Otevřeno - Dokončeno</span><span class="sxs-lookup"><span data-stu-id="c16c6-198">Open - Completed</span></span>   | <span data-ttu-id="c16c6-199">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-199">Used</span></span>        | <span data-ttu-id="c16c6-200">Žádný</span><span class="sxs-lookup"><span data-stu-id="c16c6-200">No</span></span>        | <span data-ttu-id="c16c6-201">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-201">Used</span></span>                            |
| <span data-ttu-id="c16c6-202">Zavřeno - Zaúčtováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-202">Closed - Posted</span></span>    | <span data-ttu-id="c16c6-203">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-203">Estimated</span></span>   | <span data-ttu-id="c16c6-204">Ano</span><span class="sxs-lookup"><span data-stu-id="c16c6-204">Yes</span></span>       | <span data-ttu-id="c16c6-205">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-205">Used</span></span>                            |
| <span data-ttu-id="c16c6-206">Zavřeno - Zaúčtováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-206">Closed - Posted</span></span>    | <span data-ttu-id="c16c6-207">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-207">Estimated</span></span>   | <span data-ttu-id="c16c6-208">Žádný</span><span class="sxs-lookup"><span data-stu-id="c16c6-208">No</span></span>        | <span data-ttu-id="c16c6-209">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-209">Used</span></span>                            |
| <span data-ttu-id="c16c6-210">Zavřeno - Zaúčtováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-210">Closed - Posted</span></span>    | <span data-ttu-id="c16c6-211">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-211">Used</span></span>        | <span data-ttu-id="c16c6-212">Ano</span><span class="sxs-lookup"><span data-stu-id="c16c6-212">Yes</span></span>       | <span data-ttu-id="c16c6-213">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-213">Used</span></span>                            |
| <span data-ttu-id="c16c6-214">Zavřeno - Zaúčtováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-214">Closed - Posted</span></span>    | <span data-ttu-id="c16c6-215">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-215">Used</span></span>        | <span data-ttu-id="c16c6-216">Žádný</span><span class="sxs-lookup"><span data-stu-id="c16c6-216">No</span></span>        | <span data-ttu-id="c16c6-217">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-217">Used</span></span>                            |

<span data-ttu-id="c16c6-218">Následující tabulka poskytuje přehled různých kombinací řádků servisu.</span><span class="sxs-lookup"><span data-stu-id="c16c6-218">The following table provides an overview of the various combinations for service lines.</span></span>

| <span data-ttu-id="c16c6-219">Stav systému</span><span class="sxs-lookup"><span data-stu-id="c16c6-219">System Status</span></span> <br><span data-ttu-id="c16c6-220">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="c16c6-220">(Field Service)</span></span> | <span data-ttu-id="c16c6-221">Stav řádku</span><span class="sxs-lookup"><span data-stu-id="c16c6-221">Line Status</span></span> <br><span data-ttu-id="c16c6-222">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="c16c6-222">(Field Service)</span></span> | <span data-ttu-id="c16c6-223">Synchronizovaná hodnota</span><span class="sxs-lookup"><span data-stu-id="c16c6-223">Synchronized value</span></span> <br><span data-ttu-id="c16c6-224">(Supply Chain Management)</span><span class="sxs-lookup"><span data-stu-id="c16c6-224">(Supply Chain Management)</span></span> |
|--------------------|-------------|-----------|
| <span data-ttu-id="c16c6-225">Otevřeno - Plánováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-225">Open - Scheduled</span></span>   | <span data-ttu-id="c16c6-226">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-226">Estimated</span></span>   | <span data-ttu-id="c16c6-227">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-227">Estimated</span></span> |
| <span data-ttu-id="c16c6-228">Otevřeno - Plánováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-228">Open - Scheduled</span></span>   | <span data-ttu-id="c16c6-229">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-229">Used</span></span>        | <span data-ttu-id="c16c6-230">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-230">Used</span></span>      |
| <span data-ttu-id="c16c6-231">Otevřeno - Probíhá</span><span class="sxs-lookup"><span data-stu-id="c16c6-231">Open - In Progress</span></span> | <span data-ttu-id="c16c6-232">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-232">Estimated</span></span>   | <span data-ttu-id="c16c6-233">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-233">Estimated</span></span> |
| <span data-ttu-id="c16c6-234">Otevřeno - Probíhá</span><span class="sxs-lookup"><span data-stu-id="c16c6-234">Open - In Progress</span></span> | <span data-ttu-id="c16c6-235">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-235">Used</span></span>        | <span data-ttu-id="c16c6-236">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-236">Used</span></span>      |
| <span data-ttu-id="c16c6-237">Otevřeno - Dokončeno</span><span class="sxs-lookup"><span data-stu-id="c16c6-237">Open - Completed</span></span>   | <span data-ttu-id="c16c6-238">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-238">Estimated</span></span>   | <span data-ttu-id="c16c6-239">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-239">Estimated</span></span> |
| <span data-ttu-id="c16c6-240">Otevřeno - Dokončeno</span><span class="sxs-lookup"><span data-stu-id="c16c6-240">Open - Completed</span></span>   | <span data-ttu-id="c16c6-241">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-241">Used</span></span>        | <span data-ttu-id="c16c6-242">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-242">Used</span></span>      |
| <span data-ttu-id="c16c6-243">Zavřeno - Zaúčtováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-243">Closed - Posted</span></span>    | <span data-ttu-id="c16c6-244">Odhadnuto</span><span class="sxs-lookup"><span data-stu-id="c16c6-244">Estimated</span></span>   | <span data-ttu-id="c16c6-245">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-245">Used</span></span>      |
| <span data-ttu-id="c16c6-246">Zavřeno - Zaúčtováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-246">Closed - Posted</span></span>    | <span data-ttu-id="c16c6-247">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-247">Used</span></span>        | <span data-ttu-id="c16c6-248">Použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-248">Used</span></span>      |

<span data-ttu-id="c16c6-249">Synchronizace hodnot **Odhadované** versus **použité** se spravuje pomocí dvou sad úloh pro produktové a servisní řádky.</span><span class="sxs-lookup"><span data-stu-id="c16c6-249">Synchronization of **Estimated** values versus **Used** values is managed through the two sets of tasks for product lines and service lines.</span></span> <span data-ttu-id="c16c6-250">Předdefinované filtry spouští správný úkol a základní mapování pomáhá zaručit, že jsou synchronizovány správné hodnoty **očekávaný** versus **používá se**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-250">Predefined filters trigger the correct task, and the underlying mapping helps guarantee that the correct values for **Expected** versus **Used** are synchronized.</span></span>

### <a name="example"></a><span data-ttu-id="c16c6-251">Příklad</span><span class="sxs-lookup"><span data-stu-id="c16c6-251">Example</span></span>

1. <span data-ttu-id="c16c6-252">V modulu Field Service je vytvořen a naplánován pracovní příkaz.</span><span class="sxs-lookup"><span data-stu-id="c16c6-252">A work order is created and scheduled in Field Service.</span></span>

    <span data-ttu-id="c16c6-253">Hodnota **Stav systému** je **otevřené – plánované**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-253">The **System Status** value is **Open – Scheduled**.</span></span>

    - <span data-ttu-id="c16c6-254">**Produktová řada:** odhadované množství = 5ea, použité množství = 0ea, stav řádku = odhad, přidělené = ne.</span><span class="sxs-lookup"><span data-stu-id="c16c6-254">**Product line:** Estimated Qty = 5ea, Used Qty = 0ea, Line Status = Estimated, Allocated = No</span></span>
    - <span data-ttu-id="c16c6-255">**Řádek servisu:** odhadované množství = 2h, použít množství = 0h, stav řádku = odhad</span><span class="sxs-lookup"><span data-stu-id="c16c6-255">**Service line:** Estimated Qty = 2h, Used Qty = 0h, Line Status = Estimated</span></span>

    <span data-ttu-id="c16c6-256">V tomto příkladu je hodnota **použité množství** **0** (nula) a hodnota **odhadované množství** služby **2h** jsou synchronizovány v modulu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-256">In this example, the product's **Used Qty** value of **0** (zero) and the service's **Estimated Qty** value of **2h** are synchronized to Supply Chain Management.</span></span>

2. <span data-ttu-id="c16c6-257">Produkty jsou přiděleny v modulu Field Service.</span><span class="sxs-lookup"><span data-stu-id="c16c6-257">Products are allocated in Field Service.</span></span>

    <span data-ttu-id="c16c6-258">Hodnota **Stav systému** je **otevřené – plánované**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-258">The **System Status** value is **Open – Scheduled**.</span></span>

    - <span data-ttu-id="c16c6-259">**Produktová řada:** odhadované množství = 5ea, použité množství = 0ea, stav řádku = odhad, přidělené = ano.</span><span class="sxs-lookup"><span data-stu-id="c16c6-259">**Product line:** Estimated Qty = 5ea, Used Qty = 0ea, Line Status = Estimated, Allocated = Yes</span></span>
    - <span data-ttu-id="c16c6-260">**Řádek servisu:** odhadované množství = 2h, použít množství = 0h, stav řádku = odhad</span><span class="sxs-lookup"><span data-stu-id="c16c6-260">**Service line:** Estimated Qty = 2h, Used Qty = 0h, Line Status = Estimated</span></span>

    <span data-ttu-id="c16c6-261">V tomto příkladu je hodnota **Odhadované množství** **5ea** a hodnota **Odhadované množství** služby **2h** jsou synchronizovány v modulu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-261">In this example, the product's **Estimated Qty** value of **5ea** and the service's **Estimated Qty** value of **2h** are synchronized to Supply Chain Management.</span></span>

3. <span data-ttu-id="c16c6-262">Servisní technik začíná pracovat na pracovním příkazu a registruje spotřebu materiálu 6.</span><span class="sxs-lookup"><span data-stu-id="c16c6-262">The service technician starts to work on the work order and registers material usage of 6.</span></span>

    <span data-ttu-id="c16c6-263">Hodnota **Stav systému** je **otevřené – probíhá**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-263">The **System Status** value is **Open – In Progress**.</span></span>

    - <span data-ttu-id="c16c6-264">**Produktová řada:** odhadované množství = 5ea, použité množství = 6ea, stav řádku = použito, přidělené = ano.</span><span class="sxs-lookup"><span data-stu-id="c16c6-264">**Product line:** Estimated Qty = 5ea, Used Qty = 6ea, Line Status = Used, Allocated = Yes</span></span>
    - <span data-ttu-id="c16c6-265">**Řádek servisu:** odhadované množství = 2h, použít množství = 0h, stav řádku = odhad</span><span class="sxs-lookup"><span data-stu-id="c16c6-265">**Service line:** Estimated Qty = 2h, Used Qty = 0h, Line Status = Estimated</span></span>

    <span data-ttu-id="c16c6-266">V tomto příkladu je hodnota **Použité množství** **6** a hodnota **odhadované množství** služby **2h** jsou synchronizovány v modulu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-266">In this example, the product's **Used Qty** value of **6** and the service's **Estimated Qty** value of **2h** are synchronized to Supply Chain Management.</span></span>

4. <span data-ttu-id="c16c6-267">Servisní technik dokončí pracovní příkaz a registruje dobu používání 1,5 hodin.</span><span class="sxs-lookup"><span data-stu-id="c16c6-267">The service technician completes the work order and registers used time of 1.5 hours.</span></span>

    <span data-ttu-id="c16c6-268">Hodnota **Stav systému** je **otevřené – dokončené**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-268">The **System Status** value is **Open – Completed**.</span></span>

    - <span data-ttu-id="c16c6-269">**Produktová řada:** odhadované množství = 5ea, použité množství = 6ea, stav řádku = použito, přidělené = ano.</span><span class="sxs-lookup"><span data-stu-id="c16c6-269">**Product line:** Estimated Qty = 5ea, Used Qty = 6ea, Line Status = Used, Allocated = Yes</span></span>
    - <span data-ttu-id="c16c6-270">**Řádek servisu:** odhadované množství = 2 h, použité množství = 1,5 h, stav řádku = použito</span><span class="sxs-lookup"><span data-stu-id="c16c6-270">**Service line:** Estimated Qty = 2h, Used Qty = 1.5h, Line Status = Used</span></span>

    <span data-ttu-id="c16c6-271">V tomto příkladu je hodnota **použité množství** **6** a hodnota **Použité množství** služby **1,5h** jsou synchronizovány v modulu Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-271">In this example, the product's **Used Qty** value of **6** and the service's **Used Qty** of **1.5h** are synchronized to Supply Chain Management.</span></span>

## <a name="sales-order-origin-and-status"></a><span data-ttu-id="c16c6-272">Původ prodejní objednávky a stavu</span><span class="sxs-lookup"><span data-stu-id="c16c6-272">Sales order origin and status</span></span>

### <a name="sales-origin"></a><span data-ttu-id="c16c6-273">Původ prodeje</span><span class="sxs-lookup"><span data-stu-id="c16c6-273">Sales origin</span></span>

<span data-ttu-id="c16c6-274">Ke sledování prodejních objednávek, které pocházejí z pracovních příkazů, můžete vytvořit původ prodeje kde je možnost **přiřazení typu původu** nastavena na **Ano** a pole **typ původu prodeje** na **integrace pracovního příkazu**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-274">To keep track of sales orders that originate from work orders, you can create a sales origin where the **Origin type assignment** option is set to **Yes** and the **Sales origin type** field is set to **Work order integration**.</span></span>

<span data-ttu-id="c16c6-275">Ve výchozím nastavení mapování vybírá původ prodeje pro typ původu prodeje možnost **integrace příkazu práce** pro všechny prodejní objednávky, které jsou vytvořeny z pracovních příkazů.</span><span class="sxs-lookup"><span data-stu-id="c16c6-275">By default, the mapping selects the sales origin for the **Work order integration** sales origin type for all sales orders that are created from work orders.</span></span> <span data-ttu-id="c16c6-276">Toto chování může být užitečné při práci s prodejní objednávkou v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-276">This behavior can be useful when you work with the sales order in Supply Chain Management.</span></span> <span data-ttu-id="c16c6-277">Ujistěte se, že prodejních objednávky, které pocházejí z pracovních příkazů, nejsou synchronizovány zpět do modulu Field Service jako pracovní příkazy.</span><span class="sxs-lookup"><span data-stu-id="c16c6-277">You must make sure that sales orders that originate from work orders aren't synchronized back to Field Service as work orders.</span></span>

<span data-ttu-id="c16c6-278">Podrobnosti o postupu vytváření správného nastavení původu prodeje v Supply Chain Management získáte v části Předpoklady a nastavení mapování tohoto tématu.</span><span class="sxs-lookup"><span data-stu-id="c16c6-278">For details about how to create the correct sales origin setup in Supply Chain Management, see the "Preconditions and mapping setup" section of this topic.</span></span>

### <a name="status"></a><span data-ttu-id="c16c6-279">Stav</span><span class="sxs-lookup"><span data-stu-id="c16c6-279">Status</span></span>

<span data-ttu-id="c16c6-280">Když prodejní objednávka vychází z pracovního příkazu, na kartě **Nastavení** záhlaví prodejní objednávky se zobrazí pole **Stav externího pracovního příkazu**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-280">When the sales order originates from a work order, the **External work order status** field appears on the **Setup** tab on the sales order header.</span></span> <span data-ttu-id="c16c6-281">Toto pole zobrazuje stav systému z pracovního příkazu v modulu Field Service na pomoc se sledováním stavu synchronizovaného pracovního příkazu v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-281">This field shows the system status from the work order in Field Service, to help track the synchronized work order status of sales orders in the Supply Chain Management.</span></span> <span data-ttu-id="c16c6-282">Toto pole také pomáhá uživateli určit, kdy by měla být prodejní objednávka expedována nebo fakturována.</span><span class="sxs-lookup"><span data-stu-id="c16c6-282">This field can also help the user determine when the sales order should be shipped or invoiced.</span></span>

<span data-ttu-id="c16c6-283">Pole **Stav externího pracovního příkazu** může obsahovat následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="c16c6-283">The **External work order status** field can have the following values:</span></span>

- <span data-ttu-id="c16c6-284">Otevřeno - Plánováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-284">Open - Scheduled</span></span>
- <span data-ttu-id="c16c6-285">Otevřeno - Probíhá</span><span class="sxs-lookup"><span data-stu-id="c16c6-285">Open - In Progress</span></span>
- <span data-ttu-id="c16c6-286">Otevřeno - Dokončeno</span><span class="sxs-lookup"><span data-stu-id="c16c6-286">Open - Completed</span></span>
- <span data-ttu-id="c16c6-287">Zavřeno - Zaúčtováno</span><span class="sxs-lookup"><span data-stu-id="c16c6-287">Closed - Posted</span></span>

## <a name="field-service-crm-solution"></a><span data-ttu-id="c16c6-288">Řešení Field Service CRM</span><span class="sxs-lookup"><span data-stu-id="c16c6-288">Field Service CRM solution</span></span>

<span data-ttu-id="c16c6-289">K podpoře integrace mezi Field Service a Supply Chain Management jsou požadovány další funkce z řešení služby CRM Field Service.</span><span class="sxs-lookup"><span data-stu-id="c16c6-289">To support the integration between Field Service and Supply Chain Management, additional functionality from the Field Service CRM solution is required.</span></span> <span data-ttu-id="c16c6-290">Řešení obsahuje následující změny.</span><span class="sxs-lookup"><span data-stu-id="c16c6-290">The solution includes the following changes.</span></span>

### <a name="work-order-entity"></a><span data-ttu-id="c16c6-291">Entita pracovního příkazu</span><span class="sxs-lookup"><span data-stu-id="c16c6-291">Work Order entity</span></span>

<span data-ttu-id="c16c6-292">Pole **Má pouze externě spravované produkty** bylo přidáno do entity **Pracovní příkaz** a zobrazí se na stránce.</span><span class="sxs-lookup"><span data-stu-id="c16c6-292">The **Has Externally Maintained Products Only** field has been added to the **Work Order** entity and appears on the page.</span></span> <span data-ttu-id="c16c6-293">Umožňuje konzistentně sledovat, zda pracovní příkaz sestává výhradně z externě spravovaných produktů.</span><span class="sxs-lookup"><span data-stu-id="c16c6-293">It's used to consistently track whether a work order consists entirely of externally maintained products.</span></span> <span data-ttu-id="c16c6-294">Pracovní příkaz sestává zcela z z externě spravovaných produktů, když jsou všechny související produkty uchovávány v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-294">A work order consists entirely of externally maintained products when all the related products are maintained in Supply Chain Management.</span></span> <span data-ttu-id="c16c6-295">Toto pole pomáhá zaručit, že se uživatelé nebudou synchronizovat pracovní příkazy s produkty, které jsou neznámé.</span><span class="sxs-lookup"><span data-stu-id="c16c6-295">This field helps guarantee that users don't synchronize work orders that have products that are unknown.</span></span>

### <a name="work-order-product-entity"></a><span data-ttu-id="c16c6-296">Entita produktu pracovního příkazu</span><span class="sxs-lookup"><span data-stu-id="c16c6-296">Work Order Product entity</span></span>

- <span data-ttu-id="c16c6-297">Pole **Objednávka má pouze externě spravované produkty** bylo přidáno do entity **Produkt pracovního příkazu** a zobrazí se na stránce.</span><span class="sxs-lookup"><span data-stu-id="c16c6-297">The **Order Has Externally Maintained Products Only** field has been added to the **Work Order Product** entity and appears on the page.</span></span> <span data-ttu-id="c16c6-298">Umožňuje jednotně sledovat, zda se produkt pracovního příkazu udržuje v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-298">It's used to consistently track whether the work order product is maintained in Supply Chain Management.</span></span> <span data-ttu-id="c16c6-299">Toto pole pomáhá zaručit, že se uživatelé nebudou synchronizovat produkty pracovního příkazu s produkty, které mají v Supply Chain Management neznámé produkty.</span><span class="sxs-lookup"><span data-stu-id="c16c6-299">This field helps guarantee that users don't synchronize work order products that are unknown to Supply Chain Management.</span></span>
- <span data-ttu-id="c16c6-300">Pole **Stav systému záhlaví** bylo přidáno do entity **Produkt pracovního příkazu** a zobrazí se na stránce.</span><span class="sxs-lookup"><span data-stu-id="c16c6-300">The **Header System Status** field has been added to the **Work Order Product** entity and appears on the page.</span></span> <span data-ttu-id="c16c6-301">Slouží ke konzistentnímu sledování stavu systému pracovního příkazu a pomáhá zaručit správné filtrování, když jsou produkty pracovního příkazu synchronizovány v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-301">It's used to consistently track the system status of the work order and helps guarantee correct filtering when work order products are synchronized to Supply Chain Management.</span></span> <span data-ttu-id="c16c6-302">Jsou-li filtry nastaveny v integračních úkolech, informace o **stavu systému záhlaví** se také používají k určení, zda mají být synchronizovány odhadované nebo používané hodnoty.</span><span class="sxs-lookup"><span data-stu-id="c16c6-302">When filters are set on the integration tasks, **Header System Status** information is also used to determine whether the estimated or used values should be synchronized.</span></span>
- <span data-ttu-id="c16c6-303">V poli **Fakturované částky na jednotku** se zobrazí částka, která je fakturována na aktuální jednotce, která se používá.</span><span class="sxs-lookup"><span data-stu-id="c16c6-303">The **Invoiced Unit Amount** field shows the amount that is invoiced per actual unit that is used.</span></span> <span data-ttu-id="c16c6-304">Tato hodnota se vypočítá jako **celková částka** děleno hodnotou **skutečné množství**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-304">The value is calculated as the **Total Amount** value divided by the **Actual Quantity** value.</span></span> <span data-ttu-id="c16c6-305">Pole se používá pro integraci do systémů, které nepodporují jiné hodnoty pro použité množství a fakturované množství.</span><span class="sxs-lookup"><span data-stu-id="c16c6-305">The field is used for integration to systems that don't support different values for the used quantity and the billed quantity.</span></span> <span data-ttu-id="c16c6-306">Toto pole se nezobrazuje v uživatelském rozhraní (UI).</span><span class="sxs-lookup"><span data-stu-id="c16c6-306">This field doesn't appear in the user interface (UI).</span></span> 
- <span data-ttu-id="c16c6-307">Pole **Fakturovaná částka slevy** se počítá jako hodnota **částka slevy** hodnota plus zaokrouhlení z výpočtu **Fakturované částky na jednotku**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-307">The **Invoiced Discount Amount** field is calculated as the **Discount Amount** value plus the rounding from the calculation of the **Invoiced Unit Amount** value.</span></span> <span data-ttu-id="c16c6-308">Toto pole slouží k integraci a nezobrazuje se v uživatelském rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c16c6-308">This field is used for integration and doesn't appear in the UI.</span></span>
- <span data-ttu-id="c16c6-309">Pole **Desetinné množství** obsahuje hodnotu z pole **množství** jako desetinné číslo.</span><span class="sxs-lookup"><span data-stu-id="c16c6-309">The **Decimal Quantity** field stores the value from the **Quantity** field as a decimal number.</span></span> <span data-ttu-id="c16c6-310">Toto pole slouží k integraci a nezobrazuje se v uživatelském rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c16c6-310">This field is used for integration and doesn't appear in the UI.</span></span> 
- <span data-ttu-id="c16c6-311">Hodnota polí **Použito** se resetuje na **0** (nula), když je hodnota **Stav řádku** produktu pracovního příkazu změněna z **Použito** na **Odhadované**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-311">The value in **Used** fields is reset to **0** (zero) if the **Line Status** value of the work order product is changed from **Used** to **Estimated**.</span></span> <span data-ttu-id="c16c6-312">Tato změna umožňuje předcházejí situacím, kdy je omylem zadané množství použité k synchronizaci při nastavení hodnoty **stav řádku** na **odhad** a možnosti **přidělené** na **Ne**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-312">This change helps prevent situations where a used quantity that is mistakenly entered is used for synchronization when the **Line Status** value is **Estimated** and the **Allocated** option is set to **No**.</span></span>

### <a name="work-order-service-entity"></a><span data-ttu-id="c16c6-313">Entita služby pracovního příkazu</span><span class="sxs-lookup"><span data-stu-id="c16c6-313">Work Order Service entity</span></span>

- <span data-ttu-id="c16c6-314">Pole **Objednávka má pouze externě spravované produkty** bylo přidáno do entity **Služba pracovního příkazu** a zobrazí se na stránce.</span><span class="sxs-lookup"><span data-stu-id="c16c6-314">The **Order Has Externally Maintained Products Only** field has been added to the **Work Order Service** entity and appears on the page.</span></span> <span data-ttu-id="c16c6-315">Umožňuje jednotně sledovat, zda se služba pracovního příkazu udržuje v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-315">It's used to consistently track whether the work order service is maintained in Supply Chain Management.</span></span> <span data-ttu-id="c16c6-316">Toto pole pomáhá zaručit, že se uživatelé nebudou synchronizovat služby pracovního příkazu s produkty, které mají v Supply Chain Management neznámé produkty.</span><span class="sxs-lookup"><span data-stu-id="c16c6-316">This field helps guarantee that users don't synchronize work order services that are unknown to Supply Chain Management.</span></span>
- <span data-ttu-id="c16c6-317">Pole **Stav systému záhlaví** bylo přidáno do entity **Služba pracovního příkazu** a zobrazí se na stránce.</span><span class="sxs-lookup"><span data-stu-id="c16c6-317">The **Header System Status** field has been added to the **Work Order Service** entity and appears on the page.</span></span> <span data-ttu-id="c16c6-318">Slouží ke konzistentnímu sledování stavu systému pracovního příkazu a pomáhá zaručit správné filtrování, když jsou služby pracovního příkazu synchronizovány v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-318">It's used to consistently track the system status of the work order and helps guarantee correct filtering when work order services are synchronized to Supply Chain Management.</span></span> <span data-ttu-id="c16c6-319">Jsou-li filtry nastaveny v integračních úkolech, informace o **stavu systému záhlaví** se také používají k určení, zda mají být synchronizovány odhadované nebo používané hodnoty.</span><span class="sxs-lookup"><span data-stu-id="c16c6-319">When filters are set on the integration tasks, **Header System Status** information is also used to determine whether the estimated or used values should be synchronized.</span></span>
- <span data-ttu-id="c16c6-320">Pole **Doba v hodinách** obsahuje hodnotu z pole **trvání** po převodu hodnoty z minut na hodiny.</span><span class="sxs-lookup"><span data-stu-id="c16c6-320">The **Duration In Hours** field stores the value from the **Duration** field after that value is converted from minutes to hours.</span></span> <span data-ttu-id="c16c6-321">Toto pole slouží k integraci a nezobrazuje se v uživatelském rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c16c6-321">This field is used for integration and doesn't appear in the UI.</span></span>
- <span data-ttu-id="c16c6-322">Pole **Odhadovaná doba v hodinách** obsahuje hodnotu z pole **odhadované trvání** po převodu hodnoty z minut na hodiny.</span><span class="sxs-lookup"><span data-stu-id="c16c6-322">The **Estimated Duration In Hours** field stores the value from the **Estimated Duration** field after that value is converted from minutes to hours.</span></span> <span data-ttu-id="c16c6-323">Toto pole slouží k integraci a nezobrazuje se v uživatelském rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c16c6-323">This field is used for integration and doesn't appear in the UI.</span></span>
- <span data-ttu-id="c16c6-324">V poli **Fakturované částky na jednotku** se ukládá částka, která je fakturována na aktuální jednotce, která se používá.</span><span class="sxs-lookup"><span data-stu-id="c16c6-324">The **Invoiced Unit Amount** field stores the amount that is invoiced per actual unit that is used.</span></span> <span data-ttu-id="c16c6-325">Tato hodnota se vypočítá jako **celková částka** děleno hodnotou **skutečné množství**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-325">The value is calculated as the **Total Amount** value divided by the **Actual Quantity** value.</span></span> <span data-ttu-id="c16c6-326">Toto pole se používá pro integraci do systémů, které nepodporují jiné hodnoty pro použité množství a fakturované množství.</span><span class="sxs-lookup"><span data-stu-id="c16c6-326">This field is used for integration to systems that don't support different values for the used quantity and the billed quantity.</span></span> <span data-ttu-id="c16c6-327">Toto pole se nezobrazuje v uživatelském rozhraní (UI).</span><span class="sxs-lookup"><span data-stu-id="c16c6-327">The field doesn't appear in the UI.</span></span>
- <span data-ttu-id="c16c6-328">Pole **Fakturovaná částka slevy** se počítá jako hodnota **částka slevy** hodnota plus zaokrouhlení z výpočtu **Fakturované částky na jednotku**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-328">The **Invoiced Discount Amount** field is calculated as the **Discount Amount** value plus the rounding from the calculation of the **Invoiced Unit Amount** value.</span></span> <span data-ttu-id="c16c6-329">Toto pole slouží k integraci a nezobrazuje se v uživatelském rozhraní.</span><span class="sxs-lookup"><span data-stu-id="c16c6-329">This field is used for integration and doesn't appear in the UI.</span></span>
- <span data-ttu-id="c16c6-330">Pole **Externí řádka prodejní objednávky** je vypočtené záporné číslo řádky objednávky, které lze použít v externích systémech, kde jsou zkombinovány pracovní produkty a řádky služby.</span><span class="sxs-lookup"><span data-stu-id="c16c6-330">The **External Line Order** field is a calculated negative line order number that can be used in external systems where work order product and service lines are combined.</span></span> <span data-ttu-id="c16c6-331">Toto pole umožňuje produkty pracovního příkazu, které jsou vloženy do kladných čísel řádků a služeb pracovního příkazu, aby měly záporná čísla řádků.</span><span class="sxs-lookup"><span data-stu-id="c16c6-331">This field enables work order products that are inserted to have positive line numbers and work order services to have negative line numbers.</span></span> <span data-ttu-id="c16c6-332">Hodnota tohoto pole se vypočítá jako hodnota **řádku prodejní objednávky** krát -1.</span><span class="sxs-lookup"><span data-stu-id="c16c6-332">The value of this this field is calculated as the **Line Order** value multiplied by -1.</span></span> <span data-ttu-id="c16c6-333">Toto pole se nezobrazuje v uživatelském rozhraní (UI).</span><span class="sxs-lookup"><span data-stu-id="c16c6-333">This field doesn't appear in the UI.</span></span>
- <span data-ttu-id="c16c6-334">Hodnota polí **Použito** se resetuje na **0** (nula), když je hodnota **Stav řádku** služby pracovního příkazu z nějakého důvodu změněna z **Použito** na **Odhadované**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-334">The value in **Used** fields is reset to **0** (zero) if the **Line Status** value of the work order service is changed from **Used** to **Estimated** for some reason.</span></span> <span data-ttu-id="c16c6-335">Tato změna umožňuje předcházejí situacím, kdy je omylem zadané množství použité k synchronizaci při nastavení hodnoty **stav řádku** na **odhad** a možnosti **stav systému záklaví** he **Zavřeno - zaúčtováno**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-335">This change helps prevent situations where a used quantity that is mistakenly entered is used for synchronization when the **Line Status** value is **Estimated** and the **Header System Status** value is **Closed – Posted**.</span></span>

## <a name="preconditions-and-mapping-setup"></a><span data-ttu-id="c16c6-336">Nastavení mapování a předpokladů</span><span class="sxs-lookup"><span data-stu-id="c16c6-336">Preconditions and mapping setup</span></span>

<span data-ttu-id="c16c6-337">Před synchronizací pracovních příkazů je důležité aktualizovat následující nastavení v systémech:</span><span class="sxs-lookup"><span data-stu-id="c16c6-337">Before you synchronize work orders, it's important that you update the following settings in the systems.</span></span>

### <a name="setup-in-field-service"></a><span data-ttu-id="c16c6-338">Nastavení v modulu Field Service</span><span class="sxs-lookup"><span data-stu-id="c16c6-338">Setup in Field Service</span></span>

- <span data-ttu-id="c16c6-339">zajistěte, aby číselné řady používané pro pracovní příkazy v aplikaci Field Service nepřekrývaly číselné řady používané pro prodejní objednávky v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-339">Make sure that the number series that is used for work orders in Field Service doesn't overlap the number sequence that is used for sales orders in Supply Chain Management.</span></span> <span data-ttu-id="c16c6-340">V ostatních případech mohou být existující prodejní objednávky nesprávně aktualizovány v modulu Field Service nebo Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-340">Otherwise, existing sales orders can be incorrectly updated in Field Service or Supply Chain Management.</span></span>
- <span data-ttu-id="c16c6-341">Pole **Vytvoření faktury pracovního příkazu** musí být nastaveno na **nikdy**, protože fakturace se provádí v Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="c16c6-341">The **Work Order Invoice Creation** field must be set to **Never**, because the invoicing will be done from Supply Chain Management.</span></span> <span data-ttu-id="c16c6-342">Přejděte na **Field Service** \> **Nastavení** \> **Správa** \> **Nastavení Field Service** a ověřte, že je pole **Vytvoření faktury pracovního příkazu** nastaveno na **Nikdy**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-342">Go to **Field Service** \> **Settings** \> **Administration** \> **Field Service Settings**, and make sure that the **Work Order Invoice Creation** field is set to **Never**.</span></span>

### <a name="setup-in-supply-chain-management"></a><span data-ttu-id="c16c6-343">Nastavení v Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="c16c6-343">Setup in Supply Chain Management</span></span>

<span data-ttu-id="c16c6-344">Integrace pracovního příkazu vyžaduje nastavení původu prodeje.</span><span class="sxs-lookup"><span data-stu-id="c16c6-344">Work order integration requires that you set up the sales origin.</span></span> <span data-ttu-id="c16c6-345">Původ prodej slouží k odlišení prodejních objednávek v Supply Chain Management, které byly vytvořeny z pracovních objednávek v modulu Field Service.</span><span class="sxs-lookup"><span data-stu-id="c16c6-345">The sales origin is used to distinguish sales orders in Supply Chain Management that were created from work orders in Field Service.</span></span> <span data-ttu-id="c16c6-346">Když má prodejní objednávka původ typu **Integrace pracovního příkazu**, v záhlaví prodejní objednávky se zobrazí pole **Stav externí pracovní objednávky**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-346">When a sales order has a sales origin of the **Work order integration** type, the **External work order status** field appears on the sales order header.</span></span> <span data-ttu-id="c16c6-347">Původ prodeje, pomáhá zajistit, aby během synchronizace prodejní objednávky z Supply Chain Management do Field Service byly odfiltrovány prodejních objednávek, které byly vytvořeny z pracovních příkazů ve Field Service.</span><span class="sxs-lookup"><span data-stu-id="c16c6-347">Additionally, the sales origin helps guarantee that sales orders that were created from work orders in Field Service are filtered out during sales order synchronization from Supply Chain Management to Field Service.</span></span>

1. <span data-ttu-id="c16c6-348">Přejděte na **Prodej a marketing** \> **Nastavení** \> **Prodejní objednávky** \> **Původ prodeje**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-348">Go to **Sales and marketing** \> **Setup** \> **Sales orders** \> **Sales origin**.</span></span>
2. <span data-ttu-id="c16c6-349">Vyberte **nový** pro vytvoření nového původu prodeje.</span><span class="sxs-lookup"><span data-stu-id="c16c6-349">Select **New** to create a new sales origin.</span></span>
3. <span data-ttu-id="c16c6-350">V **Původ prodeje** zadejte název pro původ prodeje, jako je například **WorkOrder**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-350">In the **Sales origin** field, enter a name for the sales origin, such as **WorkOrder**.</span></span>
4. <span data-ttu-id="c16c6-351">Do pole **Popis** zadejte popis, například **pracovní příkaz v modulu Field Service**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-351">In the **Description** field, enter a description, such as **Field Service Work Order**.</span></span>
5. <span data-ttu-id="c16c6-352">Zaškrtněte políčko **Přiřazení typů původu**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-352">Select the **Origin type assignment** check box.</span></span>
6. <span data-ttu-id="c16c6-353">Nastavte hodnotu v poli **Typ původu prodeje** na **Integrace výrobního příkazu**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-353">Set the **Sales origin type** field to **Work order integration**.</span></span>
7. <span data-ttu-id="c16c6-354">Zvolte **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-354">Select **Save**.</span></span>


### <a name="setup-in-data-integration"></a><span data-ttu-id="c16c6-355">Nastavení v integraci dat</span><span class="sxs-lookup"><span data-stu-id="c16c6-355">Setup in Data integration</span></span>

<span data-ttu-id="c16c6-356">Ujistěte se, že **klíč integrace** existuje pro **msdyn_workorders**</span><span class="sxs-lookup"><span data-stu-id="c16c6-356">Ensure the **Integration key** exist for **msdyn_workorders**</span></span>
1. <span data-ttu-id="c16c6-357">Přejít na integraci dat</span><span class="sxs-lookup"><span data-stu-id="c16c6-357">Go to Data Integration</span></span>
2. <span data-ttu-id="c16c6-358">Vyberte kartu **nastavit připojení**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-358">Select **Connection Set** tab</span></span>
3. <span data-ttu-id="c16c6-359">Vyberte sadu připojení použitou při synchronizaci pracovního příkazu</span><span class="sxs-lookup"><span data-stu-id="c16c6-359">Select the Connection set used for Work order synchronization</span></span>
4. <span data-ttu-id="c16c6-360">Vyberte kartu **klíč integrace**</span><span class="sxs-lookup"><span data-stu-id="c16c6-360">Select **Integration key** tab</span></span>
5. <span data-ttu-id="c16c6-361">Vyhledejte msdyn_workorders a zkontrolujte, že je přidán klíč **msdyn_name (číslo výrobní zakázky)**.</span><span class="sxs-lookup"><span data-stu-id="c16c6-361">Find msdyn_workorders and check that the key **msdyn_name (Work Order Number)** is added.</span></span> <span data-ttu-id="c16c6-362">Pokud se nezobrazuje, přidejte ho klepnutím na tlačítko **Přidat klíč** a klepněte na tlačítko **Uložit** v horní části stránky</span><span class="sxs-lookup"><span data-stu-id="c16c6-362">If it is not shown, add it by click **Add key** and click **Save** in the top of the page</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="c16c6-363">Mapování šablony v integraci dat</span><span class="sxs-lookup"><span data-stu-id="c16c6-363">Template mapping in Data integration</span></span>

<span data-ttu-id="c16c6-364">Na následujícím obrázku je příklad mapování šablony v integraci dat.</span><span class="sxs-lookup"><span data-stu-id="c16c6-364">The following illustrations show the template mapping in Data integration.</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-supply-chain-management-workorderheader"></a><span data-ttu-id="c16c6-365">Pracovní příkazy so prodejních objednávek (Field Service do Supply Chain Management): WorkOrderHeader</span><span class="sxs-lookup"><span data-stu-id="c16c6-365">Work orders to Sales orders (Field Service to Supply Chain Management): WorkOrderHeader</span></span>

<span data-ttu-id="c16c6-366">Filtr: (msdyn_systemstatus ne 690970005) a (msdyn_systemstatus ne 690970000) a (msdynce_hasexternallymaintainedproductsonly eq true)</span><span class="sxs-lookup"><span data-stu-id="c16c6-366">Filter: (msdyn_systemstatus ne 690970005) and (msdyn_systemstatus ne 690970000) and (msdynce_hasexternallymaintainedproductsonly eq true)</span></span>

<span data-ttu-id="c16c6-367">[![Mapování šablony v integraci dat](./media/FSWorkOrder1.png )](./media/FSWorkOrder1.png)</span><span class="sxs-lookup"><span data-stu-id="c16c6-367">[![Template mapping in Data integration](./media/FSWorkOrder1.png )](./media/FSWorkOrder1.png)</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-supply-chain-management-workorderservicelineestimate"></a><span data-ttu-id="c16c6-368">Pracovní příkazy so prodejních objednávek (Field Service do Supply Chain Management): WorkOrderServiceLineEstimate</span><span class="sxs-lookup"><span data-stu-id="c16c6-368">Work orders to Sales orders (Field Service to Supply Chain Management): WorkOrderServiceLineEstimate</span></span>

<span data-ttu-id="c16c6-369">Filtr: (msdynce_headersystemstatus ne 690970005) a (msdynce_headersystemstatus ne 690970000) a (msdynce_orderhasexternalmaintainedproductsonly eq true) a (msdyn_linestatus eq 690970000) a (msdynce_headersystemstatus ne 690970004)</span><span class="sxs-lookup"><span data-stu-id="c16c6-369">Filter: (msdynce_headersystemstatus ne 690970005) and (msdynce_headersystemstatus ne 690970000) and (msdynce_orderhasexternalmaintainedproductsonly eq true) and (msdyn_linestatus eq 690970000) and (msdynce_headersystemstatus ne 690970004)</span></span>

<span data-ttu-id="c16c6-370">[![Mapování šablony v integraci dat](./media/FSWorkOrder2.png )](./media/FSWorkOrder2.png)</span><span class="sxs-lookup"><span data-stu-id="c16c6-370">[![Template mapping in Data integration](./media/FSWorkOrder2.png )](./media/FSWorkOrder2.png)</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-supply-chain-management-workorderservicelineused"></a><span data-ttu-id="c16c6-371">Pracovní příkazy so prodejních objednávek (Field Service do Supply Chain Management): WorkOrderServiceLineUsed</span><span class="sxs-lookup"><span data-stu-id="c16c6-371">Work orders to Sales orders (Field Service to Supply Chain Management): WorkOrderServiceLineUsed</span></span>

<span data-ttu-id="c16c6-372">Filtr: (msdynce_headersystemstatus ne 690970005) a (msdynce_headersystemstatus ne 690970000) a (msdynce_orderhasexternalmaintainedproductsonly eq true) a ((msdyn_linestatus eq 690970001) nebo (msdynce_headersystemstatus eq 690970004))</span><span class="sxs-lookup"><span data-stu-id="c16c6-372">Filter: (msdynce_headersystemstatus ne 690970005) and (msdynce_headersystemstatus ne 690970000) and (msdynce_orderhasexternalmaintainedproductsonly eq true) and ((msdyn_linestatus eq 690970001) or (msdynce_headersystemstatus eq 690970004))</span></span>

<span data-ttu-id="c16c6-373">[![Mapování šablony v integraci dat](./media/FSWorkOrder3.png )](./media/FSWorkOrder3.png)</span><span class="sxs-lookup"><span data-stu-id="c16c6-373">[![Template mapping in Data integration](./media/FSWorkOrder3.png )](./media/FSWorkOrder3.png)</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-supply-chain-management-workorderproductlineestimate"></a><span data-ttu-id="c16c6-374">Pracovní příkazy so prodejních objednávek (Field Service do Supply Chain Management): WorkOrderProductLineEstimate</span><span class="sxs-lookup"><span data-stu-id="c16c6-374">Work orders to Sales orders (Field Service to Supply Chain Management): WorkOrderProductLineEstimate</span></span>

<span data-ttu-id="c16c6-375">Filtr: (msdynce_headersystemstatus ne 690970005) a (msdynce_headersystemstatus ne 690970000) a (msdynce_orderhasexternalmaintainedproductsonly eq true) a (msdyn_linestatus eq 690970000) a (msdynce_headersystemstatus ne 690970004) a (msdyn_allocated eq true)</span><span class="sxs-lookup"><span data-stu-id="c16c6-375">Filter: (msdynce_headersystemstatus ne 690970005) and (msdynce_headersystemstatus ne 690970000) and (msdynce_orderhasexternalmaintainedproductsonly eq true) and (msdyn_linestatus eq 690970000) and (msdynce_headersystemstatus ne 690970004) and (msdyn_allocated eq true)</span></span>

<span data-ttu-id="c16c6-376">[![Mapování šablony v integraci dat](./media/FSWorkOrder4.png )](./media/FSWorkOrder4.png)</span><span class="sxs-lookup"><span data-stu-id="c16c6-376">[![Template mapping in Data integration](./media/FSWorkOrder4.png )](./media/FSWorkOrder4.png)</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-supply-chain-management-workorderproductlineused"></a><span data-ttu-id="c16c6-377">Pracovní příkazy so prodejních objednávek (Field Service do Supply Chain Management): WorkOrderProductLineUsed</span><span class="sxs-lookup"><span data-stu-id="c16c6-377">Work orders to Sales orders (Field Service to Supply Chain Management): WorkOrderProductLineUsed</span></span>

<span data-ttu-id="c16c6-378">Filtr: (msdynce_headersystemstatus ne 690970005) a (msdynce_headersystemstatus ne 690970000) a (msdynce_orderhasexternalmaintainedproductsonly eq true) a ((msdyn_linestatus eq 690970001) nebo (msdynce_headersystemstatus eq 690970004) nebo (msdyn_allocated ne true))</span><span class="sxs-lookup"><span data-stu-id="c16c6-378">Filter: (msdynce_headersystemstatus ne 690970005) and (msdynce_headersystemstatus ne 690970000) and (msdynce_orderhasexternalmaintainedproductsonly eq true) and ((msdyn_linestatus eq 690970001) or (msdynce_headersystemstatus eq 690970004) or (msdyn_allocated ne true))</span></span>

<span data-ttu-id="c16c6-379">[![Mapování šablony v integraci dat](./media/FSWorkOrder5.png )](./media/FSWorkOrder5.png)</span><span class="sxs-lookup"><span data-stu-id="c16c6-379">[![Template mapping in Data integration](./media/FSWorkOrder5.png )](./media/FSWorkOrder5.png)</span></span>
