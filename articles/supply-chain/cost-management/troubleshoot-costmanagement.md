---
title: Řešení potíží se správou nákladů
description: Toto téma popisuje, jak vyřešit problémy, s nimiž se můžete setkat při práci se správou nákladů.
author: riluan
manager: tfehr
ms.date: 10/13/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: InventAgingStorage, InventAgingStorageChart, InventAgingStorageDetails, InventValueProcess, InventValueReportSetup, InventClosing
audience: Application User
ms.reviewer: kamaybac
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.search.industry: Manufacturing
ms.author: riluan
ms.search.validFrom: 2020-10-13
ms.dyn365.ops.version: Release 10.0.15
ms.openlocfilehash: dceaca64132857d796a16c2450a372ba05712cf5
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/15/2021
ms.locfileid: "5262446"
---
# <a name="troubleshoot-cost-management"></a><span data-ttu-id="4897f-103">Řešení potíží se správou nákladů</span><span class="sxs-lookup"><span data-stu-id="4897f-103">Troubleshoot cost management</span></span>

<span data-ttu-id="4897f-104">Toto téma popisuje, jak vyřešit problémy, s nimiž se můžete setkat při práci se správou nákladů.</span><span class="sxs-lookup"><span data-stu-id="4897f-104">This topic describes how to fix issues that you might encounter while working with cost management.</span></span>

## <a name="functional-gaps-between-the-inventory-valueaging-reports-and-their-storage-versions"></a><span data-ttu-id="4897f-105">Funkční mezery mezi sestavami o hodnotě/stárnutí zásob a jejich verzemi úložiště</span><span class="sxs-lookup"><span data-stu-id="4897f-105">Functional gaps between the inventory value/aging reports and their storage versions</span></span>

<span data-ttu-id="4897f-106">Funkce [Uložení sestavy stáří zásob](inventory-aging-report-storage.md) a [Sestava úložiště hodnot zásob](inventory-value-report-storage.md) umožňují aplikaci Supply Chain Management zobrazit velké objemy transakcí zásob.</span><span class="sxs-lookup"><span data-stu-id="4897f-106">The [Inventory aging report storage](inventory-aging-report-storage.md) and [Inventory value storage report](inventory-value-report-storage.md) features enable Supply Chain Management to display large volumes of inventory transactions.</span></span> <span data-ttu-id="4897f-107">V každém případě se výsledky sestavy ukládají k procházení a exportu, na rozdíl od verzí těchto sestav bez úložiště.</span><span class="sxs-lookup"><span data-stu-id="4897f-107">In each case, the report results are saved for browsing and exporting, unlike with the non-storage versions of these reports.</span></span> <span data-ttu-id="4897f-108">Některé funkce, které existují ve verzích těchto sestav bez úložiště, však ve verzích úložiště neexistují.</span><span class="sxs-lookup"><span data-stu-id="4897f-108">However, some functionality that exists in the non-storage versions of these reports doesn't exist in the storage versions.</span></span> <span data-ttu-id="4897f-109">Následující pododdíly shrnují rozdíly a poskytují alternativní řešení.</span><span class="sxs-lookup"><span data-stu-id="4897f-109">The following subsections summarize the differences and provide workarounds.</span></span>

### <a name="storage-reports-dont-include-subtotals-even-if-they-are-enabled-in-the-report-layout"></a><span data-ttu-id="4897f-110">Sestavy úložiště nezahrnují mezisoučty, i když jsou povoleny v rozložení sestavy</span><span class="sxs-lookup"><span data-stu-id="4897f-110">Storage reports don't include subtotals, even if they are enabled in the report layout</span></span>

<span data-ttu-id="4897f-111">Mezisoučty mohou způsobit problémy při exportu výsledku, zejména pokud uživatelé změní sekvenci záznamů.</span><span class="sxs-lookup"><span data-stu-id="4897f-111">Subtotals can cause issues when the result is exported, especially if users change the record sequence.</span></span>

<span data-ttu-id="4897f-112">Chcete-li zkontrolovat mezisoučty, můžete exportovat výsledek do Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="4897f-112">To check the subtotals, you can export the result into Microsoft Excel.</span></span> <span data-ttu-id="4897f-113">Alternativně, pokud chcete zkontrolovat mezisoučty v rámci Supply Chain Management, použijte [správu funkcí](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) a povolte funkce *Nový ovládací prvek mřížky* a *(Preview) Seskupení do mřížek*, které poskytují mnohem flexibilnější způsob, jak zobrazit mezisoučet pro každou skupinu podle sloupce.</span><span class="sxs-lookup"><span data-stu-id="4897f-113">Alternatively, if you want to check subtotals within Supply Chain Management, use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) to enable the *New grid control* and *(Preview) Grouping in grids* features, which provide a much more flexible way to see the subtotal for any group by column.</span></span> <span data-ttu-id="4897f-114">Další informace naleznete v části [Schopnosti mřížky](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span><span class="sxs-lookup"><span data-stu-id="4897f-114">For more information, see [Grid capabilities](../../fin-ops-core/fin-ops/get-started/grid-capabilities.md).</span></span>

### <a name="inventory-value-storage-report-doesnt-support-ledger-account-information"></a><span data-ttu-id="4897f-115">Sestava úložiště hodnot zásob nepodporuje informace o účtu hlavní knihy</span><span class="sxs-lookup"><span data-stu-id="4897f-115">Inventory value storage report doesn't support ledger account information</span></span>

<span data-ttu-id="4897f-116">Můžete spustit předvahu, abyste získali zůstatek na účtech zásob a porovnali jej se sestavou **Úložiště hodnot zásob**.</span><span class="sxs-lookup"><span data-stu-id="4897f-116">You can run the trial balance to get the inventory accounts balance and compare that to the **Inventory value storage** report.</span></span>

## <a name="warnings-or-errors-are-shown-when-changing-a-ledger-period-status-without-closing-inventory"></a><span data-ttu-id="4897f-117">Varování nebo chyby se zobrazují při změně stavu období hlavní knihy bez uzávěrky skladu.</span><span class="sxs-lookup"><span data-stu-id="4897f-117">Warnings or errors are shown when changing a ledger period status without closing inventory</span></span>

<span data-ttu-id="4897f-118">Společnost Microsoft zavedla následující ověření, aby zabránila problémům způsobeným nesprávným procesem na konci období kolem výpočtu nákladů.</span><span class="sxs-lookup"><span data-stu-id="4897f-118">Microsoft introduced the following validations to prevent issues caused by an incorrect period-end process around costing.</span></span> <span data-ttu-id="4897f-119">Pokud narazíte na některou z následujících chybových zpráv, podívejte se na [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) ohledně informací o řešení těchto problémů.</span><span class="sxs-lookup"><span data-stu-id="4897f-119">If you encounter any of the following error messages, refer to [KB 4561987](https://fix.lcs.dynamics.com/Issue/Details?kb=4561987&bugId=445351&dbType=3&qc=f514f2adcddcddceec43af58c26ae8a9020effdc7cdfe085d9d0deeb8cc7b6a3) for more information about how to resolve these issues.</span></span>

- <span data-ttu-id="4897f-120">Chystáte se provést přepočet s datem %1 (10-02-2019).</span><span class="sxs-lookup"><span data-stu-id="4897f-120">You are about to execute a Recalculation with a date %1 (10-02-2019).</span></span> <span data-ttu-id="4897f-121">Poslední registrovaný přepočet byl proveden v předchozím období s datem %2 (20-01-2019).</span><span class="sxs-lookup"><span data-stu-id="4897f-121">The last registered Recalculation was executed in a previous period with a date %2 (20-01-2019).</span></span> <span data-ttu-id="4897f-122">Žádné provedení uzávěrky skladu s datem konce odpovídajícího období %3 (31-01-2019) nebylo zaregistrováno.</span><span class="sxs-lookup"><span data-stu-id="4897f-122">No execution of an inventory close with a date %3 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="4897f-123">Nezapomeňte provést uzávěrku skladu k datu konce odpovídajícího období %3 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="4897f-123">Please remember to execute an inventory close as of %3 (31-01-2019) matching the period end.</span></span> <span data-ttu-id="4897f-124">Ocenění zásob, náklady prodaného zboží a odchylky nemusí být správné v dílčí knize nebo hlavní knize, dokud to nebude provedeno.</span><span class="sxs-lookup"><span data-stu-id="4897f-124">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="4897f-125">Chystáte se změnit stav období hlavní knihy %1 na %2.</span><span class="sxs-lookup"><span data-stu-id="4897f-125">You are about to change the status of ledger period %1 to %2.</span></span> <span data-ttu-id="4897f-126">Žádné provedení uzávěrky skladu s datem konce odpovídajícího období %3 nebylo zaregistrováno.</span><span class="sxs-lookup"><span data-stu-id="4897f-126">No execution of inventory close with a date %3 matching period end has been registered.</span></span> <span data-ttu-id="4897f-127">Proveďte prosím uzávěrku skladu k datu konce odpovídajícího období %3 před změnou stavu.</span><span class="sxs-lookup"><span data-stu-id="4897f-127">Please execute an inventory close as of %3 matching the period end before changing the status.</span></span> <span data-ttu-id="4897f-128">Ocenění zásob, náklady prodaného zboží a odchylky nemusí být správné v dílčí knize nebo hlavní knize, dokud to nebude provedeno.</span><span class="sxs-lookup"><span data-stu-id="4897f-128">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span> <span data-ttu-id="4897f-129">Hlášeno z právnické osoby %4.</span><span class="sxs-lookup"><span data-stu-id="4897f-129">Reported from legal entity %4.</span></span> <span data-ttu-id="4897f-130">Prozatím je to informační, ale v budoucnu budete muset provést takovou akci.</span><span class="sxs-lookup"><span data-stu-id="4897f-130">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="4897f-131">Účetní struktura %1 byla změněna.</span><span class="sxs-lookup"><span data-stu-id="4897f-131">The Account structure %1 has been changed.</span></span> <span data-ttu-id="4897f-132">Jeden nebo více hlavních účtů %2 již neexistuje.</span><span class="sxs-lookup"><span data-stu-id="4897f-132">One or more main accounts %2 no longer exist.</span></span> <span data-ttu-id="4897f-133">Tyto hlavní účty jsou vyžadovány %3 s datem %4.</span><span class="sxs-lookup"><span data-stu-id="4897f-133">These Main accounts are required by the %3 with a date %4.</span></span> <span data-ttu-id="4897f-134">Přidejte tyto hlavní účty do účetní struktury %1, než budete moci obnovit úlohu %3.</span><span class="sxs-lookup"><span data-stu-id="4897f-134">Please add these Main accounts to the Account structure %1 before you can resume the %3 job.</span></span> <span data-ttu-id="4897f-135">Prozatím je to informační, ale v budoucnu budete muset provést takovou akci.</span><span class="sxs-lookup"><span data-stu-id="4897f-135">For now, it is informational, but you will be required to perform such action in future.</span></span>

- <span data-ttu-id="4897f-136">Chystáte se provést uzávěrku skladu s datem %1 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="4897f-136">You are about to execute an inventory close with a date %1 (31-01-2019).</span></span> <span data-ttu-id="4897f-137">Žádné provedení výpočtu zpětného účtování nákladů s datem konce odpovídajícího období %2 (31-01-2019) nebylo zaregistrováno.</span><span class="sxs-lookup"><span data-stu-id="4897f-137">No execution of backflush costing calculation with a date %2 (31-01-2019) matching period end has been registered.</span></span> <span data-ttu-id="4897f-138">Nezapomeňte spustit výpočet zpětného účtování nákladů s datem konce odpovídajícího období %3 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="4897f-138">Please remember to execute a backflush costing calculation with a date of %3 (31-01-2019) matching period end.</span></span> <span data-ttu-id="4897f-139">Ocenění zásob, náklady prodaného zboží a odchylky nemusí být správné v dílčí knize nebo hlavní knize, dokud to nebude provedeno.</span><span class="sxs-lookup"><span data-stu-id="4897f-139">The valuation of inventories, cost of goods sold, and variances may not be correct in subledger or general ledger until this has been executed.</span></span>

- <span data-ttu-id="4897f-140">Chystáte se provést výpočet zpětného účtování nákladů s datem %1 (28-02-2019).</span><span class="sxs-lookup"><span data-stu-id="4897f-140">You are about to execute a backflush costing calculation with a date %1 (28-02-2019).</span></span> <span data-ttu-id="4897f-141">Poslední registrovaný výpočet zpětného účtování nákladů byl proveden v předchozím období s datem %2 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="4897f-141">The last registered backflush costing calculation was executed in a previous period with a date %2 (31-01-2019).</span></span> <span data-ttu-id="4897f-142">Žádné provedení uzávěrky skladu s datem konce odpovídajícího období %3 (31-01-2019) nebylo zaregistrováno.</span><span class="sxs-lookup"><span data-stu-id="4897f-142">No execution of an inventory close with a date %3 (31-01-2019) matching a period end has been registered.</span></span>
<span data-ttu-id="4897f-143">Nezapomeňte provést uzávěrku skladu k datu konce odpovídajícího období %3 (31-01-2019).</span><span class="sxs-lookup"><span data-stu-id="4897f-143">Please remember to execute an inventory close as of %3 (31-01-2019) matching a period end.</span></span> <span data-ttu-id="4897f-144">Ocenění zásob, náklady prodaného zboží a odchylky nemusí být správné v dílčí knize nebo hlavní knize, dokud nebude uzávěrka skladu provedena.</span><span class="sxs-lookup"><span data-stu-id="4897f-144">The valuation of inventories, cost of goods sold and variances may not be correct in subledger or general ledger until the inventory close has been executed.</span></span>

## <a name="inventory-aging-report-discrepancies"></a><span data-ttu-id="4897f-145">Nesrovnalosti sestavy stáří zásob</span><span class="sxs-lookup"><span data-stu-id="4897f-145">Inventory aging report discrepancies</span></span>

<span data-ttu-id="4897f-146">**Sestava stáří zásob** zobrazuje různé hodnoty při zobrazení v různých dimenzích úložiště (například jako pracoviště nebo sklad).</span><span class="sxs-lookup"><span data-stu-id="4897f-146">The **Inventory aging report** shows different values when viewed at different storage dimensions (such as site or warehouse).</span></span> <span data-ttu-id="4897f-147">Další informace o logice vykazování najdete v tématu [Příklady a logika sestav stáří zásob](inventory-aging-report.md).</span><span class="sxs-lookup"><span data-stu-id="4897f-147">For more information about the reporting logic, see [Inventory aging report examples and logic](inventory-aging-report.md).</span></span>

## <a name="an-update-conflict-occurs-when-the-inventory-valuation-method-is-either-standard-cost-or-moving-average"></a><span data-ttu-id="4897f-148">Konflikt aktualizace nastane, když metoda ocenění zásob je buď Standardní cena nebo Klouzavý průměr</span><span class="sxs-lookup"><span data-stu-id="4897f-148">An update conflict occurs when the inventory valuation method is either Standard cost or Moving average</span></span>

<span data-ttu-id="4897f-149">Když paralelně zaúčtujete dokumenty, jako jsou deníky zásob, faktury za nákupní objednávky nebo faktury od prodejní objednávky, kvůli škálovatelnosti a výkonu, může se zobrazit chybová zpráva o konfliktu aktualizací a některé dokumenty se nemusí zaúčtovat.</span><span class="sxs-lookup"><span data-stu-id="4897f-149">When you post documents such as inventory journals, purchase order invoices, or sales order invoices in parallel for scalability and performance, you might receive an error message about an update conflict, and some of the documents might not be posted.</span></span> <span data-ttu-id="4897f-150">Tento problém nastane, když metoda ocenění zásob je buď *Standardní cena* nebo *Klouzavý průměr*.</span><span class="sxs-lookup"><span data-stu-id="4897f-150">This issue can occur when the inventory valuation method is either *Standard cost* or *Moving average*.</span></span> <span data-ttu-id="4897f-151">Obě tyto metody jsou metody stálého výpočtu nákladů.</span><span class="sxs-lookup"><span data-stu-id="4897f-151">Both these methods are perpetual costing methods.</span></span> <span data-ttu-id="4897f-152">Jinými slovy, konečná cena je stanovena v době zveřejnění.</span><span class="sxs-lookup"><span data-stu-id="4897f-152">In other words, the final cost is determined at the time of posting.</span></span>

<span data-ttu-id="4897f-153">Pokud používáte metodu *Klouzavý průměr*, chybová zpráva se podobá tomuto příkladu:</span><span class="sxs-lookup"><span data-stu-id="4897f-153">If you're using the *Moving average* method, the error message resembles this example:</span></span>

> <span data-ttu-id="4897f-154">Po výpočtu proporcionálních výdajů se neočekává hodnota zásob xx.xx</span><span class="sxs-lookup"><span data-stu-id="4897f-154">Inventory value xx.xx is not expected after the proportional expense calculation</span></span>

<span data-ttu-id="4897f-155">Pokud používáte metodu *Standardní náklady*, chybová zpráva se podobá tomuto příkladu:</span><span class="sxs-lookup"><span data-stu-id="4897f-155">If you're using the *Standard cost* method, the error message resembles this example:</span></span>

> <span data-ttu-id="4897f-156">Standardní náklady neodpovídají finanční hodnotě zásob po aktualizaci.</span><span class="sxs-lookup"><span data-stu-id="4897f-156">The standard cost does not match with the financial inventory value after the update.</span></span> <span data-ttu-id="4897f-157">Hodnota = xx.xx, množství = rr.rr, standardní cena = zz.zz</span><span class="sxs-lookup"><span data-stu-id="4897f-157">Value = xx.xx, Qty = yy.yy, Standard cost = zz.zz</span></span>

<span data-ttu-id="4897f-158">Dokud společnost Microsoft nevydá řešení k vyřešení problému, zvažte použití následujících řešení, která vám pomohou těmto chybám zabránit nebo je snížit:</span><span class="sxs-lookup"><span data-stu-id="4897f-158">Until Microsoft releases a solution to fix the issue, consider using the following workarounds to help avoid or reduce these errors:</span></span>

- <span data-ttu-id="4897f-159">Znovu odešlete chybné dokumenty.</span><span class="sxs-lookup"><span data-stu-id="4897f-159">Repost the failed documents.</span></span>
- <span data-ttu-id="4897f-160">Vytvářejte dokumenty, které mají méně řádků.</span><span class="sxs-lookup"><span data-stu-id="4897f-160">Create documents that have fewer lines.</span></span>
- <span data-ttu-id="4897f-161">Ve standardní ceně se vyhněte desítkovým hodnotám.</span><span class="sxs-lookup"><span data-stu-id="4897f-161">Avoid decimal values in the standard cost.</span></span> <span data-ttu-id="4897f-162">Zkuste definovat standardní cenu tak, aby pole **Cenové množství** bylo nastaveno na *1*.</span><span class="sxs-lookup"><span data-stu-id="4897f-162">Try to define the standard cost so that the **Price quantity** field is set to *1*.</span></span> <span data-ttu-id="4897f-163">Pokud musíte zadat hodnotu **Cenové množství**, která je větší než *1*, zkuste minimalizovat počet desetinných míst v jednotkové standardní ceně.</span><span class="sxs-lookup"><span data-stu-id="4897f-163">If you must specify a **Price quantity** value that is more than *1*, try to minimize the number of decimal places in the unit standard cost.</span></span> <span data-ttu-id="4897f-164">(V ideálním případě by měla být méně než dvě desetinná místa.) Například se vyhněte definování standardního nastavení nákladů, jako je **Cena** = *10* a **Cenové množství** = *3*, protože vytvoří jednotkovou standardní cenu 3.333333 (kde se opakuje desetinná hodnota).</span><span class="sxs-lookup"><span data-stu-id="4897f-164">(Ideally, there should be fewer than two decimal places.) For example, avoid defining standard cost settings such as **Price** = *10* and **Price quantity** = *3*, because they will produce a unit standard cost of 3.333333 (where the decimal value repeats).</span></span>
- <span data-ttu-id="4897f-165">Ve většině dokumentů nepoužívejte více řádků, které obsahují stejnou kombinaci dimenzí produktů a finančních zásob.</span><span class="sxs-lookup"><span data-stu-id="4897f-165">In a majority of documents, avoid having multiple lines that hold the same combination of product and financial inventory dimensions.</span></span>
- <span data-ttu-id="4897f-166">Snižte stupeň paralelizace.</span><span class="sxs-lookup"><span data-stu-id="4897f-166">Reduce the degree of parallelization.</span></span> <span data-ttu-id="4897f-167">(V tomto případě se systém může zrychlit, protože dojde k menšímu počtu konfliktů a opakování aktualizací.)</span><span class="sxs-lookup"><span data-stu-id="4897f-167">(In this case, your system might become faster, because fewer update conflicts and retries occur.)</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]