---
title: Přidělení vlny
description: Toto téma popisuje, jak vytvořit krok přidělení vlny, včetně toho, jak pro něj povolit paralelní zpracování.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: b01de3c9f1cbcb24abc2b5a0c91db7f0791020bf
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/11/2021
ms.locfileid: "6018996"
---
# <a name="wave-allocation"></a><span data-ttu-id="765f7-103">Přidělení vlny</span><span class="sxs-lookup"><span data-stu-id="765f7-103">Wave allocation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="765f7-104">Zpracování vlny může být časově náročné a většina času zpracování je věnována kroku přidělení a kroku vytvoření práce.</span><span class="sxs-lookup"><span data-stu-id="765f7-104">Wave processing can be time consuming, and most of the processing time is spent in the allocation step and in the work creation step.</span></span>

<span data-ttu-id="765f7-105">Nyní je možné spustit každý z těchto kroků paralelně, což může zlepšit výkon zpracování vln a umožnit větší propustnost vln ve stejném skladu.</span><span class="sxs-lookup"><span data-stu-id="765f7-105">It is now possible to run each of these steps in parallel, which can improve the performance of the wave processing, and allow for a larger throughput of waves in the same warehouse.</span></span> <span data-ttu-id="765f7-106">Toto téma vysvětluje, jak nastavit metodu přidělování vln tak, aby běžela paralelně.</span><span class="sxs-lookup"><span data-stu-id="765f7-106">This topic explains how to set up the wave allocation method to run in parallel.</span></span> <span data-ttu-id="765f7-107">Další informace, jak nastavit paralelní běh pro vytváření prací, najdete v tématu [Plánování vytváření práce během vlny](configure-wave-schedule-work-creation.md).</span><span class="sxs-lookup"><span data-stu-id="765f7-107">For more information about how to set up work creation to run in parallel, see [Schedule work creation during wave](configure-wave-schedule-work-creation.md).</span></span>

<span data-ttu-id="765f7-108">Dříve bylo možné ve skladu přidělit vždy jen jednu vlnu.</span><span class="sxs-lookup"><span data-stu-id="765f7-108">Previously it was only possible to allocate one wave at a warehouse at a time.</span></span> <span data-ttu-id="765f7-109">Toto omezení bylo odebráno a nahrazeno novým omezením, které uzamkne pouze položku a dimenze nad umístěním v hierarchii rezervací.</span><span class="sxs-lookup"><span data-stu-id="765f7-109">This constraint has been removed and replaced by a new constraint that only locks the item and dimensions that are above location in the reservation hierarchy.</span></span> <span data-ttu-id="765f7-110">Dimenze nad umístěním vždy zahrnují dimenze produktu.</span><span class="sxs-lookup"><span data-stu-id="765f7-110">Dimensions above the location always include product dimensions.</span></span> <span data-ttu-id="765f7-111">Například pokud je položka nakonfigurována pomocí *Barva*, pak varianty pro *Červená*, *Modrá* a *Žlutá* mohou být zpracovány paralelně.</span><span class="sxs-lookup"><span data-stu-id="765f7-111">For example, if an item is configured using *Color*, then variants for *Red*, *Blue*, and *Yellow* could each be processed in parallel.</span></span>

<span data-ttu-id="765f7-112">To znamená, že pokud je stejná položka se stejnými dimenzemi nad umístěním přidělena jednou vlnou, ostatní vlny budou muset počkat na získání zámku pro stejnou položku a dimenzi.</span><span class="sxs-lookup"><span data-stu-id="765f7-112">This means that if the same item with the same dimensions above the location is being allocated by one wave, other waves will have to wait to acquire a lock on the same item and dimensions.</span></span> <span data-ttu-id="765f7-113">Pokud zámek nelze získat včas, dojde k chybě a zpracování vlny se nezdaří.</span><span class="sxs-lookup"><span data-stu-id="765f7-113">If the lock can't be acquired in a timely manner, an error will occur and the wave processing will fail.</span></span>

<span data-ttu-id="765f7-114">Aby bylo možné využívat paralelní zpracování, musí vlna probíhat dávkově.</span><span class="sxs-lookup"><span data-stu-id="765f7-114">In order to utilize parallel processing, the wave must run in batch.</span></span>

## <a name="performance-improvements"></a><span data-ttu-id="765f7-115">Zlepšení výkonu</span><span class="sxs-lookup"><span data-stu-id="765f7-115">Performance improvements</span></span>

<span data-ttu-id="765f7-116">Výhody výkonu paralelního zpracování spadají do dvou kategorií:</span><span class="sxs-lookup"><span data-stu-id="765f7-116">Performance benefits of parallel processing fall in two categories:</span></span>

- <span data-ttu-id="765f7-117">**Vylepšená propustnost** – Propustnost vln se obvykle zlepší, i když není nakonfigurováno paralelní zpracování, zejména pro scénáře, kde nedochází k překrývání položek ve vlnách.</span><span class="sxs-lookup"><span data-stu-id="765f7-117">**Improved throughput** - The throughput of waves will typically improve even if parallel processing isn't configured, especially for scenarios where there is no overlap of items within the waves.</span></span>
- <span data-ttu-id="765f7-118">**Vylepšení přidělení pro jednu vlnu** – Testování zákaznických dat ukázalo téměř 50% zlepšení výkonu po přechodu na paralelní přidělení.</span><span class="sxs-lookup"><span data-stu-id="765f7-118">**Improvement of the allocation for a single wave** - Testing on customer data has shown a near 50% performance improvement after switching to parallel allocation.</span></span> <span data-ttu-id="765f7-119">Paralelní zpracování se provádí pro jednotlivé položky a dimenze nad umístěním, takže vylepšení závisí na tom, kolik různých položek vlna obsahuje, na dostupné infrastruktuře a době trvání přidělení oproti době trvání vytvoření práce.</span><span class="sxs-lookup"><span data-stu-id="765f7-119">The parallel processing is done per items and dimensions above the location, so the improvements depend on how many different items a wave contains, the infrastructure available, and the duration of the allocation versus the duration of the work creation.</span></span>

## <a name="configure-parallel-allocation"></a><span data-ttu-id="765f7-120">Konfigurace paralelního přidělení</span><span class="sxs-lookup"><span data-stu-id="765f7-120">Configure parallel allocation</span></span>

### <a name="warehouse-management-parameters"></a><span data-ttu-id="765f7-121">Parametry řízení skladu</span><span class="sxs-lookup"><span data-stu-id="765f7-121">Warehouse management parameters</span></span>

<span data-ttu-id="765f7-122">Chcete-li použít zpracování paralelního přidělení, přejděte na **Řízení skladu > Nastavení > Parametry řízení skladu**, otevřete kartu **Zpracování vlny** a proveďte následující nastavení:</span><span class="sxs-lookup"><span data-stu-id="765f7-122">To use parallel allocation processing, go to **Warehouse management > Setup > Warehouse management parameters**, open the **Wave processing** tab, and make the following settings:</span></span>

- <span data-ttu-id="765f7-123">**Skupina dávek pro zpracování vln** – Vyberte skupinu dávek, kterou má použít počáteční zpracování vln.</span><span class="sxs-lookup"><span data-stu-id="765f7-123">**Wave processing batch group** - Select the batch group that the initial processing of the waves should use.</span></span> <span data-ttu-id="765f7-124">Následné zpracování přidělení lze provést pomocí různých skupin dávek.</span><span class="sxs-lookup"><span data-stu-id="765f7-124">The subsequent processing of allocation can be done using different batch groups.</span></span>
- <span data-ttu-id="765f7-125">**Zpracovat vlny v dávce** – Pro použití paralelního zpracování nastavte na *Ano*.</span><span class="sxs-lookup"><span data-stu-id="765f7-125">**Process waves in batch** - Set this to *Yes* to use parallel processing.</span></span>
- <span data-ttu-id="765f7-126">**Čekat na uzamčení (ms)** – Zadejte čas v milisekundách, po který se bude v rámci kroku přidělení čekat na systémové prostředky, které jsou uzamčeny jiným krokem přidělení.</span><span class="sxs-lookup"><span data-stu-id="765f7-126">**Wait for lock (ms)** - Enter the time, in milliseconds, that an allocation step will wait for a system resource that is locked by another allocation step.</span></span> <span data-ttu-id="765f7-127">Při překročení tohoto času nebude vlna zpracována a zobrazí se chybová zpráva.</span><span class="sxs-lookup"><span data-stu-id="765f7-127">When this time is exceeded, the wave is not processed and an error message is displayed.</span></span> <span data-ttu-id="765f7-128">Doporučujeme počkat alespoň několik sekund, aby bylo možné dokončit přidělení jedné logické jednotky.</span><span class="sxs-lookup"><span data-stu-id="765f7-128">We recommend that you allow at least a few seconds to allow for allocation of one logical unit to finish.</span></span>

<span data-ttu-id="765f7-129">Informace o těchto a dalších možnostech zpracování vln na stránce **Parametry řízení skladu** viz [Parametry skladu pro zpracování vln](wave-warehouse-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="765f7-129">For information about these and other wave processing options on the **Warehouse management parameters** page, see [Warehouse parameters for wave processing](wave-warehouse-parameters.md).</span></span>

## <a name="wave-process-methods"></a><span data-ttu-id="765f7-130">Metody zpracování vlny</span><span class="sxs-lookup"><span data-stu-id="765f7-130">Wave process methods</span></span>

<span data-ttu-id="765f7-131">Nastavení paralelního zpracování:</span><span class="sxs-lookup"><span data-stu-id="765f7-131">To set up parallel processing:</span></span>

1. <span data-ttu-id="765f7-132">Přejděte na **Řízení skladu > Nastavení > Vlny > Metody zpracování vlny**.</span><span class="sxs-lookup"><span data-stu-id="765f7-132">Go to **Warehouse Management > Setup > Waves > Wave process methods**.</span></span>
1. <span data-ttu-id="765f7-133">V mřížce vyberte metodu `allocateWave`.</span><span class="sxs-lookup"><span data-stu-id="765f7-133">Select the `allocateWave` method in the grid.</span></span>
1. <span data-ttu-id="765f7-134">V podokně akcí vyberte **Konfigurace úlohy**.</span><span class="sxs-lookup"><span data-stu-id="765f7-134">On the Action Pane, select **Task configuration**.</span></span>
1. <span data-ttu-id="765f7-135">Otevře se stránka **Konfigurace úlohy metody zaúčtování vlny**.</span><span class="sxs-lookup"><span data-stu-id="765f7-135">The **Wave post method task configuration** page opens.</span></span> <span data-ttu-id="765f7-136">V této mřížce je uveden každý sklad, kde jste nakonfigurovali metodu `allocateWave`.</span><span class="sxs-lookup"><span data-stu-id="765f7-136">This grid lists each warehouse where you have configured the `allocateWave` method.</span></span> <span data-ttu-id="765f7-137">Paralelní zpracování se použije pouze pro uvedené sklady.</span><span class="sxs-lookup"><span data-stu-id="765f7-137">Parallel processing will only be used for warehouses that are listed.</span></span> <span data-ttu-id="765f7-138">Pomocí tlačítek mna panelu akcí můžete podle potřeby přidávat nebo odebírat sklady z mřížky.</span><span class="sxs-lookup"><span data-stu-id="765f7-138">Use the Action Pane buttons to add or remove warehouses from the grid as needed.</span></span> 
1. <span data-ttu-id="765f7-139">U každého skladu proveďte následující nastavení:</span><span class="sxs-lookup"><span data-stu-id="765f7-139">For each warehouse, make the following settings:</span></span>
    - <span data-ttu-id="765f7-140">**Maximální počet dávkových úloh** – Určete počet dávkových úloh, které se mají použít pro přidělení pro vybraný sklad.</span><span class="sxs-lookup"><span data-stu-id="765f7-140">**Maximum number of batch tasks** - Specify the number of batch tasks that should be used for the allocation for the selected warehouse.</span></span> <span data-ttu-id="765f7-141">Optimální počet dávkových úloh závisí na dostupné infrastruktuře a na tom, jaké další dávkové úlohy se na serveru zpracovávají.</span><span class="sxs-lookup"><span data-stu-id="765f7-141">The optimal number of batch tasks depends on the infrastructure available and what other batch jobs are being processed on the server.</span></span> <span data-ttu-id="765f7-142">Testy provedené ve čtyřjádrovém prostředí, které se zabývaly zpracování vln, ukázaly, že použití osmi úloh přineslo dobré výsledky.</span><span class="sxs-lookup"><span data-stu-id="765f7-142">Tests done on a four core environment that was dedicated to wave processing showed that using eight tasks produced good results.</span></span>
    - <span data-ttu-id="765f7-143">**Skupina dávek pro zpracování vln** – Specifické skupiny dávek lze použít pro různé sklady, aby bylo možné zpracování přidělení pro škálování podle skladu.</span><span class="sxs-lookup"><span data-stu-id="765f7-143">**Wave processing batch group** - Specific batch groups can be used for different warehouses to allow the allocation processing to scale out per warehouse.</span></span>

## <a name="enable-or-disable-parallelization-across-all-legal-entities"></a><span data-ttu-id="765f7-144">Povolení nebo zákaz paralelizace napříč všemi právnickými osobami</span><span class="sxs-lookup"><span data-stu-id="765f7-144">Enable or disable parallelization across all legal entities</span></span>

<span data-ttu-id="765f7-145">Doporučujeme nastavit metodu `allocateWave`, aby běžela paralelně napříč všemi právnickými osobami, protože to pomáhá zlepšit výkon zpracování vln.</span><span class="sxs-lookup"><span data-stu-id="765f7-145">We recommend that you set the `allocateWave` method to run in parallel across all legal entities because this helps to improve the performance of the wave processing.</span></span> <span data-ttu-id="765f7-146">Počínaje verzí Supply Chain Management 10.0.17 je funkce *Paralelizace vln pro metodu přidělení vlny* ve výchozím nastavení povolena pro všechny nové a aktualizované instalace a nelze ji znovu vypnout.</span><span class="sxs-lookup"><span data-stu-id="765f7-146">Starting in Supply Chain Management version 10.0.17, the *Wave parallelization for Allocate Wave method* feature is enabled by default for all new and updated installations, and can't be turned off again.</span></span> <span data-ttu-id="765f7-147">Po povolení této funkce dojde k následujícímu:</span><span class="sxs-lookup"><span data-stu-id="765f7-147">After enabling this feature, the following occurs:</span></span>

- <span data-ttu-id="765f7-148">Metoda `allocateWave` je aktualizována tak, aby zahrnovala nastavení konfigurace úlohy, které vám umožní používat stránku **Metody zpracování vlny** k definování počtu úloh, které budou spuštěny současně, ekvivalentní počtu paralelních procesů.</span><span class="sxs-lookup"><span data-stu-id="765f7-148">The `allocateWave` method is updated to include a task configuration setting that lets you use the **Wave process methods** page to define the number of tasks that will run simultaneously, equivalent to the number of parallel processes.</span></span> <span data-ttu-id="765f7-149">Výsledkem je, že čas strávený krokem přidělení vlny (což je obvykle 30–60 % celkového času zpracování) je snížen o faktor, který je zhruba ekvivalentní počtu úloh.</span><span class="sxs-lookup"><span data-stu-id="765f7-149">As a result, the time used on the allocate-wave step (which is typically 30% to 60% of the total processing time) is reduced by a factor roughly equivalent to the number of tasks.</span></span> <span data-ttu-id="765f7-150">Je také možné vybrat, která dávka bude přiřazena ke zpracování těchto úloh.</span><span class="sxs-lookup"><span data-stu-id="765f7-150">It's also possible to select which batch will be assigned to process these tasks.</span></span> <span data-ttu-id="765f7-151">Je důležité si uvědomit, že všechny vaše právnické osoby budou nakonfigurovány pro dávkové zpracování vln.</span><span class="sxs-lookup"><span data-stu-id="765f7-151">It's important to note that all of your legal entities will be configured to process waves in batch.</span></span> <span data-ttu-id="765f7-152">Pro sklady, které jsou již nakonfigurovány pro dávkové zpracování vln, a pro sklady, které jsou již nakonfigurovány pro paralelní použití metody `allocateWave`, zůstane zachována stávající konfigurace.</span><span class="sxs-lookup"><span data-stu-id="765f7-152">For the warehouses that are already configured to process waves in batch, and for the warehouses that are already configured to use the `allocateWave` method in parallel, the existing configuration will be kept.</span></span>
- <span data-ttu-id="765f7-153">Ve výchozím nastavení jsou všechny nové právnické osoby nakonfigurovány pro dávkové zpracování vln.</span><span class="sxs-lookup"><span data-stu-id="765f7-153">By default, all the new legal entities are configured to process waves in batch.</span></span> <span data-ttu-id="765f7-154">Všechny nové sklady s povolenou možností **Procesy řízení skladu** budou mít ve výchozím nastavení nakonfigurovanou metodu `allocateWave` pro paralelní běh.</span><span class="sxs-lookup"><span data-stu-id="765f7-154">All new warehouses with the **Warehouse management processes** option enabled will have the `allocateWave` method configured to run in parallel by default.</span></span>
- <span data-ttu-id="765f7-155">Na stránce **Parametry řízení skladu** je možnost **Zpracovat vlny v dávce** nastavena na *Ano* a **Čekat na uzamčení (ms)** na výchozích 15 sekund.</span><span class="sxs-lookup"><span data-stu-id="765f7-155">On the **Warehouse management parameters** page, **Process saves in batch** is set to *Yes* and  **Wait for lock (ms)** set to a default 15 seconds.</span></span> <span data-ttu-id="765f7-156">To znamená, že všechny vlny budou provedeny v dávce.</span><span class="sxs-lookup"><span data-stu-id="765f7-156">This means that all waves will be executed in batch.</span></span> <span data-ttu-id="765f7-157">Když je vlna spuštěna, získá během kroku přidělení zámek na položku a dimenze nad umístěním.</span><span class="sxs-lookup"><span data-stu-id="765f7-157">When a wave is running, it acquires a lock on the item and dimensions above location during the allocation step.</span></span> <span data-ttu-id="765f7-158">Když se další úloha zpracování vlny pokusí získat stejný zámek pro identický záznam, zablokuje se až do dokončení aktuálního zpracování.</span><span class="sxs-lookup"><span data-stu-id="765f7-158">When another wave processing task tries to acquire the same lock for the identical record, it is blocked until the current process is finished.</span></span> <span data-ttu-id="765f7-159">Nastavení **Čekat na uzamčení (ms)** určuje maximální dobu, po kterou bude systém čekat, než se zámek uvolní.</span><span class="sxs-lookup"><span data-stu-id="765f7-159">The **Wait for lock (ms)** settings establishes the maximum time the system will wait before the lock is released.</span></span>

<span data-ttu-id="765f7-160">Paralelní zpracování přidělení vyžaduje dávkové zpracování vlny.</span><span class="sxs-lookup"><span data-stu-id="765f7-160">Parallel allocation processing requires wave processing to run in batch.</span></span> <span data-ttu-id="765f7-161">Proto snížíte výkon zpracování vlny, pokud vypnete nastavení **Zpracovat vlny v dávce**, zejména pokud zpracování vln používá paralelní proces definovaný v konfiguraci úlohy pro příslušné metody vln.</span><span class="sxs-lookup"><span data-stu-id="765f7-161">Therefore, you will reduce your wave processing performance if you turn off the **Process saves in batch** setting, especially if wave processing is using a parallel process as defined by the task configuration for the relevant wave methods.</span></span>

<span data-ttu-id="765f7-162">Je-li to nutné, můžete vrátit všechna nastavení provedená ve výchozím nastavení, kdy je pro vaši instanci automaticky povolena funkce *Paralelizace vln pro metodu přidělení vlny*.</span><span class="sxs-lookup"><span data-stu-id="765f7-162">If necessary, you can undo each of the settings made by default when the *Wave parallelization for Allocate Wave method* feature is automatically enabled for your instance.</span></span> <span data-ttu-id="765f7-163">Postup je následující:</span><span class="sxs-lookup"><span data-stu-id="765f7-163">To do this:</span></span>

- <span data-ttu-id="765f7-164">Přejděte do nabídky **Řízení skladu \> Nastavení \> Parametry řízení skladu**.</span><span class="sxs-lookup"><span data-stu-id="765f7-164">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="765f7-165">Na kartě **Zpracování vln** použijte preferované hodnoty pro možnosti **Zpracovat vlnu v dávce** a **Čekat na zámek (ms)**.</span><span class="sxs-lookup"><span data-stu-id="765f7-165">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="765f7-166">Přejděte do **Řízení skladu \> Nastavení \> Vlny \> Metody zpracování vlny**.</span><span class="sxs-lookup"><span data-stu-id="765f7-166">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="765f7-167">Vyberte metodu `allocateWave`.</span><span class="sxs-lookup"><span data-stu-id="765f7-167">Select the `allocateWave` method.</span></span> <span data-ttu-id="765f7-168">V podokně akcí vyberte **Konfigurace úlohy** pro otevření stránky, která obsahuje každý sklad, kde je nastavena paralelní metoda.</span><span class="sxs-lookup"><span data-stu-id="765f7-168">On the Action Pane, select **Task configuration** to open a page that lists each warehouse where the method is set to run in parallel.</span></span> <span data-ttu-id="765f7-169">Podle potřeby upravte nebo odstraňte počet dávkových úkolů a přiřazenou skupinu vln pro každý uvedený sklad.</span><span class="sxs-lookup"><span data-stu-id="765f7-169">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="765f7-170">Řešení potíží</span><span class="sxs-lookup"><span data-stu-id="765f7-170">Troubleshooting</span></span>

### <a name="troubleshoot-using-the-infolog"></a><span data-ttu-id="765f7-171">Odstraňování problémů pomocí informačního protokolu</span><span class="sxs-lookup"><span data-stu-id="765f7-171">Troubleshoot using the Infolog</span></span>

<span data-ttu-id="765f7-172">Protože se používá rozhraní dávek, chyby, které se vyskytnou během zpracování vln, budou zachyceny jako součást informačního protokolu dávkových úloh.</span><span class="sxs-lookup"><span data-stu-id="765f7-172">Because the batch framework is used, errors that occur during wave processing will be captured as part of the batch jobs Infologs.</span></span> <span data-ttu-id="765f7-173">Jak číst dávkové úlohy související s vlnou:</span><span class="sxs-lookup"><span data-stu-id="765f7-173">To read the batch jobs related to a wave:</span></span>

1. <span data-ttu-id="765f7-174">Přejděte na **Řízení skladu \> Výstupní vlny \> Vlny dodávek \> Všechny vlny**.</span><span class="sxs-lookup"><span data-stu-id="765f7-174">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="765f7-175">Vyberte vlnu, které chcete zkontrolovat.</span><span class="sxs-lookup"><span data-stu-id="765f7-175">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="765f7-176">V podokně akcí otevřete kartu **Vlna** a ve skupině **Vlna** zvolte **Dávkové úlohy**.</span><span class="sxs-lookup"><span data-stu-id="765f7-176">On the Action Pane, open the **Wave** tab and, from the **Wave** group, select **Batch jobs**.</span></span>

<span data-ttu-id="765f7-177">Zpracování vln je samoopravné, takže všechny chyby zjištěné během zpracování by měly být vykázány v informačním protokolu.</span><span class="sxs-lookup"><span data-stu-id="765f7-177">Wave processing is self-correcting, so any error detected during processing should be reported using the Infolog.</span></span>

<span data-ttu-id="765f7-178">Typickou chybou související s paralelním zpracováním může být to, že dvě vlny se pokusí přidělit stejnou položku ve stejnou dobu a jedna se nedokončí, takže druhá vlna není schopna získat zámek ve stanoveném čase.</span><span class="sxs-lookup"><span data-stu-id="765f7-178">A typical error related to parallel processing could be that two waves try to allocate the same item at the same time and one does not complete so that the other wave is unable to acquire a lock within the specified time.</span></span> <span data-ttu-id="765f7-179">Pokud tato situace nastane, protokol dávkových úloh bude obsahovat informace, že zámek pro položku nelze získat, a v takovém případě musí být vlna, která selhala, znovu zpracována.</span><span class="sxs-lookup"><span data-stu-id="765f7-179">If this situation occurs, the batch jobs log will contain information stating that the lock for the item could not be acquired, in which case the wave that failed must be processed again.</span></span>

<span data-ttu-id="765f7-180">Protože zpracování probíhá paralelně, je nutné data sledovat v různých tabulkách, aby bylo možné sledovat stav zpracování.</span><span class="sxs-lookup"><span data-stu-id="765f7-180">Because the processing is happening in parallel, data must be maintained in different tables to track the state of the processing.</span></span> <span data-ttu-id="765f7-181">To znamená, že protokoly pro dávkové úlohy mohou obsahovat chyby, například chyby duplicitních klíčů.</span><span class="sxs-lookup"><span data-stu-id="765f7-181">This means that the logs for the batch jobs might contain errors such as duplicate key errors.</span></span>

<span data-ttu-id="765f7-182">Chyby dávkových úloh jsou také součástí protokolu dávkových úloh.</span><span class="sxs-lookup"><span data-stu-id="765f7-182">The errors from the batch tasks are also part of the batch jobs log.</span></span> <span data-ttu-id="765f7-183">Nejdůležitější informace jsou obvykle ve spodní části.</span><span class="sxs-lookup"><span data-stu-id="765f7-183">The most important information is typically at the bottom.</span></span>

<span data-ttu-id="765f7-184">Ve vzácných případech, například pokud bylo ukončeno připojení SQL, je možné, že zpracování vlny skončí v nekonzistentním stavu, kdy se zdá, že je spuštěna dávková úloha, ale zpracování je zastaveno.</span><span class="sxs-lookup"><span data-stu-id="765f7-184">In rare cases, for example if the SQL connection ended, it is possible for the wave processing to end in an inconsistent state where the batch job appears to be running but the processing is stopped.</span></span> <span data-ttu-id="765f7-185">Vlna nedokáže takové chyby zpracovat, takže pokus o vyčištění neúspěšných vln je proveden při běhu následující vlny.</span><span class="sxs-lookup"><span data-stu-id="765f7-185">The wave can't handle errors like this, so an attempt to clean up failed waves is done when the next wave runs.</span></span> <span data-ttu-id="765f7-186">Alternativně, pokud je aktuální vlna v nekonzistentním stavu, proveďte následující kroky:</span><span class="sxs-lookup"><span data-stu-id="765f7-186">Alternatively, if the current wave is in an inconsistent state, perform the following steps:</span></span>

1. <span data-ttu-id="765f7-187">Přejděte na **Řízení skladu \> Výstupní vlny \> Vlny dodávek \> Všechny vlny**.</span><span class="sxs-lookup"><span data-stu-id="765f7-187">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="765f7-188">Vyberte vlnu, kterou potřebujete vyčistit.</span><span class="sxs-lookup"><span data-stu-id="765f7-188">Select the wave you need to clean up.</span></span>
1. <span data-ttu-id="765f7-189">V podokně akcí otevřete kartu **Vlna** a ve skupině **Vlna** zvolte **Vyčistit data vlny**.</span><span class="sxs-lookup"><span data-stu-id="765f7-189">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Cleanup wave data**.</span></span>

### <a name="troubleshoot-using-the-wave-progress-log"></a><span data-ttu-id="765f7-190">Odstraňování problémů pomocí protokolu průběhu vlny</span><span class="sxs-lookup"><span data-stu-id="765f7-190">Troubleshoot using the wave progress log</span></span>

<span data-ttu-id="765f7-191">Pokud je povolena možnost **Vytvořit protokol průběhu vlny** na stránce **Parametry řízení skladu**, pak se při každém zahájení a ukončení přidělení položky a jejích dimenzí vytvoří záznam protokolu.</span><span class="sxs-lookup"><span data-stu-id="765f7-191">If the **Create wave progress log** option is enabled on the **Warehouse management parameters** page, then a log record is created every time allocation for an item and its dimensions begins and ends.</span></span> <span data-ttu-id="765f7-192">Tento protokol byste měli povolit, pouze když ho potřebujete, například při počátečním testování nebo při řešení potíží.</span><span class="sxs-lookup"><span data-stu-id="765f7-192">You should only enable this log when you need it, for example, during initial testing or for troubleshooting.</span></span> <span data-ttu-id="765f7-193">Pokud je tato možnost povolena, můžete protokol zobrazit následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="765f7-193">When this option is enabled, you can view the log by taking the following steps:</span></span>

1. <span data-ttu-id="765f7-194">Přejděte na **Řízení skladu \> Výstupní vlny \> Vlny dodávek \> Všechny vlny**.</span><span class="sxs-lookup"><span data-stu-id="765f7-194">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="765f7-195">Vyberte vlnu, které chcete zkontrolovat.</span><span class="sxs-lookup"><span data-stu-id="765f7-195">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="765f7-196">V podokně akcí otevřete kartu **Vlna** a ve skupině **Vlna** zvolte **Průběh**.</span><span class="sxs-lookup"><span data-stu-id="765f7-196">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Progress**.</span></span>
