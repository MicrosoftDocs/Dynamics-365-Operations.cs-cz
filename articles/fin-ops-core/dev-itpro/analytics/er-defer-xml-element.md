---
title: Odložení provádění prvků XML ve formátech elektronického výkaznictví
description: V tomto tématu je vysvětleno, jak odložit provádění prvku XML ve formátu elektronického výkaznictví.
author: NickSelin
manager: kfend
ms.date: 03/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: EROperationDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: 6dce3768c886403f789063d516e0e696fc829f81
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/05/2020
ms.locfileid: "4680703"
---
# <a name="defer-the-execution-of-xml-elements-in-er-formats"></a><span data-ttu-id="3e80b-103">Odložení provádění prvků XML ve formátech elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="3e80b-103">Defer the execution of XML elements in ER formats</span></span>

[!include [banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="3e80b-104">Přehled</span><span class="sxs-lookup"><span data-stu-id="3e80b-104">Overview</span></span>

<span data-ttu-id="3e80b-105">Můžete použít návrháře operací rámce [elektronického výkaznictví](general-electronic-reporting.md) pro [konfiguraci](./tasks/er-format-configuration-2016-11.md) [komponenty formátu](general-electronic-reporting.md#FormatComponentOutbound) řešení elektronického výkaznictví, které se používá ke generování odchozích dokumentů ve formátu XML.</span><span class="sxs-lookup"><span data-stu-id="3e80b-105">You can use the Operations designer of the [Electronic reporting (ER)](general-electronic-reporting.md) framework to [configure](./tasks/er-format-configuration-2016-11.md) the [format component](general-electronic-reporting.md#FormatComponentOutbound) of an ER solution that is used to generate outbound documents in XML format.</span></span> <span data-ttu-id="3e80b-106">Hierarchická struktura konfigurované součásti formátu sestává z prvků formátu různých typů.</span><span class="sxs-lookup"><span data-stu-id="3e80b-106">The hierarchical structure of the configured format component consists of format elements of various types.</span></span> <span data-ttu-id="3e80b-107">Tyto prvky formátu se používají k vyplňování vygenerovaných dokumentů s požadovanými informacemi za běhu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-107">These format elements are used to fill generated documents with the required information at runtime.</span></span> <span data-ttu-id="3e80b-108">Při spuštění formátu elektronického výkaznictví jsou ve výchozím nastavení prvky formátu spouštěny ve stejném pořadí, v jakém jsou uvedeny v hierarchii formátu: jeden po druhém, shora dolů.</span><span class="sxs-lookup"><span data-stu-id="3e80b-108">By default, when you run an ER format, the format elements are run in the same order as they are presented in the format hierarchy: one by one, from top to bottom.</span></span> <span data-ttu-id="3e80b-109">Avšak v době návrhu můžete změnit pořadí provádění pro libovolné prvky XML v konfigurované součásti formátu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-109">However, at design time, you can change the execution order for any XML elements of the configured format component.</span></span>

<span data-ttu-id="3e80b-110">Zapnutím možnosti <a name="DeferredXmlElementExecution"></a>**odloženého provedení** pro prvek XML v konfigurovaném formátu můžete odložit (pozdržet) provedení tohoto prvku.</span><span class="sxs-lookup"><span data-stu-id="3e80b-110">By turning on the <a name="DeferredXmlElementExecution"></a>**Deferred execution** option for an XML element in the configured format, you can defer (postpone) the execution of that element.</span></span> <span data-ttu-id="3e80b-111">V tomto případě se prvek nespustí, dokud nejsou spuštěny všechny ostatní prvky nadřazené položky.</span><span class="sxs-lookup"><span data-stu-id="3e80b-111">In this case, the element isn't run until all other elements of its parent have been run.</span></span>

<span data-ttu-id="3e80b-112">Chcete-li získat další informace o této funkci, vyplňte příklad tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-112">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="limitations"></a><span data-ttu-id="3e80b-113">Omezení</span><span class="sxs-lookup"><span data-stu-id="3e80b-113">Limitations</span></span>

<span data-ttu-id="3e80b-114">Možnost **odloženého provedení** je podporována pouze u prvků XML, které jsou nakonfigurovány pro formát elektronického výkaznictví, který slouží ke generování **odchozích** dokumentů ve formátu XML.</span><span class="sxs-lookup"><span data-stu-id="3e80b-114">The **Deferred execution** option is supported only for XML elements that are configured for an ER format that is used to generate **outbound** documents in XML format.</span></span>

<span data-ttu-id="3e80b-115">Možnost **odloženého provedení** je podporována pouze u prvků XML, které se nacházejí pouze v jednom dalším prvku XML.</span><span class="sxs-lookup"><span data-stu-id="3e80b-115">The **Deferred execution** option is supported only for XML elements that reside in only one other XML element.</span></span> <span data-ttu-id="3e80b-116">Proto není použitelné pro prvky XML, které se nacházejí v jiných typech prvků formátu (například v prvku **posloupnost XML**).</span><span class="sxs-lookup"><span data-stu-id="3e80b-116">Therefore, it isn't applicable to XML elements that reside in other types of format elements (for example, in an **XML sequence** element).</span></span>

<span data-ttu-id="3e80b-117">Možnost **odloženého provedení** není podporována u prvků XML, které se nacházejí v prvku formátu **Common\\File**, pokud je možnost **Rozdělit soubor** nastavena na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-117">The **Deferred execution** option isn't supported for XML elements that reside in the **Common\\File** format element when the **Split file** option is set to **Yes**.</span></span> <span data-ttu-id="3e80b-118">Informace o rozdělení souborů XML naleznete v části [Rozdělení generovaných souborů XML na základě velikosti souboru a množství obsahu](er-split-files.md).</span><span class="sxs-lookup"><span data-stu-id="3e80b-118">For more information about how to split XML files, see [Split generated XML files based on file size and content quantity](er-split-files.md).</span></span>

## <a name="example-defer-the-execution-of-an-xml-element-in-an-er-format"></a><a name="Example"></a><span data-ttu-id="3e80b-119">Příklad: Odložení provádění prvku XML ve formátu elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="3e80b-119">Example: Defer the execution of an XML element in an ER format</span></span>

<span data-ttu-id="3e80b-120">Následující postup vysvětluje, jak může uživatel v [roli](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) správce systému nebo funkčního konzultanta elektronického výkaznictví konfigurovat formát elektronického výkaznictví, který obsahuje prvek XML, kde se pořadí provádění liší od pořadí v hierarchii formátu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-120">The following steps explain how a user in the System administrator or Electronic reporting functional consultant [role](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) can configure an ER format that contains an XML element where the order of execution differs from the order in the format hierarchy.</span></span>

<span data-ttu-id="3e80b-121">Tyto kroky lze provést ve společnosti **USMF** v aplikaci Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="3e80b-121">These steps can be performed in the **USMF** company in Microsoft Dynamics 365 Finance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="3e80b-122">Předpoklady</span><span class="sxs-lookup"><span data-stu-id="3e80b-122">Prerequisites</span></span>

<span data-ttu-id="3e80b-123">K dokončení tohoto příkladu v tomto tématu musíte mít přístup ke společnosti **USMF** v aplikaci Finance pro některou z následujících rolí:</span><span class="sxs-lookup"><span data-stu-id="3e80b-123">To complete this example, you must have access to the **USMF** company in Finance for one of the following roles:</span></span>

- <span data-ttu-id="3e80b-124">Funkční konzultant elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="3e80b-124">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="3e80b-125">Správce systému</span><span class="sxs-lookup"><span data-stu-id="3e80b-125">System administrator</span></span>

<span data-ttu-id="3e80b-126">Pokud jste ještě nedokončili příklad v části [Odložení provádění prvků posloupnosti ve formátech elektronického výkaznictví](er-defer-sequence-element.md#Example), stáhněte si následující [konfigurace](general-electronic-reporting.md#Configuration) ukázkového řešení elektronického výkaznictví.</span><span class="sxs-lookup"><span data-stu-id="3e80b-126">If you haven't yet completed the example in the [Defer the execution of sequence elements in ER formats](er-defer-sequence-element.md#Example) topic, download the following [configurations](general-electronic-reporting.md#Configuration) of the sample ER solution.</span></span>

| <span data-ttu-id="3e80b-127">Popis obsahu</span><span class="sxs-lookup"><span data-stu-id="3e80b-127">Content description</span></span>            | <span data-ttu-id="3e80b-128">Název souboru</span><span class="sxs-lookup"><span data-stu-id="3e80b-128">File name</span></span> |
|--------------------------------|-----------|
| <span data-ttu-id="3e80b-129">Konfigurace datového modelu elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="3e80b-129">ER data model configuration</span></span>    | [<span data-ttu-id="3e80b-130">Model to learn deferred elements.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="3e80b-130">Model to learn deferred elements.version.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="3e80b-131">Konfigurace mapování modelu elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="3e80b-131">ER model mapping configuration</span></span> | [<span data-ttu-id="3e80b-132">Mapping to learn deferred elements.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="3e80b-132">Mapping to learn deferred elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

<span data-ttu-id="3e80b-133">Než začnete, musíte také stáhnout a uložit následující konfiguraci ukázkového řešení elektronického výkaznictví do svého místního počítače.</span><span class="sxs-lookup"><span data-stu-id="3e80b-133">Before you begin, you must also download and save the following configuration of the sample ER solution to your local computer.</span></span>

| <span data-ttu-id="3e80b-134">Popis obsahu</span><span class="sxs-lookup"><span data-stu-id="3e80b-134">Content description</span></span>     | <span data-ttu-id="3e80b-135">Název souboru</span><span class="sxs-lookup"><span data-stu-id="3e80b-135">File name</span></span> |
|-------------------------|-----------|
| <span data-ttu-id="3e80b-136">Konfigurace formátu elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="3e80b-136">ER format configuration</span></span> | [<span data-ttu-id="3e80b-137">Format to learn deferred XML elements.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="3e80b-137">Format to learn deferred XML elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="import-the-sample-er-configurations"></a><span data-ttu-id="3e80b-138">Import ukázkových konfigurací elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="3e80b-138">Import the sample ER configurations</span></span>

1. <span data-ttu-id="3e80b-139">Přejděte do části **Správa organizace** \> **Pracovní prostory** \> **Elektronické výkaznictví**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-139">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="3e80b-140">Vyberte **Konfigurace vykazování**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-140">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="3e80b-141">Na stránce **Konfigurace**, pokud **Model to learn deferred elements** není ve stromu konfigurací k dispozici, importujte konfiguraci datového modelu elektronického výkaznictví:</span><span class="sxs-lookup"><span data-stu-id="3e80b-141">On the **Configurations** page, if the **Model to learn deferred elements** configuration isn't available in the configuration tree, import the ER data model configuration:</span></span>

    1. <span data-ttu-id="3e80b-142">Vyberte **Exchange** a poté vyberte **Načíst ze souboru XML**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-142">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="3e80b-143">Vyberte **Procházet** najděte a vyberte soubor **Model to learn deferred elements.1.xml** a poté vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-143">Select **Browse**, find and select the **Model to learn deferred elements.1.xml** file, and then select **OK**.</span></span>

4. <span data-ttu-id="3e80b-144">Pokud konfigurace **Mapping to learn deferred elements** není ve stromu konfigurací k dispozici, importujte konfiguraci datového modelu elektronického výkaznictví:</span><span class="sxs-lookup"><span data-stu-id="3e80b-144">If the **Mapping to learn deferred elements** configuration isn't available in the configuration tree, import the ER model mapping configuration:</span></span>

    1. <span data-ttu-id="3e80b-145">Vyberte **Exchange** a poté vyberte **Načíst ze souboru XML**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-145">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="3e80b-146">Vyberte **Procházet** najděte a vyberte soubor **Mapping to learn deferred elements.1.xml** a poté vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-146">Select **Browse**, find and select the **Mapping to learn deferred elements.1.1.xml** file, and then select **OK**.</span></span>

5. <span data-ttu-id="3e80b-147">Import konfigurace formátu elektronického výkaznictví:</span><span class="sxs-lookup"><span data-stu-id="3e80b-147">Import the ER format configuration:</span></span>

    1. <span data-ttu-id="3e80b-148">Vyberte **Exchange** a poté vyberte **Načíst ze souboru XML**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-148">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="3e80b-149">Vyberte **Procházet** najděte a vyberte soubor **Format to learn deferred XML elements.1.1.xml** a poté vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-149">Select **Browse**, find and select the **Format to learn deferred XML elements.1.1.xml** file, and then select **OK**.</span></span>

6. <span data-ttu-id="3e80b-150">Ve stromu konfigurace rozbalte **Model to learn deferred elements**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-150">In the configuration tree, expand **Model to learn deferred elements**.</span></span>
7. <span data-ttu-id="3e80b-151">Zkontrolujte seznam importovaných konfigurací elektronického výkaznictví ve stromu konfigurace.</span><span class="sxs-lookup"><span data-stu-id="3e80b-151">Review the list of imported ER configurations in the configuration tree.</span></span>

    ![Importované konfigurace elektronického výkaznictví na stránce konfigurace](./media/ER-DeferredXml-Configurations.png)

### <a name="activate-a-configuration-provider"></a><span data-ttu-id="3e80b-153">Aktivace poskytovatele konfigurace</span><span class="sxs-lookup"><span data-stu-id="3e80b-153">Activate a configuration provider</span></span>

1. <span data-ttu-id="3e80b-154">Přejděte do části **Správa organizace** \> **Pracovní prostory** \> **Elektronické výkaznictví**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-154">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="3e80b-155">Na stránce **Konfigurace lokalizace** v části **Poskytovatelé konfigurace** ověřte, že je uveden [poskytovatel konfigurace](general-electronic-reporting.md#Provider) ukázkové společnosti Litware, Inc. (`http://www.litware.com`) a že je označen jako aktivní.</span><span class="sxs-lookup"><span data-stu-id="3e80b-155">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the [configuration provider](general-electronic-reporting.md#Provider) for the Litware, Inc. (`http://www.litware.com`) sample company is listed, and that it's marked as active.</span></span> <span data-ttu-id="3e80b-156">Není-li tento poskytovatel konfigurace uveden v seznamu nebo není-li označen jako aktivní, postupujte podle kroků v tématu [Vytvoření poskytovatele konfigurace a jeho označení jako aktivního](./tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="3e80b-156">If this configuration provider isn't listed, or if it isn't marked as active, follow the steps in the [Create a configuration provider and mark it as active](./tasks/er-configuration-provider-mark-it-active-2016-11.md) topic.</span></span>

    ![Ukázková společnost Litware, Inc. na stránce konfigurace lokalizace](./media/ER-DeferredXml-ElectronicReportingWorkspace.png)

### <a name="review-the-imported-model-mapping"></a><span data-ttu-id="3e80b-158">Kontrola importovaného mapování modelu</span><span class="sxs-lookup"><span data-stu-id="3e80b-158">Review the imported model mapping</span></span>

<span data-ttu-id="3e80b-159">Zkontrolujte nastavení součásti mapování modelu elektronického výkaznictví, která je nakonfigurována pro přístup k daňovým transakcím a vystavení přístupových dat na vyžádání.</span><span class="sxs-lookup"><span data-stu-id="3e80b-159">Review the settings of the ER model mapping component that is configured to access tax transactions and expose accessed data on request.</span></span>

1. <span data-ttu-id="3e80b-160">Přejděte do části **Správa organizace** \> **Pracovní prostory** \> **Elektronické výkaznictví**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-160">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="3e80b-161">Vyberte **Konfigurace vykazování**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-161">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="3e80b-162">Na stránce **Konfigurace** ve stromu konfigurací rozbalte **Model to learn deferred elements**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-162">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
4. <span data-ttu-id="3e80b-163">Vyberte konfiguraci **Mapping to learn deferred elements**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-163">Select the **Mapping to learn deferred elements** configuration.</span></span>
5. <span data-ttu-id="3e80b-164">Výběrem možnosti **Návrhář** otevřete seznam mapování.</span><span class="sxs-lookup"><span data-stu-id="3e80b-164">Select **Designer** to open the list of mappings.</span></span>
6. <span data-ttu-id="3e80b-165">Chcete-li zkontrolovat podrobnosti mapování, vyberte možnost **Návrhář**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-165">Select **Designer** to review the mapping details.</span></span>
7. <span data-ttu-id="3e80b-166">Vyberte **Zobrazit podrobnosti**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-166">Select **Show details**.</span></span>
8. <span data-ttu-id="3e80b-167">Zkontrolujte zdroje dat, které jsou nakonfigurovány pro přístup k daňovým transakcím:</span><span class="sxs-lookup"><span data-stu-id="3e80b-167">Review the data sources that are configured to access tax transactions:</span></span>

    - <span data-ttu-id="3e80b-168">Datový zdroj **Transakce** typu *Záznam tabulky* je nakonfigurován pro přístup k záznamům tabulky aplikace **TaxTrans**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-168">The **Transactions** data source of the *Table record* type is configured to access records of the **TaxTrans** application table.</span></span>
    - <span data-ttu-id="3e80b-169">Datový zdroj **Doklady** typu *Vypočítané pole* je nakonfigurován tak, aby vracel požadované kódy dokladů (**INV-10000349** a **INV-10000350**) jako seznam záznamů.</span><span class="sxs-lookup"><span data-stu-id="3e80b-169">The **Vouchers** data source of the *Calculated field* type is configured to return the required voucher codes (**INV-10000349** and **INV-10000350**) as a list of records.</span></span>
    - <span data-ttu-id="3e80b-170">Datový zdroj **Filtrovaný** typu *Vypočítané pole* je nakonfigurován tak, aby ze zdroje dat **Transakce** vybral pouze daňové transakce požadovaných dokladů.</span><span class="sxs-lookup"><span data-stu-id="3e80b-170">The **Filtered** data source of the *Calculated field* type is configured to select, from the **Transactions** data source, only tax transactions of the required vouchers.</span></span>
    - <span data-ttu-id="3e80b-171">Pole **\$TaxAmount** typu *Vypočítané pole* je přidáno do datového zdroje **Filtrované** za účelem vystavení hodnoty daně s opačným znaménkem.</span><span class="sxs-lookup"><span data-stu-id="3e80b-171">The **\$TaxAmount** field of the *Calculated field* type is added for the **Filtered** data source to expose the tax value that has the opposite sign.</span></span>
    - <span data-ttu-id="3e80b-172">Datový zdroj **Seskupený** typu *Seskupit podle* je nakonfigurován tak, aby seskupoval filtrované daňové transakce datového zdroje **Filtrované**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-172">The **Grouped** data source of the *Group By* type is configured to group filtered tax transactions of the **Filtered** data source.</span></span>
    - <span data-ttu-id="3e80b-173">Pole agregace **TotalSum** datového zdroje **Seskupený** je nakonfigurováno tak, aby shrnoval hodnoty pole **\$TaxAmount** datového zdroje **Filtrované** pro všechny filtrované daňové transakce zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="3e80b-173">The **TotalSum** aggregation field of the **Grouped** data source is configured to summarize values of the **\$TaxAmount** field of the **Filtered** data source for all filtered tax transactions of that data source.</span></span>

        ![Pole agregace TotalSum na stránce Úpravy parametrů GroupBy](./media/ER-DeferredXml-GroupByParameters.png)

9. <span data-ttu-id="3e80b-175">Zkontrolujte, jakým způsobem jsou nakonfigurované zdroje dat navázány na datový model a jakým způsobem vystavují data přístupu k jejich zpřístupnění ve formátu elektronického výkaznictví:</span><span class="sxs-lookup"><span data-stu-id="3e80b-175">Review how the configured data sources are bound to the data model, and how they expose accessed data to make it available in an ER format:</span></span>

    - <span data-ttu-id="3e80b-176">Datový zdroj **Filtrovaný** je navázán na pole **Data.List** datového modelu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-176">The **Filtered** data source is bound to the **Data.List** field of the data model.</span></span>
    - <span data-ttu-id="3e80b-177">Pole **\$TaxAmount** datového zdroje **Filtrovaný** je navázán na pole **Data.List.Value** datového modelu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-177">The **\$TaxAmount** field of the **Filtered** data source is bound to the **Data.List.Value** field of the data model.</span></span>
    - <span data-ttu-id="3e80b-178">Pole **TotalSum** datového zdroje **Seskupený** je navázán na pole **Data.Summary.Total** datového modelu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-178">The **TotalSum** field of the **Grouped** data source is bound to the **Data.Summary.Total** field of the data model.</span></span>

    ![Stránka návrháře mapování modelu](./media/ER-DeferredXml-ModelMapping.png)

10. <span data-ttu-id="3e80b-180">Zavřete stránky **Návrhář mapování modelu** a **Mapování modelu**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-180">Close the **Model mapping designer** and **Model mappings** pages.</span></span>

### <a name="review-the-imported-format"></a><span data-ttu-id="3e80b-181">Kontrola importovaného formátu</span><span class="sxs-lookup"><span data-stu-id="3e80b-181">Review the imported format</span></span>

1. <span data-ttu-id="3e80b-182">Na stránce **Konfigurace** ve stromu konfigurace vyberte konfiguraci **Format to learn deferred XML elements**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-182">On the **Configurations** page, in the configuration tree, select the **Format to learn deferred XML elements** configuration.</span></span>
2. <span data-ttu-id="3e80b-183">Chcete-li zkontrolovat podrobnosti formátu, vyberte možnost **Návrhář**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-183">Select **Designer** to review the format details.</span></span>
3. <span data-ttu-id="3e80b-184">Vyberte **Zobrazit podrobnosti**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-184">Select **Show details**.</span></span>
4. <span data-ttu-id="3e80b-185">Zkontrolujte nastavení součástí formátu elektronického výkaznictví, které jsou nakonfigurovány pro generování odchozího dokumentu ve formátu XML, který obsahuje podrobnosti o daňových transakcích:</span><span class="sxs-lookup"><span data-stu-id="3e80b-185">Review the settings of the ER format components that are configured to generate an outbound document in XML format that includes details of the tax transactions:</span></span>

    - <span data-ttu-id="3e80b-186">Prvek XML **Report\\Message** je nakonfigurován tak, aby vyplnil odchozí dokument jedním uzlem, který obsahuje vnořené prvky XML (**Záhlaví**, **Záznam** a **Souhrn**).</span><span class="sxs-lookup"><span data-stu-id="3e80b-186">The **Report\\Message** XML element is configured to fill the outbound document with a single node that includes the nested XML elements (**Header**, **Record**, and **Summary**).</span></span>
    - <span data-ttu-id="3e80b-187">Prvek fXML **Report\\Message\\Header** je nakonfigurován tak, aby vyplnil odchozí dokument jedním uzlem záhlaví, který zobrazuje datum a čas zahájení zpracování.</span><span class="sxs-lookup"><span data-stu-id="3e80b-187">The **Report\\Message\\Header** XML element is configured to fill the outbound document with a single header node that shows the date and time when the processing starts.</span></span>
    - <span data-ttu-id="3e80b-188">Prvek XML **Report \\Message\\Record** je nakonfigurován tak, aby vyplnil odchozí dokument jedním uzlem záznamu, který zobrazuje podrobnosti jednotlivé daňové transakce.</span><span class="sxs-lookup"><span data-stu-id="3e80b-188">The **Report \\Message\\Record** XML element is configured to fill the outbound document with a single record node that shows the details of a single tax transaction.</span></span>
    - <span data-ttu-id="3e80b-189">Prvek XML **Report\\Message\\Summary** je nakonfigurován tak, aby vyplnil odchozí dokument jedním uzlem souhrnu, který zahrnuje souhrn hodnot daně ze zpracovaných daňových transakcí.</span><span class="sxs-lookup"><span data-stu-id="3e80b-189">The **Report\\Message\\Summary** XML element is configured to fill the outbound document with a single summary node that includes the sum of the tax values from the processed tax transactions.</span></span>

    ![Prvek XML zprávy a vnořené prvky XML na stránce Návrhář formátu](./media/ER-DeferredXml-Format.png)

5. <span data-ttu-id="3e80b-191">Na kartě **Mapování** zkontrolujte následující podrobnosti:</span><span class="sxs-lookup"><span data-stu-id="3e80b-191">On the **Mapping** tab, review the following details:</span></span>

    - <span data-ttu-id="3e80b-192">Prvek **Report\\Message\\Header** nemusí být vázán na zdroj pro generování jednoho uzlu v odchozím dokumentu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-192">The **Report\\Message\\Header** element doesn't have to be bound to a source to generate a single node in an outbound document.</span></span>
    - <span data-ttu-id="3e80b-193">Atribut **ExecutionDateTime** generuje datum a čas (včetně milisekund), kdy je přidán uzel záhlaví.</span><span class="sxs-lookup"><span data-stu-id="3e80b-193">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the header node is added.</span></span>
    - <span data-ttu-id="3e80b-194">Prvek **Report\\Message\\Record** je vázán na seznam **model.Data.List** pro generování jednoho uzlu záznamu pro každý záznam z vázaného seznamu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-194">The **Report\\Message\\Record** element is bound to the **model.Data.List** list to generate a single record node for every record from the bound list.</span></span>
    - <span data-ttu-id="3e80b-195">Atribut **TaxAmount** je vázán na **model.Data.List.Value** (který je zobrazen jako **\@.Value** v zobrazení relativní cesty) pro generování hodnoty daně aktuální daňové transakce.</span><span class="sxs-lookup"><span data-stu-id="3e80b-195">The **TaxAmount** attribute is bound to **model.Data.List.Value** (which is shown as **\@.Value** in the relative path view) to generate the tax value of the current tax transaction.</span></span>
    - <span data-ttu-id="3e80b-196">Atribut **RunningTotal** je zástupný symbol pro mezisoučet hodnot daně.</span><span class="sxs-lookup"><span data-stu-id="3e80b-196">The **RunningTotal** attribute is a placeholder for the running total of the tax values.</span></span> <span data-ttu-id="3e80b-197">V současné době nemá tento atribut žádný výstup, protože pro něj není nakonfigurována ani vazba ani výchozí hodnota.</span><span class="sxs-lookup"><span data-stu-id="3e80b-197">Currently, this attribute has no output, because neither a binding nor a default value is configured for it.</span></span>
    - <span data-ttu-id="3e80b-198">Atribut **ExecutionDateTime** generuje datum a čas (včetně milisekund), kdy je v této sestavě zpracována aktuální transakce.</span><span class="sxs-lookup"><span data-stu-id="3e80b-198">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the current transaction is processed in this report.</span></span>
    - <span data-ttu-id="3e80b-199">Prvek **Report\\Message\\Summary** nemusí být vázán na datový zdroj pro generování jednoho uzlu v odchozím dokumentu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-199">The **Report\\Message\\Summary** element doesn't have to be bound to a data source to generate a single node in an outbound document.</span></span>
    - <span data-ttu-id="3e80b-200">Atribut **TotalTaxAmount** je vázán na **model. Data.Summary.Total** pro vygenerování součtu hodnot daně zpracovaných daňových transakcí.</span><span class="sxs-lookup"><span data-stu-id="3e80b-200">The **TotalTaxAmount** attribute is bound to **model.Data.Summary.Total** to generate the sum of the tax values of the processed tax transactions.</span></span>
    - <span data-ttu-id="3e80b-201">Atribut **ExecutionDateTime** generuje datum a čas (včetně milisekund), kdy je přidán uzel souhrnu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-201">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the summary node is added.</span></span>

    ![Karta mapování na stránce Návrhář formátu](./media/ER-DeferredXml-Format2.png)

### <a name="run-the-imported-format"></a><span data-ttu-id="3e80b-203">Spuštění importovaného formátu</span><span class="sxs-lookup"><span data-stu-id="3e80b-203">Run the imported format</span></span>

1. <span data-ttu-id="3e80b-204">Na stránce **Návrhář formátu** zvolte **Spustit**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-204">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="3e80b-205">Stáhněte soubor, který webový prohlížeč nabízí, a otevřete jej k revizi.</span><span class="sxs-lookup"><span data-stu-id="3e80b-205">Download the file that the web browser offers, and open it for review.</span></span>

    ![Stažený soubor](./media/ER-DeferredXml-Run.png)

<span data-ttu-id="3e80b-207">Povšimněte si, že souhrnný uzel představuje součet hodnot daně pro zpracované transakce.</span><span class="sxs-lookup"><span data-stu-id="3e80b-207">Notice that the summary node presents the sum of the tax values for the processed transactions.</span></span> <span data-ttu-id="3e80b-208">Vzhledem k tomu, že formát je konfigurován pro použití vazby **model.Data.Summary.Total** pro vrácení tohoto souhrnu, vypočte se součet voláním agregace **TotalSum** datového zdroje **Seskupený** typu *GroupBy* v mapování modelu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-208">Because the format is configured to use the **model.Data.Summary.Total** binding to return this sum, the sum is calculated by calling the **TotalSum** aggregation of the **Grouped** data source of the *GroupBy* type in the model mapping.</span></span> <span data-ttu-id="3e80b-209">Pro výpočet této agregace prochází mapování modelů všechny transakce, které byly vybrány ve zdroji dat **Filtrované**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-209">To calculate this aggregation, the model mapping iterates over all transactions that have been selected in the **Filtered** data source.</span></span> <span data-ttu-id="3e80b-210">Porovnáním dob provádění na souhrnném uzlu a v posledním uzlu záznamu můžete určit, že výpočet součtu trvá 12 milisekund (MS).</span><span class="sxs-lookup"><span data-stu-id="3e80b-210">By comparing the execution times of the summary node and the last record node, you can determine that calculation of the sum took 12 milliseconds (ms).</span></span> <span data-ttu-id="3e80b-211">Porovnáním dob provádění prvního a posledního uzlu záznamu můžete určit, že generování všech uzlů záznamu trvalo 9 ms.</span><span class="sxs-lookup"><span data-stu-id="3e80b-211">By comparing the execution times of the first and last record nodes, you can determine that generation of all record nodes took 9 ms.</span></span> <span data-ttu-id="3e80b-212">Z tohoto důvodu je nutné celkem 21 ms.</span><span class="sxs-lookup"><span data-stu-id="3e80b-212">Therefore, a total of 21 ms was required.</span></span>

### <a name="modify-the-format-so-that-the-calculation-is-based-on-generated-output"></a><span data-ttu-id="3e80b-213">Upravte formát tak, aby výpočet byl založen na generovaném výstupu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-213">Modify the format so that the calculation is based on generated output</span></span>

<span data-ttu-id="3e80b-214">Pokud je objem transakce mnohem větší než objem v aktuálním příkladu, může se čas výpočtu zvýšit a způsobit problémy s výkonem.</span><span class="sxs-lookup"><span data-stu-id="3e80b-214">If the volume of transaction is much larger than the volume in the current example, the calculation time might increase and cause performance issues.</span></span> <span data-ttu-id="3e80b-215">Změnou nastavení formátu můžete předejít těmto problémům s výkonem.</span><span class="sxs-lookup"><span data-stu-id="3e80b-215">By changing the setting of the format, you can help prevent these performance issues.</span></span> <span data-ttu-id="3e80b-216">Protože přistupujete k hodnotám daně, které mají být zahrnuty do generované sestavy, můžete tyto informace znovu použít k výpočtu hodnot daně.</span><span class="sxs-lookup"><span data-stu-id="3e80b-216">Because you access tax values to include them in the generated report, you can reuse this information to calculate tax values.</span></span> <span data-ttu-id="3e80b-217">Další informace naleznete v tématu [Konfigurace formátu počítání a sčítání](./tasks/er-format-counting-summing-1.md).</span><span class="sxs-lookup"><span data-stu-id="3e80b-217">For more information, see [Configure format to do counting and summing](./tasks/er-format-counting-summing-1.md).</span></span>

1. <span data-ttu-id="3e80b-218">Na stránce **Návrhář formátu** na kartě **Formát** vyberte ve stromu formátu prvek souboru **Sestava**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-218">On the **Format designer** page, on the **Format** tab, select the **Report** file element in the format tree.</span></span>
2. <span data-ttu-id="3e80b-219">Nastavte možnost **Podrobnosti výstupu shromažďování** na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-219">Set the **Collect output details** option to **Yes**.</span></span> <span data-ttu-id="3e80b-220">Nyní můžete tento formát konfigurovat použitím obsahu vygenerované sestavy jako zdroje dat, ke kterému lze získat přístup pomocí vestavěných funkcí elektronického výkaznictví v kategorii [shromažďování dat](er-functions-category-data-collection.md).</span><span class="sxs-lookup"><span data-stu-id="3e80b-220">You can now configure this format by using the content of a generated report as a data source that can be accessed by using the built-in ER functions in the [Data collection](er-functions-category-data-collection.md) category.</span></span>
3. <span data-ttu-id="3e80b-221">Na kartě **Mapování** vyberte prvek XML **Report\\Message\\Record**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-221">On the **Mapping** tab, select the **Report\\Message\\Record** XML element.</span></span>
4. <span data-ttu-id="3e80b-222">Konfigurujte výraz **Název klíče shromážděných dat** jako `WsColumn`.</span><span class="sxs-lookup"><span data-stu-id="3e80b-222">Configure the **Collected data key name** expression as `WsColumn`.</span></span>
5. <span data-ttu-id="3e80b-223">Konfigurujte výraz **Hodnota klíče shromážděných dat** jako `WsRow`.</span><span class="sxs-lookup"><span data-stu-id="3e80b-223">Configure the **Collected data key value** expression as `WsRow`.</span></span>

    ![Prvek XML záznamu na stránce Návrhář formátu](./media/ER-DeferredXml-Format3.png)

6. <span data-ttu-id="3e80b-225">Vyberte atribut **Report\\Message\\Record\\TaxAmount**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-225">Select the **Report\\Message\\Record\\TaxAmount** attribute.</span></span>
7. <span data-ttu-id="3e80b-226">Konfigurujte výraz **Název klíče shromážděných dat** jako `SummingAmountKey`.</span><span class="sxs-lookup"><span data-stu-id="3e80b-226">Configure the **Collected data key name** expression as `SummingAmountKey`.</span></span>

    ![Atribut TaxAmount na stránce Návrhář formátu](./media/ER-DeferredXml-Format4.png)

    <span data-ttu-id="3e80b-228">Toto nastavení je možné vzít v úvahu při plnění virtuálního listu, kde je hodnota buňky A1 připojena k hodnotě částky daně z každé zpracované daňové transakce.</span><span class="sxs-lookup"><span data-stu-id="3e80b-228">You can consider this setting the fulfillment of a virtual worksheet, where the value of cell A1 is appended with the value of the tax amount from every processed tax transaction.</span></span>

8. <span data-ttu-id="3e80b-229">Vyberte atribut **Report\\Message\\Record\\RunningTotal** a poté zvolte **Upravit vzorec**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-229">Select the **Report\\Message\\Record\\RunningTotal** attribute, and then select **Edit formula**.</span></span>
9. <span data-ttu-id="3e80b-230">Nakonfigurujte výraz `SUMIF(SummingAmountKey, WsColumn, WsRow)` pomocí vestavěné funkce elektronického výkaznictví [SUMIF](er-functions-datacollection-sumif.md) a poté zvolte **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-230">Configure the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression by using the built-in [SUMIF](er-functions-datacollection-sumif.md) ER function, and then select **Save**.</span></span>

    ![Výraz SUMIF](./media/ER-DeferredXml-FormulaDesigner.png)

10. <span data-ttu-id="3e80b-232">Zavřete stránku **Návrhář vzorce**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-232">Close the **Formula designer** page.</span></span>
11. <span data-ttu-id="3e80b-233">Vyberte **Uložit** a potom **Spustit**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-233">Select **Save**, and then select **Run**.</span></span>
12. <span data-ttu-id="3e80b-234">Stáhněte a zkontrolujte soubor, který webový prohlížeč nabízí, a otevřete jej k revizi.</span><span class="sxs-lookup"><span data-stu-id="3e80b-234">Download and review the file that the web browser offers.</span></span>

    ![Stažený soubor](./media/ER-DeferredXml-Run1.png)

    <span data-ttu-id="3e80b-236">Poslední uzel záznamu obsahuje mezisoučet hodnot daně, který se vypočítává pro všechny zpracované transakce s použitím generovaného výstupu jako zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="3e80b-236">The last record node contains the running total of tax values that is calculated for all processed transactions by using the generated output as a data source.</span></span> <span data-ttu-id="3e80b-237">Tento zdroj dat začíná od začátku sestavy a pokračuje k poslední daňové transakci.</span><span class="sxs-lookup"><span data-stu-id="3e80b-237">This data source starts from the beginning of the report and continues through the last tax transaction.</span></span> <span data-ttu-id="3e80b-238">Uzel souhrnu obsahuje součet hodnot daně ze všech zpracovaných transakcí, které jsou vypočteny v mapování modelu pomocí zdroje dat typu *GroupBy*.</span><span class="sxs-lookup"><span data-stu-id="3e80b-238">The summary node contains the sum of the tax values for all processed transactions that are calculated in the model mapping by using the data source of the *GroupBy* type.</span></span> <span data-ttu-id="3e80b-239">Všimněte si, že tyto hodnoty jsou stejné.</span><span class="sxs-lookup"><span data-stu-id="3e80b-239">Notice that these values are equal.</span></span> <span data-ttu-id="3e80b-240">Z tohoto důvodu lze použít souhrn založený na výstupu namísto **GroupBy**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-240">Therefore, the output-based summing can be used instead of **GroupBy**.</span></span> <span data-ttu-id="3e80b-241">Porovnáním dob provádění prvního uzlu záznamu a uzlu souhrnu můžete určit, že generování všech uzlů záznamu a součtu trvalo 11 ms.</span><span class="sxs-lookup"><span data-stu-id="3e80b-241">By comparing the execution times of the first record node and the summary node, you can determine that generation of all the record nodes and summing took 11 ms.</span></span> <span data-ttu-id="3e80b-242">Proto, pokud jde o generování uzlů řádku a sčítání daňových hodnot, je upravený formát přibližně dvakrát rychlejší než původní formát.</span><span class="sxs-lookup"><span data-stu-id="3e80b-242">Therefore, as far as the generation of record nodes and the summing of tax values are concerned, the modified format is approximately two times faster than the original format.</span></span>

13. <span data-ttu-id="3e80b-243">Vyberte atribut **Report\\Message\\Summary\\TotalTaxAmount** a poté zvolte **Upravit vzorec**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-243">Select the **Report\\Message\\Summary\\TotalTaxAmount** attribute, and then select **Edit formula**.</span></span>
14. <span data-ttu-id="3e80b-244">Zadejte výraz `SUMIF(SummingAmountKey, WsColumn, WsRow)` namísto existujícího výrazu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-244">Enter the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression instead of the existing expression.</span></span>
15. <span data-ttu-id="3e80b-245">Vyberte **Uložit** a potom **Spustit**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-245">Select **Save**, and then select **Run**.</span></span>
16. <span data-ttu-id="3e80b-246">Stáhněte a zkontrolujte soubor, který webový prohlížeč nabízí, a otevřete jej k revizi.</span><span class="sxs-lookup"><span data-stu-id="3e80b-246">Download and review the file that the web browser offers.</span></span>

    ![Stažený soubor](./media/ER-DeferredXml-Run2.png)

    <span data-ttu-id="3e80b-248">Povšimněte si, že mezisoučet daňových hodnot v posledním uzlu záznamu se nyní rovná součtu v uzlu souhrnu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-248">Notice that the running total of tax values in the last record node now equals the sum in the summary node.</span></span>

### <a name="put-values-of-output-based-summing-in-the-report-header"></a><span data-ttu-id="3e80b-249">Vložení hodnot součtu založeného na výstupu v záhlaví sestavy</span><span class="sxs-lookup"><span data-stu-id="3e80b-249">Put values of output-based summing in the report header</span></span>

<span data-ttu-id="3e80b-250">Je-li například nutné v záhlaví sestavy zobrazit součet daňových hodnot, můžete formát upravit.</span><span class="sxs-lookup"><span data-stu-id="3e80b-250">If, for example, you must present the sum of tax values in the header of your report, you can modify your format.</span></span>

1. <span data-ttu-id="3e80b-251">Na stránce **Návrhář formátu** na kartě **Formát** vyberte prvek XML **Report\\Message\\Summary**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-251">On the **Format designer** page, on the **Format** tab, select the **Report\\Message\\Summary** XML element.</span></span>
2. <span data-ttu-id="3e80b-252">Vyberte **Přesunout nahoru**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-252">Select **Move up**.</span></span>
3. <span data-ttu-id="3e80b-253">Vyberte **Uložit** a potom **Spustit**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-253">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="3e80b-254">Stáhněte a zkontrolujte soubor, který webový prohlížeč nabízí, a otevřete jej k revizi.</span><span class="sxs-lookup"><span data-stu-id="3e80b-254">Download and review the file that the web browser offers.</span></span>

    ![Stažený soubor](./media/ER-DeferredXml-Run3.png)

    <span data-ttu-id="3e80b-256">Všimněte si, že součet hodnot daně v uzlu souhrnu se nyní rovná 0 (nula), protože tento součet je nyní vypočten na základě generovaného výstupu.</span><span class="sxs-lookup"><span data-stu-id="3e80b-256">Notice that the sum of tax values in the summary node now equals 0 (zero), because this sum is now calculated based on the generated output.</span></span> <span data-ttu-id="3e80b-257">Je-li generován první uzel záznamu, vygenerovaný výstup dosud neobsahuje uzly záznamu s podrobnostmi transakce.</span><span class="sxs-lookup"><span data-stu-id="3e80b-257">When the first record node is generated, the generated output doesn't yet contain record nodes that have transaction details.</span></span> <span data-ttu-id="3e80b-258">Tento formát lze nakonfigurovat tak, aby odložil provádění prvku **Report\\Message\\Summary**, dokud prvek **Report\\Message\\Record** nebyl spuštěn pro všechny daňové transakce.</span><span class="sxs-lookup"><span data-stu-id="3e80b-258">You can configure this format to defer the execution of the **Report\\Message\\Summary** element until the **Report\\Message\\Record** element has been run for all tax transactions.</span></span>

### <a name="defer-the-execution-of-the-summary-xml-element-so-that-the-calculated-total-is-used"></a><span data-ttu-id="3e80b-259">Odložení provedení prvku XML tak, aby byl použit vypočtený součet</span><span class="sxs-lookup"><span data-stu-id="3e80b-259">Defer the execution of the summary XML element so that the calculated total is used</span></span>

1. <span data-ttu-id="3e80b-260">Na stránce **Návrhář formátu** na kartě **Formát** vyberte prvek XML **Report\\Message\\Summary**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-260">On the **Format designer** page, on the **Format** tab, select the **Report\\Message\\Summary** XML element.</span></span>
2. <span data-ttu-id="3e80b-261">Nastavte možnost **Odložené provedení** na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-261">Set the **Deferred execution** option to **Yes**.</span></span>

    ![Možnost odloženého provedení prvku XML souhrnu na stránce Návrhář formátu](./media/ER-DeferredXml-Format5.png)

3. <span data-ttu-id="3e80b-263">Vyberte **Uložit** a potom **Spustit**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-263">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="3e80b-264">Stáhněte a zkontrolujte soubor, který webový prohlížeč nabízí, a otevřete jej k revizi.</span><span class="sxs-lookup"><span data-stu-id="3e80b-264">Download and review the file that the web browser offers.</span></span>

    ![Stažený soubor](./media/ER-DeferredXml-Run4.png)

    <span data-ttu-id="3e80b-266">Prvek **Report\\Message\\Summary** je nyní spuštěn pouze po spuštění všech ostatních položek, které jsou vnořeny pod svým nadřazeným prvkem **Report\\Message**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-266">The **Report\\Message\\Summary** element is now run only after all other items that are nested under its parent element, **Report\\Message**, have been run.</span></span> <span data-ttu-id="3e80b-267">Proto je spuštěn po spuštění prvku **Report\\Message\\Record** pro všechny daňové transakce datového zdroje **model.Data.List**.</span><span class="sxs-lookup"><span data-stu-id="3e80b-267">Therefore, it's run after the **Report\\Message\\Record** element has been run for all tax transactions of the **model.Data.List** data source.</span></span> <span data-ttu-id="3e80b-268">Doba provádění prvního a posledního uzlu záznamu a uzlů záhlaví a souhrnu, odhalí tuto skutečnost.</span><span class="sxs-lookup"><span data-stu-id="3e80b-268">The execution times of the first and last record nodes, and of the header and summary nodes, reveal this fact.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="3e80b-269">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="3e80b-269">Additional resources</span></span>

- [<span data-ttu-id="3e80b-270">Konfigurace formátu počítání a sčítání</span><span class="sxs-lookup"><span data-stu-id="3e80b-270">Configure format to do counting and summing</span></span>](./tasks/er-format-counting-summing-1.md)
- [<span data-ttu-id="3e80b-271">Sledování provádění formátu elektronického výkaznictví za účelem řešení potíží s výkonem</span><span class="sxs-lookup"><span data-stu-id="3e80b-271">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)
- [<span data-ttu-id="3e80b-272">Odložení provádění prvků posloupnosti ve formátech elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="3e80b-272">Defer the execution of sequence elements in ER formats</span></span>](er-defer-sequence-element.md#Example)
