---
title: Použití zdrojů dat JOIN v mapování modelu ER k získání dat z více aplikačních tabulek
description: Toto téma vysvětluje, jak je možné používat datové zdroje JOIN mezi více společnostmi v modulu Elektronické výkaznictví (ER).
author: NickSelin
ms.date: 04/26/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERModelMappingDesigner, EROperationDesigner
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-03-01
ms.dyn365.ops.version: Release 10.0.1
ms.openlocfilehash: be5646eaf395310c8b34586ef1274a41b5b97029
ms.sourcegitcommit: ab3f5d0da6eb0177bbad720e73c58926d686f168
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 04/26/2021
ms.locfileid: "5944696"
---
# <a name="use-join-data-sources-to-get-data-from-multiple-application-tables-in-electronic-reporting-er-model-mappings"></a><span data-ttu-id="a1320-103">Použití zdrojů dat JOIN v mapování modelu elektrického vykazování (ER) k získání dat z více aplikačních tabulek</span><span class="sxs-lookup"><span data-stu-id="a1320-103">Use JOIN data sources to get data from multiple application tables in Electronic reporting (ER) model mappings</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="a1320-104">Při konfiguraci mapování nebo formátů služby elektronického vykazování (ER) můžete [přidat](#review) požadované zdroje dat typu **Join**.</span><span class="sxs-lookup"><span data-stu-id="a1320-104">While configuring Electronic reporting (ER) model mappings or formats, you can [add](#review) required data sources of the **Join** type.</span></span> <span data-ttu-id="a1320-105">V době návrhu je zdroj dat **Join** konfigurován jako sada několika datových zdrojů, z nichž každá vrací seznam záznamů.</span><span class="sxs-lookup"><span data-stu-id="a1320-105">At design time, a **Join** data source is configured as a set of several data sources each of which returns a list of records.</span></span> <span data-ttu-id="a1320-106">U každého zdroje dat s výjimkou prvního je nutné definovat nezbytné podmínky pro spojení se záznamy o aktuálních a předchozích zdrojích dat.</span><span class="sxs-lookup"><span data-stu-id="a1320-106">For every data source except the first one, you need to define necessary conditions to join records of the current and previous data sources.</span></span> <span data-ttu-id="a1320-107">V době běhu konfigurovaný zdroj dat typu **Join** [vrátí](#executeERformat) jediný sloučený seznam záznamů, který obsahuje pole ze záznamů vnořených datových zdrojů.</span><span class="sxs-lookup"><span data-stu-id="a1320-107">At runtime, a configured data source of **Join** type [returns](#executeERformat) a single joined list of records containing fields from the records of nested data sources.</span></span>

<span data-ttu-id="a1320-108">V současné době jsou podporovány následující typy spojení:</span><span class="sxs-lookup"><span data-stu-id="a1320-108">The following types of joins are currently supported:</span></span>

- <span data-ttu-id="a1320-109">Vnější (levé) spojení:</span><span class="sxs-lookup"><span data-stu-id="a1320-109">Outer (left) join:</span></span>
    - <span data-ttu-id="a1320-110">Spojte všechny záznamy prvního (nejvíce vlevo) zdroje dat a pak všechny požadavky v souladu s konfigurovanými záznamy druhého (nejvíce vpravo) zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="a1320-110">Join all records of the first (left-most) data source and then any matching in accordance to configured conditions records of the second (right-most) data source.</span></span>
- <span data-ttu-id="a1320-111">Vnitřní (pravé) spojení:</span><span class="sxs-lookup"><span data-stu-id="a1320-111">Inner (right) join:</span></span>
    - <span data-ttu-id="a1320-112">Spojte pouze záznamy prvního (nejvíce vlevo) zdroje dat a pak pouze záznamy druhého (pravého) zdroje dat vzájemně si odpovídající podle konfigurovaných podmínek.</span><span class="sxs-lookup"><span data-stu-id="a1320-112">Join only records of the first (left-most) data source and only records of the second (right-most) data source matching to each other in accordance to configured conditions.</span></span>

<span data-ttu-id="a1320-113">V konfigurovaném zdroji dat **připojení**, když jsou všechny zdroje dat typu **Záznamy tabulky**, lze spuštění zdroje dat Připojení [provést na úrovni databáze](#analyze) pomocí jediného příkazu SQL.</span><span class="sxs-lookup"><span data-stu-id="a1320-113">In the configured **Join** data source, when all data sources are the **Table records** type, execution of the Join data source can be [performed at the database level](#analyze) using a single SQL statement.</span></span> <span data-ttu-id="a1320-114">Tento příkaz snižuje počet volání databáze, což zlepšuje výkon mapování modelu.</span><span class="sxs-lookup"><span data-stu-id="a1320-114">This statement reduces the number of database calls, which improves model-mapping performance.</span></span> <span data-ttu-id="a1320-115">V opačném případě se spuštění zdroje **propojení dat** provádí v paměti.</span><span class="sxs-lookup"><span data-stu-id="a1320-115">Otherwise, execution of **Join data** source is performed in memory.</span></span>

> [!NOTE]
> <span data-ttu-id="a1320-116">Použití funkce **VALUEIN** ve výrazech ER, které určují podmínky pro spojení záznamů ve zdrojích dat typu spojení ještě není podporováno.</span><span class="sxs-lookup"><span data-stu-id="a1320-116">Using the **VALUEIN** function in ER expressions that specify conditions for joining records in data sources of Join type is not supported yet.</span></span> <span data-ttu-id="a1320-117">Pro více podrobností o této funkci navštivte stránku [Návrhář receptury v elektronickém výkaznictví](general-electronic-reporting-formula-designer.md).</span><span class="sxs-lookup"><span data-stu-id="a1320-117">Visit the [Formula designer in Electronic reporting](general-electronic-reporting-formula-designer.md) page for more details about this function.</span></span>

<span data-ttu-id="a1320-118">Chcete-li získat další informace o této funkci, vyplňte příklad tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="a1320-118">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="example-use-join-data-sources-in-er-model-mappings"></a><span data-ttu-id="a1320-119">Příklad: použití zdrojů dat JOIN v mapování modelu ER</span><span class="sxs-lookup"><span data-stu-id="a1320-119">Example: Use JOIN data sources in ER model mappings</span></span>

<span data-ttu-id="a1320-120">Následující postup vysvětluje, jak může správce systému nebo vývojář elektronického vykazování konfigurovat mapování modelu elektronického vykazování (ER) tak, aby získal data z více aplikačních tabulek najednou pomocí datových zdrojů typu **JOIN** k vylepšení výkonu přístupu k datům.</span><span class="sxs-lookup"><span data-stu-id="a1320-120">The following steps explain how the System administrator or Electronic reporting developer can configure an Electronic reporting (ER) model mapping to get data from multiple application tables at once by using data sources of the **Join** type to improve data access performance.</span></span> <span data-ttu-id="a1320-121">Tyto kroky lze provádět pro jakoukoliv společnost Dynamics 365 Finance nebo službu Regulatory Configuration Services (RCS).</span><span class="sxs-lookup"><span data-stu-id="a1320-121">These steps can be performed for any company of Dynamics 365 Finance or Regulatory Configuration Services (RCS).</span></span>

### <a name="prerequisites"></a><span data-ttu-id="a1320-122">Předpoklady</span><span class="sxs-lookup"><span data-stu-id="a1320-122">Prerequisites</span></span>

<span data-ttu-id="a1320-123">Chcete-li provést příklady uvedené v tomto tématu, musíte mít přístup k jednomu z následujících postupů v závislosti na tom, která služba je používána pro dokončení těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="a1320-123">To complete the examples in this topic, you must have access to one of the following depending on what service is used to compete these steps:</span></span>

<span data-ttu-id="a1320-124">**Přístup k Finance pro některou z následujících rolí:**</span><span class="sxs-lookup"><span data-stu-id="a1320-124">**Access to Finance for one of the following roles:**</span></span>

- <span data-ttu-id="a1320-125">Návrhář elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="a1320-125">Electronic reporting developer</span></span>
- <span data-ttu-id="a1320-126">Funkční konzultant elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="a1320-126">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="a1320-127">Správce systému</span><span class="sxs-lookup"><span data-stu-id="a1320-127">System administrator</span></span>

<span data-ttu-id="a1320-128">**Přístup k RCS pro některou z následujících rolí:**</span><span class="sxs-lookup"><span data-stu-id="a1320-128">**Access to RCS for one of the following roles:**</span></span>

- <span data-ttu-id="a1320-129">Návrhář elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="a1320-129">Electronic reporting developer</span></span>
- <span data-ttu-id="a1320-130">Funkční konzultant elektronického výkaznictví</span><span class="sxs-lookup"><span data-stu-id="a1320-130">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="a1320-131">Správce systému</span><span class="sxs-lookup"><span data-stu-id="a1320-131">System administrator</span></span>

<span data-ttu-id="a1320-132">K provedení těchto kroků musíte také nejprve dokončit jednotlivé kroky v proceduře [Vytvoření poskytovatele konfigurace a jeho označení jako aktivního](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="a1320-132">You also must first complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

<span data-ttu-id="a1320-133">Předem musíte také stáhnout a uložit následující ukázkové konfigurační soubory ER:</span><span class="sxs-lookup"><span data-stu-id="a1320-133">In advance, you must also download and save the following sample ER configuration files:</span></span>

| <span data-ttu-id="a1320-134">**Popis obsahu**</span><span class="sxs-lookup"><span data-stu-id="a1320-134">**Content description**</span></span>  | <span data-ttu-id="a1320-135">**Název souboru**</span><span class="sxs-lookup"><span data-stu-id="a1320-135">**File name**</span></span>   |
|--------------------------|-----------------|
| <span data-ttu-id="a1320-136">Ukázkový konfigurační soubor **datového modelu ER**, který se používá jako zdroj dat pro příklady.</span><span class="sxs-lookup"><span data-stu-id="a1320-136">Sample **ER data model** configuration file, which is used as the data source for the examples.</span></span>| [<span data-ttu-id="a1320-137">Model k učení se JOIN data sources.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="a1320-137">Model to learn JOIN data sources.version.1.1.xml</span></span>](https://download.microsoft.com/download/5/c/1/5c1d8a57-6ebd-425b-bc5d-c71dde92c6af/ModeltolearnJOINdatasources.version.1.xml) |
| <span data-ttu-id="a1320-138">Ukázkový konfigurační soubor **mapování modelu ER**, který implementuje model dat ER pro příklady.</span><span class="sxs-lookup"><span data-stu-id="a1320-138">Sample **ER model mapping** configuration file, which implements the ER data model for the examples.</span></span> | [<span data-ttu-id="a1320-139">Mapování k učení se JOIN data sources.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="a1320-139">Mapping to learn JOIN data sources.version.1.1.xml</span></span>](https://user-images.githubusercontent.com/19827601/115923048-86b10400-a432-11eb-9e57-c37a02effcb4.png)|
| <span data-ttu-id="a1320-140">Ukázkový konfigurační soubor **formátu ER**.</span><span class="sxs-lookup"><span data-stu-id="a1320-140">Sample **ER format** configuration file.</span></span> <span data-ttu-id="a1320-141">V tomto souboru jsou popsána data pro naplnění součásti formátu ER pro příklady.</span><span class="sxs-lookup"><span data-stu-id="a1320-141">This file describes the data to populate the ER format component for the examples.</span></span> | [<span data-ttu-id="a1320-142">Formát k učení se JOIN data sources.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="a1320-142">Format to learn JOIN data sources.version.1.1.xml</span></span>](https://download.microsoft.com/download/f/f/8/ff8f1b48-14d0-4c73-9145-bcdf8b5265bc/FormattolearnJOINdatasources.version.1.1.xml) |

### <a name="activate-a-configurations-provider"></a><span data-ttu-id="a1320-143">Aktivace zprostředkovatele konfigurací</span><span class="sxs-lookup"><span data-stu-id="a1320-143">Activate a configurations provider</span></span>

1. <span data-ttu-id="a1320-144">Přístup k financím nebo RCS v první relaci vašeho webového prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="a1320-144">Access either Finance or RCS in the first session of your web browser.</span></span>
2. <span data-ttu-id="a1320-145">Přejděte do části **Správa organizace \> Pracovní prostory \> Elektronické výkaznictví**.</span><span class="sxs-lookup"><span data-stu-id="a1320-145">Go to **Organization administration \> Workspaces \> Electronic reporting**.</span></span>
3. <span data-ttu-id="a1320-146">Na stránce **Konfigurace lokalizace** v části **Poskytovatelé konfigurace** ověřte, že je uveden poskytovatel konfigurace ukázkové společnosti [Litware, Inc.](http://www.litware.com) a že je označen jako **Aktivní**.</span><span class="sxs-lookup"><span data-stu-id="a1320-146">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the configuration provider for the [Litware, Inc.](http://www.litware.com) sample company is listed, and that it's marked as **Active**.</span></span> <span data-ttu-id="a1320-147">Pokud tohoto zprostředkovatele konfigurace nevidíte, proveďte kroky v proceduře [Vytvoření poskytovatele konfigurace a jeho označení jako aktivního](tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="a1320-147">If you don't see this configuration provider, follow the steps in [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) procedure.</span></span>

    ![Pracovní prostor elektronického vykazování](./media/GER-JoinDS-ActiveProvider.PNG)

### <a name="import-sample-er-configuration-files"></a><span data-ttu-id="a1320-149">Import ukázkových konfiguračních souborů ER</span><span class="sxs-lookup"><span data-stu-id="a1320-149">Import sample ER configuration files</span></span>

1. <span data-ttu-id="a1320-150">Vyberte **Konfigurace vykazování**.</span><span class="sxs-lookup"><span data-stu-id="a1320-150">Select **Reporting configurations**.</span></span>
2. <span data-ttu-id="a1320-151">Importujte konfigurační soubor datového modelu ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-151">Import the ER data model configuration file.</span></span>
    1. <span data-ttu-id="a1320-152">Vyberte **Exchange**.</span><span class="sxs-lookup"><span data-stu-id="a1320-152">Select **Exchange**.</span></span>
    2. <span data-ttu-id="a1320-153">Vyberte **Načíst ze souboru XML**.</span><span class="sxs-lookup"><span data-stu-id="a1320-153">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="a1320-154">Vyberte **Procházet** a najděte soubor **Model to learn JOIN data sources.version.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="a1320-154">Select **Browse** to find the **Model to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="a1320-155">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="a1320-155">Select **OK**.</span></span>
3. <span data-ttu-id="a1320-156">Importujte konfigurační soubor mapování modelu ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-156">Import the ER model-mapping configuration file.</span></span>
    1. <span data-ttu-id="a1320-157">Vyberte **Exchange**.</span><span class="sxs-lookup"><span data-stu-id="a1320-157">Select **Exchange**.</span></span>
    2. <span data-ttu-id="a1320-158">Vyberte **Načíst ze souboru XML**.</span><span class="sxs-lookup"><span data-stu-id="a1320-158">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="a1320-159">Vyberte **Procházet** a najděte soubor **Mapping to learn JOIN data sources.version.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="a1320-159">Select **Browse** to find the **Mapping to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="a1320-160">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="a1320-160">Select **OK**.</span></span>
4. <span data-ttu-id="a1320-161">Importujte soubor konfigurace formátu ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-161">Import the ER format configuration file.</span></span>
    1. <span data-ttu-id="a1320-162">Vyberte **Exchange**.</span><span class="sxs-lookup"><span data-stu-id="a1320-162">Select **Exchange**.</span></span>
    2. <span data-ttu-id="a1320-163">Vyberte **Načíst ze souboru XML**.</span><span class="sxs-lookup"><span data-stu-id="a1320-163">Select **Load from XML file**.</span></span>
    3. <span data-ttu-id="a1320-164">Vyberte **Procházet** a najděte soubor **Format to learn JOIN data sources.version.1.1.xml**.</span><span class="sxs-lookup"><span data-stu-id="a1320-164">Select **Browse** to find the **Format to learn JOIN data sources.version.1.1.xml** file.</span></span>
    4. <span data-ttu-id="a1320-165">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="a1320-165">Select **OK**.</span></span>
5. <span data-ttu-id="a1320-166">Ve stromu konfigurací rozbalte položku **Model k učení zdrojů dat JOIN** item další položky modelu (když jsou k dispozici).</span><span class="sxs-lookup"><span data-stu-id="a1320-166">In the configurations tree, expand the **Model to learn JOIN data sources** item as well as other model items (when available).</span></span>
6. <span data-ttu-id="a1320-167">Sledujte seznam konfigurací ER ve stromové struktuře a podrobnosti o verzi na pevné záložce **Verze** – budou použity jako zdroj dat pro ukázkovou sestavu.</span><span class="sxs-lookup"><span data-stu-id="a1320-167">Observe the list of ER configurations in the tree as well as version details on the **Versions** FastTab – they will be used as the source of data for your sample report.</span></span>

    ![Stránka Konfigurace elektronického výkaznictví](./media/GER-JoinDS-ConfigurationsTree.PNG)

### <a name="turn-on-execution-trace-options"></a><span data-ttu-id="a1320-169">Zapnutí možností sledování spuštění</span><span class="sxs-lookup"><span data-stu-id="a1320-169">Turn on execution trace options</span></span>

1. <span data-ttu-id="a1320-170">Vyberte **KONFIGURACE**.</span><span class="sxs-lookup"><span data-stu-id="a1320-170">Select **CONFIGURATIONS**.</span></span>
2. <span data-ttu-id="a1320-171">Vyberte **Uživatelské parametry**.</span><span class="sxs-lookup"><span data-stu-id="a1320-171">Select **User parameters**.</span></span>
3. <span data-ttu-id="a1320-172">Nastavte parametry sledování spuštění, jak je uvedeno na snímku obrazovky dole.</span><span class="sxs-lookup"><span data-stu-id="a1320-172">Set execution trace parameters as shown on the screenshot below.</span></span>

    ![Stránka parametrů uživatele elektronického výkaznictví](./media/GER-JoinDS-Parameters.PNG)

    <span data-ttu-id="a1320-174">Jsou-li tyto parametry zapnuty, bude pro každou realizaci importovaného souboru ER vygenerováno sledování spouštění.</span><span class="sxs-lookup"><span data-stu-id="a1320-174">With these parameters turned on, for every execution of the imported ER format file, the execution trace will be generated.</span></span> <span data-ttu-id="a1320-175">Pomocí podrobností o generovaném trasování provedení můžete analyzovat provádění komponent formátu ER a mapování modelu ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-175">Using details of generated execution trace, you can analyze the execution of ER format and ER model-mapping components.</span></span> <span data-ttu-id="a1320-176">Další informace o funkci sledování spouštění nástroje ER naleznete na stránce [Sledování provedení formátu ER k řešení problémů s výkonem](trace-execution-er-troubleshoot-perf.md).</span><span class="sxs-lookup"><span data-stu-id="a1320-176">Visit the [Trace execution of ER format to troubleshoot performance issues](trace-execution-er-troubleshoot-perf.md) page for more details about ER execution trace feature.</span></span>

### <a name="review-er-model-mapping-part-1"></a><span data-ttu-id="a1320-177">Kontrola mapování modelu ER (část 1)</span><span class="sxs-lookup"><span data-stu-id="a1320-177">Review ER model mapping (part 1)</span></span>

<span data-ttu-id="a1320-178">Zkontrolujte nastavení komponenty mapování modelu ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-178">Review settings of the ER model-mapping component.</span></span> <span data-ttu-id="a1320-179">Komponenta je nakonfigurována pro přístup k informacím o verzích konfigurací ER, podrobnostech konfigurace a poskytovatelů konfigurace bez použití datových zdrojů typu **Join**.</span><span class="sxs-lookup"><span data-stu-id="a1320-179">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers without using data sources of the **Join** type.</span></span>

1. <span data-ttu-id="a1320-180">Vyberte konfiguraci **Mapování k učení se zdrojů dat JOIN**.</span><span class="sxs-lookup"><span data-stu-id="a1320-180">Select **Mapping to learn JOIN data sources** configuration.</span></span>
2. <span data-ttu-id="a1320-181">Výběrem možnosti **Návrhář** otevřete seznam mapování.</span><span class="sxs-lookup"><span data-stu-id="a1320-181">Select **Designer** to open the list of mappings.</span></span>
3. <span data-ttu-id="a1320-182">Chcete-li zkontrolovat podrobnosti mapování, vyberte možnost **Návrhář**.</span><span class="sxs-lookup"><span data-stu-id="a1320-182">Select **Designer** to review the mapping details.</span></span>
4. <span data-ttu-id="a1320-183">Vyberte **Zobrazit podrobnosti**.</span><span class="sxs-lookup"><span data-stu-id="a1320-183">Select **Show details**.</span></span>
5. <span data-ttu-id="a1320-184">Ve stromu konfigurací rozbalte položky datového modelu **Set1** a **Set1. Details**:</span><span class="sxs-lookup"><span data-stu-id="a1320-184">In the configurations tree, expand the **Set1** and **Set1.Details** data model items:</span></span>

    1. <span data-ttu-id="a1320-185">Vázba **Details: Record list = Versions** označuje, že položka **Set1.Details** je vázaná na zdroj dat **Versions** vracející záznamy tabulky **ERSolutionVersionTable**.</span><span class="sxs-lookup"><span data-stu-id="a1320-185">Binding **Details: Record list = Versions** indicates that the **Set1.Details** item is bound to the **Versions** data source returning records of the **ERSolutionVersionTable** table.</span></span> <span data-ttu-id="a1320-186">Každý záznam této tabulky představuje jedinou verzi konfigurace ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-186">Each record of this table represents a single version of an ER configuration.</span></span> <span data-ttu-id="a1320-187">Obsah této tabulky je zobrazen na pevné záložce **Verze** na stránce **Konfigurace**.</span><span class="sxs-lookup"><span data-stu-id="a1320-187">The content of this table is presented in the **Versions** FastTab on the **Configurations** page.</span></span>
    2. <span data-ttu-id="a1320-188">Vazba **ConfigurationVersion: String = @.PublicVersionNumber**  znamená, že hodnota veřejné verze jednotlivých konfigurací ER je provedena z pole **PublicVersionNumber** tabulky **ERSolutionVersionTable** a umístěna do položky **ConfigurationVersion**.</span><span class="sxs-lookup"><span data-stu-id="a1320-188">Binding **ConfigurationVersion: String = @.PublicVersionNumber** means that the value of the public version of each ER configuration’s version is taken from the **PublicVersionNumber** field of the **ERSolutionVersionTable** table and placed to the **ConfigurationVersion** item.</span></span>
    3. <span data-ttu-id="a1320-189">Vazba **ConfigurationTitle: String = @.'>Relations'.Solution.Name** označuje, že se název konfigurace ER vybírá z pole **Název** tabulky **ERSolutionTable**, do které se přistupuje pomocí vztahu N:1 (**'>Relations'**) mezi tabulkami **ERSolutionVersionTable** a **ERSolutionTable**.</span><span class="sxs-lookup"><span data-stu-id="a1320-189">Binding **ConfigurationTitle: String = @.'>Relations'.Solution.Name** indicates that the name of an ER configuration is taken from the **Name** field of the **ERSolutionTable** table assessing by using the many-to-one relation (**'>Relations'**) between the **ERSolutionVersionTable** and **ERSolutionTable** tables.</span></span> <span data-ttu-id="a1320-190">Názvy konfigurací ER pro aktuální instanci aplikace jsou uvedeny ve stromu konfigurací na stránce **Konfigurace**.</span><span class="sxs-lookup"><span data-stu-id="a1320-190">Names of ER configurations of the current application instance are presented in the configurations tree on the **Configurations** page.</span></span>
    4. <span data-ttu-id="a1320-191">Vazba **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** znamená, že se název poskytovatele konfigurace, který vlastní současnou konfiguraci, odvozuje z pole **Název** tabulky **ERVendorTable**, ke které lze získat přístup pomocí vztahu n:1 mezi tabulkami **ERSolutionTable** a **ERVendorTable**.</span><span class="sxs-lookup"><span data-stu-id="a1320-191">Binding **@.'>Relations'.Solution.'>Relations'.SolutionVendor.Name** means that the name of the configuration provider that owns the current configuration is taken from the **Name** field of the **ERVendorTable** table assessing by using the many-to-one relation between **ERSolutionTable** and **ERVendorTable** tables.</span></span> <span data-ttu-id="a1320-192">Názvy poskytovatelů konfigurací ER pro každou konfiguraci jsou uvedeny ve stromu konfigurací na stránce **Konfigurace**.</span><span class="sxs-lookup"><span data-stu-id="a1320-192">Names of ER configuration providers are presented in the configurations tree on the **Configurations** page on the page header for each configuration.</span></span> <span data-ttu-id="a1320-193">Úplný seznam poskytovatelů konfigurace ER lze nalézt na stránce tabulky **Správa organzace \> Elekronické výkaznictví \> Poskytovatel konfigurace**.</span><span class="sxs-lookup"><span data-stu-id="a1320-193">The entire list of ER configuration providers can be found on the **Organization administration \> Electronic reporting \> Configuration provider** table page.</span></span>

    ![Stránka návrháře mapování modelů ER, seznam omezených položek datového modelu](./media/GER-JoinDS-Set1Review.PNG)

6. <span data-ttu-id="a1320-195">Ve stromu konfigurací rozbalte položky datového modelu **Set1.Summary**:</span><span class="sxs-lookup"><span data-stu-id="a1320-195">In the configurations tree, expand the **Set1.Summary** data model item:</span></span>

    1. <span data-ttu-id="a1320-196">Vazba **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** označuje, že položka **Set1.Summary.VersionsNumber** je vázaná na souhrnné pole **VersionsNumber** zdroje dat **VersionsSummary** typu **GroupBy**, který byl konfigurován na vracení počtu záznamů tabulky **ERSolutionVersionTable** prostřednictvím zdroje dat **Versions**.</span><span class="sxs-lookup"><span data-stu-id="a1320-196">Binding **VersionsNumber: Integer = VersionsSummary.aggregated.VersionsNumber** indicates that the **Set1.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **VersionsSummary** data source of the **GroupBy** type that was configured to return the number of records of the **ERSolutionVersionTable** table via the **Versions** data source.</span></span>

    ![Upravte stránku s parametry „Seskupit podle“](./media/GER-JoinDS-Set1GroupByReview.PNG)

7. <span data-ttu-id="a1320-198">Zavřete stránku.</span><span class="sxs-lookup"><span data-stu-id="a1320-198">Close the page.</span></span>

### <a name="review-er-model-mapping-part-2"></a><a name="review"></a> <span data-ttu-id="a1320-199">Kontrola mapování modelu ER (část 2)</span><span class="sxs-lookup"><span data-stu-id="a1320-199">Review ER model mapping (part 2)</span></span>

<span data-ttu-id="a1320-200">Zkontrolujte nastavení komponenty mapování modelu ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-200">Review settings of the ER model-mapping component.</span></span> <span data-ttu-id="a1320-201">Komponenta je nakonfigurována pro přístup k informacím o verzích konfigurací ER, podrobnostech konfigurace a poskytovatelů konfigurace s použitím datových zdrojů typu **Join**.</span><span class="sxs-lookup"><span data-stu-id="a1320-201">The component is configured to access information about versions of ER configurations, details of configurations and configuration providers with using a data source of the **Join** type.</span></span>

1. <span data-ttu-id="a1320-202">Ve stromu konfigurací rozbalte položky datového modelu **Set2** a **Set2. Details**.</span><span class="sxs-lookup"><span data-stu-id="a1320-202">In the configurations tree, expand the **Set2** and **Set2.Details** data model items.</span></span> <span data-ttu-id="a1320-203">Vazba **Details: Record list = Details** naznačuje, že je položka **Set2.Details** vázaná na zdroj dat **Details** konfigurovaný jako zdroj dat typu **Join**.</span><span class="sxs-lookup"><span data-stu-id="a1320-203">The binding **Details: Record list = Details** indicates that the **Set2.Details** item is bound to the **Details** data source configured as the data source of the **Join** type.</span></span>

    ![Stránka návrháře mapování modelu ER zobrazující rozbalenou Set2: Záznam položek datového modelu](./media/GER-JoinDS-Set2Review.PNG)

    <span data-ttu-id="a1320-205">Zdroj dat **Join** lze přidat výběrem zdroje dat **Functions\Join**:</span><span class="sxs-lookup"><span data-stu-id="a1320-205">The **Join** data source can be added by selecting the **Functions\Join** data source:</span></span>

    ![Stránka návrháře mapování modelů ER, spojit typ datového zdroje](./media/GER-JoinDS-AddJoinDS.PNG)

2. <span data-ttu-id="a1320-207">Vyberte zdroj dat **Detail** s.</span><span class="sxs-lookup"><span data-stu-id="a1320-207">Select **Detail** s data source.</span></span>
3. <span data-ttu-id="a1320-208">V podokně **Zdroje dat** vyberte **Upravit**.</span><span class="sxs-lookup"><span data-stu-id="a1320-208">Select **Edit** in the **Data sources** pane.</span></span>
4. <span data-ttu-id="a1320-209">Vyberte možnost **Upravit spojení**.</span><span class="sxs-lookup"><span data-stu-id="a1320-209">Select **Edit join**.</span></span>
5. <span data-ttu-id="a1320-210">Vyberte **Zobrazit podrobnosti**.</span><span class="sxs-lookup"><span data-stu-id="a1320-210">Select **Show details**.</span></span>

    ![Stránka parametrů zdroje dat JOIN](./media/GER-JoinDS-JoinDSEditor.PNG)

    <span data-ttu-id="a1320-212">Tato stránka slouží k navrhování požadovaného zdroje dat **typu Join**.</span><span class="sxs-lookup"><span data-stu-id="a1320-212">This page is used to design the required data source of the **Join type**.</span></span> <span data-ttu-id="a1320-213">Při spuštění tento zdroj dat vytvoří jediný sloučený seznam záznamů ze zdrojů dat v mřížce **Připojený seznam**.</span><span class="sxs-lookup"><span data-stu-id="a1320-213">At runtime, this data source will create a single joined list of records from the data sources in the **Joined list** grid.</span></span> <span data-ttu-id="a1320-214">Spojování záznamů začíná u zdroje dat **ConfigurationProviders**, který je v mřížce jako první (sloupec **Typ** je pro ně prázdný).</span><span class="sxs-lookup"><span data-stu-id="a1320-214">Join of records will start from the **ConfigurationProviders** data source that is in the grid as a first one (the **Type** column is blank for it).</span></span> <span data-ttu-id="a1320-215">Záznamy o každém dalším zdroji dat budou následně připojeny k záznamům nadřazeného zdroje dat na základě jeho pořadí v této mřížce.</span><span class="sxs-lookup"><span data-stu-id="a1320-215">Records of every other data source will be joined consequently to records of the parent data source based on its order in this grid.</span></span> <span data-ttu-id="a1320-216">Každý připojující se zdroj dat musí být nakonfigurován jako zdroj dat vnořený pod cílovým zdrojem dat (zdroj dat `1Versions` je vnořený pod zdrojem dat `1Configurations`; zdroj dat `1Configurations` je vnořený pod zdrojem **ConfigurationProviders**).</span><span class="sxs-lookup"><span data-stu-id="a1320-216">Every joining data source must be configured as a data source nested under a target data source (`1Versions` data source is nested under `1Configurations` one; `1Configurations` data source is nested under **ConfigurationProviders** one).</span></span> <span data-ttu-id="a1320-217">Každý nakonfigurovaný zdroj dat musí obsahovat podmínky pro spojení.</span><span class="sxs-lookup"><span data-stu-id="a1320-217">Each configured data source must contain the conditions for the join.</span></span> <span data-ttu-id="a1320-218">Ve zdroji dat pro toto konkrétní **spojení** jsou definována následující spojení:</span><span class="sxs-lookup"><span data-stu-id="a1320-218">In the data source for this particular **Join**, the following joins are defined:</span></span>

    - <span data-ttu-id="a1320-219">Každý záznam ve zdroji dat **ConfigurationProviders** (odkazovaný na tabulku **ERVendorTable**) je propojen pouze se záznamy **1Configurations** (odkazovanými v tabulce **ERSolutionTable**) se stejnou hodnotou v polích **SolutionVendor** a **RecId**.</span><span class="sxs-lookup"><span data-stu-id="a1320-219">Each record of the **ConfigurationProviders** data source (referred to the **ERVendorTable** table) is joined with only records of the **1Configurations** one (referred to in the **ERSolutionTable** table) having the same value in the **SolutionVendor** and **RecId** fields.</span></span> <span data-ttu-id="a1320-220">Typ **Vnitřní spojení** se používá pro toto spojení i pro následující podmínky párování záznamů:</span><span class="sxs-lookup"><span data-stu-id="a1320-220">The **Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="a1320-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span><span class="sxs-lookup"><span data-stu-id="a1320-221">FILTER (Configurations, Configurations.SolutionVendor = ConfigurationProviders.RecId)</span></span>

    - <span data-ttu-id="a1320-222">Každý záznam ve zdroji dat **Configurations** (odkazovaný na tabulku **ERSolutionTable**) je propojen pouze se záznamy **1Versions** (odkazovanými v tabulce **ERSolutionVersionTable**) se stejnou hodnotou v polích **Solution** a **RecId**.</span><span class="sxs-lookup"><span data-stu-id="a1320-222">Each record of the **1Configurations** data source (referred to the **ERSolutionTable** table) is joined with the only records of the **1Versions** one (referred to the **ERSolutionVersionTable** table) having the same value in the **Solution** and **RecId** fields.</span></span> <span data-ttu-id="a1320-223">Typ **Vnitřní spojení** se používá pro toto spojení i pro následující podmínky párování záznamů:</span><span class="sxs-lookup"><span data-stu-id="a1320-223">**Inner join** type is used for this join as well as the following conditions for matching records:</span></span>

    <span data-ttu-id="a1320-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span><span class="sxs-lookup"><span data-stu-id="a1320-224">FILTER (ConfigurationVersions, ConfigurationVersions.Solution = ConfigurationProviders.'1Configurations'.RecId)</span></span>

    - <span data-ttu-id="a1320-225">Možnost **Spustit** je konfigurována jako **dotaz** v tom smyslu, že tento spojený zdroj dat bude proveden v době běhu na úrovni databáze jako přímé volání SQL.</span><span class="sxs-lookup"><span data-stu-id="a1320-225">**Execute** option is configured as **Query** meaning that this join data source will be executed at runtime on database level as a direct SQL call.</span></span>

    <span data-ttu-id="a1320-226">Při spojování záznamů zdrojů dat představujících aplikační tabulky můžete určit podmínky spojení použitím párů jiných polí, než jsou ty, které popisují existující v relacích AOT mezi těmito tabulkami.</span><span class="sxs-lookup"><span data-stu-id="a1320-226">For joining records of data sources representing application tables, you can specify join conditions by using pairs of fields other than ones that describe existing in AOT relations between these tables.</span></span> <span data-ttu-id="a1320-227">Tento typ spojení lze nakonfigurovat také na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="a1320-227">This type of join can be configured to execute at the database level as well.</span></span>

6. <span data-ttu-id="a1320-228">Zavřete stránku.</span><span class="sxs-lookup"><span data-stu-id="a1320-228">Close the page.</span></span>
7. <span data-ttu-id="a1320-229">Vyberte možnost **Zrušit**.</span><span class="sxs-lookup"><span data-stu-id="a1320-229">Select **Cancel**.</span></span>
8. <span data-ttu-id="a1320-230">Ve stromu konfigurací rozbalte položky datového modelu **Set2.Summary**:</span><span class="sxs-lookup"><span data-stu-id="a1320-230">In the configurations tree, expand the **Set2.Summary** data model item:</span></span>

    - <span data-ttu-id="a1320-231">Vazba **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** označuje, že položka **Set2.Summary.VersionsNumber** je vázaná na souhrnné pole **VersionsNumber** zdroje dat **DetailsSummary** typu **GroupBy**, který byl konfigurován na vracení počtu spojených záznamů zdroje dat **Details** typu **Join**.</span><span class="sxs-lookup"><span data-stu-id="a1320-231">Binding **VersionsNumber: Integer = DetailsSummary.aggregated.VersionsNumber** indicates that the **Set2.Summary.VersionsNumber** item is bound to the **VersionsNumber** aggregation field of the **DetailsSummary** data source of the **GroupBy** type that was configured to return the number of joined records of the **Details** data source of the **Join** type.</span></span>
    - <span data-ttu-id="a1320-232">Možnost umístění **Spustit** je konfigurována jako **dotaz** v tom smyslu, že tento zdroj dat  **GroupBy** bude proveden v době běhu na úrovni databáze jako přímé volání SQL.</span><span class="sxs-lookup"><span data-stu-id="a1320-232">The **Execution** location option is configured as **Query** meaning that this **GroupBy** data source will be run at runtime as a direct SQL call at the database level.</span></span> <span data-ttu-id="a1320-233">Toto chování je možné, protože základní zdroj dat **Details** typu **Join** je konfigurován jako spuštěný na úrovni databáze.</span><span class="sxs-lookup"><span data-stu-id="a1320-233">This behavior is possible because the base data source **Details** of the **Join** type is configured as executed at the database level.</span></span>

    ![Stránka parametrů zdroje dat GROUPBY](./media/GER-JoinDS-Set2GroupByReview.PNG)

9. <span data-ttu-id="a1320-235">Zavřete stránku.</span><span class="sxs-lookup"><span data-stu-id="a1320-235">Close the page.</span></span>
10. <span data-ttu-id="a1320-236">Vyberte možnost **Zrušit**.</span><span class="sxs-lookup"><span data-stu-id="a1320-236">Select **Cancel**.</span></span>

### <a name="execute-er-format"></a><a name="executeERformat"></a> <span data-ttu-id="a1320-237">Provést formát ER</span><span class="sxs-lookup"><span data-stu-id="a1320-237">Execute ER format</span></span>

1. <span data-ttu-id="a1320-238">Ve druhé relaci webového prohlížeče se přistupuje k financím nebo RCS pomocí stejných přihlašovacích údajů a společnosti jako při první relaci.</span><span class="sxs-lookup"><span data-stu-id="a1320-238">Access Finance or RCS in the second session of your web browser using same credentials and company as in the first session.</span></span>
2. <span data-ttu-id="a1320-239">Přejděte do části **Správa organizace \> Elektronické výkaznictví \> Konfigurace**.</span><span class="sxs-lookup"><span data-stu-id="a1320-239">Go to **Organization administration \> Electronic reporting \> Configurations**.</span></span>
3. <span data-ttu-id="a1320-240">Rozbalte konfiguraci **Mapování k učení se zdrojů dat JOIN**.</span><span class="sxs-lookup"><span data-stu-id="a1320-240">Expand **Model to learn JOIN data sources** configuration.</span></span>
4. <span data-ttu-id="a1320-241">Vyberte konfiguraci **Formát k učení se zdrojů dat JOIN**.</span><span class="sxs-lookup"><span data-stu-id="a1320-241">Select **Format to learn JOIN data sources** configuration.</span></span>
5. <span data-ttu-id="a1320-242">Vyberte možnost **Návrhář**.</span><span class="sxs-lookup"><span data-stu-id="a1320-242">Select **Designer**.</span></span>
6. <span data-ttu-id="a1320-243">Vyberte **Zobrazit podrobnosti**.</span><span class="sxs-lookup"><span data-stu-id="a1320-243">Select **Show details**.</span></span>
7. <span data-ttu-id="a1320-244">Vyberte **Mapování**.</span><span class="sxs-lookup"><span data-stu-id="a1320-244">Select **Mapping**.</span></span>
8. <span data-ttu-id="a1320-245">Vyberte **Rozbalit/sbalit**.</span><span class="sxs-lookup"><span data-stu-id="a1320-245">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="a1320-246">Tento formát je určen k naplnění vygenerovaného textového souboru s použitím nového řádku pro každou verzi konfigurace ER (sekvence **Verze**).</span><span class="sxs-lookup"><span data-stu-id="a1320-246">This format is designed to populate a generated text file with a new line for every version of an ER configuration (**Version** sequence).</span></span> <span data-ttu-id="a1320-247">Každý generovaný řádek bude obsahovat název poskytovatele konfigurace, který vlastní aktuální konfiguraci, název konfigurace a verzi konfigurace oddělené středníkem.</span><span class="sxs-lookup"><span data-stu-id="a1320-247">Each generated line will contain the name of a configuration provider owning the current configuration, the configuration name, and the configuration version separated by semicolon mark.</span></span> <span data-ttu-id="a1320-248">Poslední řádek generovaného souboru bude obsahovat počet zjištěných verzí konfigurací ER (**souhrnná** sekvence).</span><span class="sxs-lookup"><span data-stu-id="a1320-248">The final line of generated file will contain the number of discovered versions of ER configurations (**Summary** sequence).</span></span>

    ![Stránka návrháře formátu ER, karta Formát](./media/GER-JoinDS-FormatReview.PNG)

    <span data-ttu-id="a1320-250">Zdroje dat **Data** a **Souhrn** slouží k naplnění podrobností o verzi konfigurace do generovaného souboru:</span><span class="sxs-lookup"><span data-stu-id="a1320-250">The **Data** and **Summary** data sources are used to populate configuration version details to the generated file:</span></span>

    - <span data-ttu-id="a1320-251">Informace z datového modelu **Set1** jsou použity při výběru volby **Ne** pro zdroj dat **Selektor** v době běhu na stránce uživatelského dialogového okna při spuštění formátu ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-251">Information from the **Set1** data model is used when you choose **No** for the **Selector** data source at runtime on the user dialog page when running ER format.</span></span>
    - <span data-ttu-id="a1320-252">Informace z datového modelu **Set2** jsou použity při výběru volby **Ano** pro zdroj dat **Selektor** v době běhu na stránce uživatelského dialogového okna při spuštění formátu ER.</span><span class="sxs-lookup"><span data-stu-id="a1320-252">Information from the **Set2** data model is used when you choose **Yes** for the **Selector** data source at runtime on the user dialog page.</span></span>

    ![Stránka návrháře formátu ER, karta Mapování](./media/GER-JoinDS-FormatMappingReview.PNG)

9. <span data-ttu-id="a1320-254">Vyberte **Spustit**.</span><span class="sxs-lookup"><span data-stu-id="a1320-254">Select **Run**.</span></span>
10. <span data-ttu-id="a1320-255">Na stránce dialogového okna vyberte **Ne** v poli **Použít zdroj dat JOIN**.</span><span class="sxs-lookup"><span data-stu-id="a1320-255">On the dialog page, select **No** in the **Use JOIN data source** field.</span></span>
11. <span data-ttu-id="a1320-256">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="a1320-256">Select **OK**.</span></span>
12. <span data-ttu-id="a1320-257">Zkontrolujte vygenerovaný soubor.</span><span class="sxs-lookup"><span data-stu-id="a1320-257">Review generated file.</span></span>

    ![Soubor generovaný parametry elektronické zprávy nepoužívá zdroj dat JOIN](./media/GER-JoinDS-Set1Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><span data-ttu-id="a1320-259">Analýza sledování spouštění formátu ER</span><span class="sxs-lookup"><span data-stu-id="a1320-259">Analyze ER format execution trace</span></span>

1. <span data-ttu-id="a1320-260">V první relaci Finance nebo RCS vyberte **Návrhář**.</span><span class="sxs-lookup"><span data-stu-id="a1320-260">In the first session of Finance or RCS, select **Designer**.</span></span>
2. <span data-ttu-id="a1320-261">Vyberte **Sledování výkonu**.</span><span class="sxs-lookup"><span data-stu-id="a1320-261">Select **Performance trac** e.</span></span>
3. <span data-ttu-id="a1320-262">V mřížce **sledování výkonu** vyberte nejvyšší záznam posledního spuštění sledování formátu ER, který použil aktuální součást mapování modelu.</span><span class="sxs-lookup"><span data-stu-id="a1320-262">In the **Performance trace** grid, select the top-most record of the latest execution trace of an ER format that used the current model mapping component.</span></span>
4. <span data-ttu-id="a1320-263">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="a1320-263">Select **OK**.</span></span>

    <span data-ttu-id="a1320-264">Statistika provedení informuje o zdvojených voláních tabulek aplikací:</span><span class="sxs-lookup"><span data-stu-id="a1320-264">Execution statistics informs you about duplicated calls to application tables:</span></span>

    - <span data-ttu-id="a1320-265">**ERSolutionTable** byla volána tolikrát, kolikrát máte v tabulce **ERSolutionVersionTable** záznamy o konfiguraci verze, zatímco počet takových volání může být v některých případech snížen pro zlepšení výkonu.</span><span class="sxs-lookup"><span data-stu-id="a1320-265">**ERSolutionTable** has been called as many times as you have configuration version records in the **ERSolutionVersionTable** table, while the number of such calls could be reduced in times for performance improvement.</span></span>
    - <span data-ttu-id="a1320-266">**ERVendorTable** byla volána dvakrát pro každý záznam verze konfigurace, který byl zjištěn v tabulce **ERSolutionVersionTable**, zatímco počet takových volání může být v některých případech rovněž snížen.</span><span class="sxs-lookup"><span data-stu-id="a1320-266">**ERVendorTable** has been called twice for every configuration version record that was discovered in the **ERSolutionVersionTable** table, while the number of such calls could be reduced as well.</span></span>

    ![Statistiky vykonávání na stránce návrháře mapování modelu ER](./media/GER-JoinDS-Set1Run2.PNG)

5. <span data-ttu-id="a1320-268">Zavřete stránku.</span><span class="sxs-lookup"><span data-stu-id="a1320-268">Close the page.</span></span>

### <a name="execute-er-format"></a><span data-ttu-id="a1320-269">Provést formát ER</span><span class="sxs-lookup"><span data-stu-id="a1320-269">Execute ER format</span></span>

1. <span data-ttu-id="a1320-270">Přepněte na kartu webového prohlížeče s druhou relací modulu finance nebo RCS.</span><span class="sxs-lookup"><span data-stu-id="a1320-270">Switch to your web browser tab with the second session of Finance or RCS.</span></span>
2. <span data-ttu-id="a1320-271">Vyberte **Spustit**.</span><span class="sxs-lookup"><span data-stu-id="a1320-271">Select **Run**.</span></span>
3. <span data-ttu-id="a1320-272">Na stránce dialogového okna vyberte **Ano** v poli **Použít zdroj dat JOIN**.</span><span class="sxs-lookup"><span data-stu-id="a1320-272">On the dialog page, select **Yes** in the **Use JOIN data source** field.</span></span>
4. <span data-ttu-id="a1320-273">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="a1320-273">Select **OK**.</span></span>
5. <span data-ttu-id="a1320-274">Zkontrolujte vygenerovaný soubor.</span><span class="sxs-lookup"><span data-stu-id="a1320-274">Review generated file.</span></span>

    ![Soubor generovaný parametry elektronické zprávy používá zdroj dat JOIN](./media/GER-JoinDS-Set2Run.PNG)

#### <a name="analyze-er-format-execution-trace"></a><a name="analyze"></a> <span data-ttu-id="a1320-276">Analýza sledování spouštění formátu ER</span><span class="sxs-lookup"><span data-stu-id="a1320-276">Analyze ER format execution trace</span></span>

1. <span data-ttu-id="a1320-277">V první relaci Finance nebo RCS vyberte **Návrhář**.</span><span class="sxs-lookup"><span data-stu-id="a1320-277">In the first session of Finance or RCS, select **Designer**.</span></span>
2. <span data-ttu-id="a1320-278">Vyberte **Sledování výkonu**.</span><span class="sxs-lookup"><span data-stu-id="a1320-278">Select **Performance trace**.</span></span>
3. <span data-ttu-id="a1320-279">V mřížce **sledování výkonu** vyberte nejvyšší záznam reprezentující poslední spuštění sledování formátu ER, který použil aktuální součást mapování modelu.</span><span class="sxs-lookup"><span data-stu-id="a1320-279">In the **Performance trace** grid, select top-most record representing the latest execution trace of an ER format that used the current model mapping component.</span></span>
4. <span data-ttu-id="a1320-280">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="a1320-280">Select **OK**.</span></span>

    <span data-ttu-id="a1320-281">Statistiky vás informují o následujících faktech:</span><span class="sxs-lookup"><span data-stu-id="a1320-281">Statistics informs you about the following:</span></span>

    - <span data-ttu-id="a1320-282">Aplikační databáze byla volána jednou za účelem získání záznamů z tabulek **ERVendorTable**, **ERSolutionTable**, a **ERSolutionVersionTable** pro přístup k požadovaným polím.</span><span class="sxs-lookup"><span data-stu-id="a1320-282">Application database has been called once to get records from **ERVendorTable**, **ERSolutionTable**, and **ERSolutionVersionTable** tables to access required fields.</span></span>

    ![Údaje statistik výkonu na stránce návrháře mapování modelu ER](./media/GER-JoinDS-Set2Run2.PNG)

    - <span data-ttu-id="a1320-284">Aplikační databáze byla volána jednou za účelem výpočtu počtu konfiguračních verzí pomocí spojení, která byla nakonfigurována ve zdroji dat **Podrobnosti**.</span><span class="sxs-lookup"><span data-stu-id="a1320-284">Application database has been called once to calculate the number of configuration versions by using joins that were configured in the **Details** data source.</span></span>

    ![Stránka návrháře mapování modelů ER zobrazující volání databáze aplikací](./media/GER-JoinDS-Set2Run3.PNG)

## <a name="limitations"></a><span data-ttu-id="a1320-286">Omezení</span><span class="sxs-lookup"><span data-stu-id="a1320-286">Limitations</span></span>

<span data-ttu-id="a1320-287">Jak můžete vidět z příkladu v tomto tématu, **PROPOJENÝ** zdroj dat lze sestavit z několika zdrojů dat, které popisují jednotlivé datové sady záznamů, které musí být nakonec spojeny.</span><span class="sxs-lookup"><span data-stu-id="a1320-287">As you can see from the example in this topic, the **JOIN** data source can be built from several data sources that describe the individual datasets of the records that must eventually be joined.</span></span> <span data-ttu-id="a1320-288">Tyto zdroje dat můžete nakonfigurovat pomocí vestavěné funkce ER [FILTR](er-functions-list-filter.md).</span><span class="sxs-lookup"><span data-stu-id="a1320-288">You can configure those data sources by using the built-in ER [FILTER](er-functions-list-filter.md) function.</span></span> <span data-ttu-id="a1320-289">Když nakonfigurujete zdroj dat tak, aby byl volán i mimo **PROPOJENÝ** zdroj dat, můžete použít firemní rozsahy jako součást podmínky pro výběr dat.</span><span class="sxs-lookup"><span data-stu-id="a1320-289">When you configure the data source so that it's called beyond the **JOIN** data source, you can use company ranges as part of the condition for data selection.</span></span> <span data-ttu-id="a1320-290">První implementace **PROPOJENÉHO** zdroje dat nepodporuje zdroje dat tohoto typu.</span><span class="sxs-lookup"><span data-stu-id="a1320-290">The initial implementation of the **JOIN** data source doesn't support data sources of this type.</span></span> <span data-ttu-id="a1320-291">Například když voláte zdroj dat založený na [FILTRU](er-functions-list-filter.md) v rámci rozsahu provedení zdroje dat **PROPOJIT**, platí, že pokud volaný zdroj dat obsahuje rozsahy společnosti v rámci podmínky výběru dat, dojde k výjimce.</span><span class="sxs-lookup"><span data-stu-id="a1320-291">For example, when you call a [FILTER](er-functions-list-filter.md)-based data source within the scope of execution of a **JOIN** data source, if the called data source contains company ranges as part of the condition for data selection, an exception occurs.</span></span>

<span data-ttu-id="a1320-292">V Microsoft Dynamics 365 Finance verze 10.0.12 (srpen 2020) můžete použít firemní rozsahy jako součást podmínky pro výběr dat ve zdrojích dat založených na funkci [FILTR](er-functions-list-filter.md), které jsou vyvolány v rámci provedení **PROPOJENÉHO** zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="a1320-292">In Microsoft Dynamics 365 Finance version 10.0.12 (August 2020), you can use company ranges as part of the condition for data selection in [FILTER](er-functions-list-filter.md)-based data sources that are called within the scope of execution of a **JOIN** data source.</span></span> <span data-ttu-id="a1320-293">Z důvodu omezení tvůrce [dotazů](../dev-ref/xpp-library-objects.md#query-object-model) aplikace jsou rozsahy společnosti podporovány pouze pro první zdroj dat **PROPOJENÉHO** zdroje dat.</span><span class="sxs-lookup"><span data-stu-id="a1320-293">Because of the limitations of the application [query](../dev-ref/xpp-library-objects.md#query-object-model) builder, the company ranges are supported only for the first data source of a **JOIN** data source.</span></span>

### <a name="example"></a><span data-ttu-id="a1320-294">Příklad</span><span class="sxs-lookup"><span data-stu-id="a1320-294">Example</span></span>

<span data-ttu-id="a1320-295">Například musíte provést jediné volání do databáze aplikací, abyste získali seznam transakcí zahraničního obchodu více společností a podrobnosti o položce inventáře, na kterou se v těchto transakcích odkazuje.</span><span class="sxs-lookup"><span data-stu-id="a1320-295">For example, you must make a single call to the application database to get the list of foreign trade transactions of multiple companies and the details of the inventory item that is referred to in those transactions.</span></span>

<span data-ttu-id="a1320-296">V tomto případě nakonfigurujete v mapování modelu ER následující artefakty:</span><span class="sxs-lookup"><span data-stu-id="a1320-296">In this case, you configure the following artifacts in your ER model mapping:</span></span>

- <span data-ttu-id="a1320-297">Kořenový zdroj dat **Intrastat**, který představuje tabulku **Intrastat**.</span><span class="sxs-lookup"><span data-stu-id="a1320-297">**Intrastat** root data source that represents the **Intrastat** table.</span></span>
- <span data-ttu-id="a1320-298">Kořenový zdroj dat **Položky**, který představuje tabulku **InventTable**.</span><span class="sxs-lookup"><span data-stu-id="a1320-298">**Items** root data source that represents the **InventTable** table.</span></span>
- <span data-ttu-id="a1320-299">Kořenový zdroj dat **Společnosti**, který vrací seznam společností (v tomto příkladu **DEMF** a **GBSI**), kde je nutné přistupovat k transakcím.</span><span class="sxs-lookup"><span data-stu-id="a1320-299">**Companies** root data source that returns the list of companies (**DEMF** and **GBSI** in this example) where transactions must be accessed.</span></span> <span data-ttu-id="a1320-300">Kód společnosti je k dispozici v poli **Companies.Code**.</span><span class="sxs-lookup"><span data-stu-id="a1320-300">The company code is available from the **Companies.Code** field.</span></span>
- <span data-ttu-id="a1320-301">**X1** kořenový zdroj dat, který má výraz `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span><span class="sxs-lookup"><span data-stu-id="a1320-301">**X1** root data source that has the expression `FILTER (Intrastat, VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code))`.</span></span> <span data-ttu-id="a1320-302">Jako součást podmínky pro výběr dat obsahuje tento výraz definici podnikových rozsahů `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span><span class="sxs-lookup"><span data-stu-id="a1320-302">As part of the condition for data selection, this expression contains the definition of company ranges `VALUEIN(Intrastat.dataAreaId, Companies, Companies.Code)`.</span></span>
- <span data-ttu-id="a1320-303">**X2** zdroj dat jako vnořená položka zdroje dat **X1**.</span><span class="sxs-lookup"><span data-stu-id="a1320-303">**X2** data source as a nested item of the **X1** data source.</span></span> <span data-ttu-id="a1320-304">Zahrnuje výraz `FILTER (Items, Items.ItemId = X1.ItemId)`.</span><span class="sxs-lookup"><span data-stu-id="a1320-304">It includes the expression `FILTER (Items, Items.ItemId = X1.ItemId)`.</span></span>

<span data-ttu-id="a1320-305">Nakonec můžete nakonfigurovat a **PŘIPOJIT** zdroj dat, kde **X1** je první zdroj dat a **X2** je druhý zdroj dat.</span><span class="sxs-lookup"><span data-stu-id="a1320-305">Finally, you can configure a **JOIN** data source where **X1** is the first data source and **X2** is the second data source.</span></span> <span data-ttu-id="a1320-306">Můžete zadat **Dotaz** jako možnost **Provést** pro vynucení spuštění zdroje dat na úrovni databázi v ER jako přímého volání SQL.</span><span class="sxs-lookup"><span data-stu-id="a1320-306">You can specify **Query** as the **Execute** option to force ER to run this data source on the database level as a direct SQL call.</span></span>

<span data-ttu-id="a1320-307">Když je nakonfigurovaný zdroj dat spuštěn, zatímco je provádění ER [sledováno](trace-execution-er-troubleshoot-perf.md), je v návrháři mapování modelu ER jako součást sledování výkonu ER zobrazen následující návrh.</span><span class="sxs-lookup"><span data-stu-id="a1320-307">When the configured data source is run while the ER execution is [traced](trace-execution-er-troubleshoot-perf.md), the following statement is shown in the ER model mapping designer as part of the ER performance trace.</span></span>

`SELECT ... FROM INTRASTAT T1 CROSS JOIN INVENTTABLE T2 WHERE ((T1.PARTITION=?) AND (T1.DATAAREAID IN (N'DEMF',N'GBSI') )) AND ((T2.PARTITION=?) AND (T2.ITEMID=T1.ITEMID AND (T2.DATAAREAID = T1.DATAAREAID) AND (T2.PARTITION = T1.PARTITION))) ORDER BY T1.DISPATCHID,T1.SEQNUM`

> [!NOTE]
> <span data-ttu-id="a1320-308">Pokud spustíte **PROPOJENý** zdroj dat, který byl nakonfigurován tak, aby obsahoval podmínky výběru dat, které mají rozsahy společností pro další zdroje dat prováděného **PROPOJENéHO** zdroje dat, dojde k chybě.</span><span class="sxs-lookup"><span data-stu-id="a1320-308">An error occurs if you run a **JOIN** data source that has been configured so that it contains data selection conditions that have company ranges for additional data sources of the executed **JOIN** data source.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a1320-309">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="a1320-309">Additional resources</span></span>

[<span data-ttu-id="a1320-310">Návrhář receptur v elektronickém výkaznictví</span><span class="sxs-lookup"><span data-stu-id="a1320-310">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="a1320-311">Sledování provádění formátu elektronického výkaznictví za účelem řešení potíží s výkonem</span><span class="sxs-lookup"><span data-stu-id="a1320-311">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
