---
title: Přehled úloh importu a exportu dat
description: Použijte pracovní prostor Správa dat k vytvoření a správě úloh importu a exportu dat.
author: Sunil-Garg
manager: AnnBe
ms.date: 11/02/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 4f019b856c9eb03d745442266677138b8d7a5f50
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/09/2021
ms.locfileid: "5570505"
---
# <a name="data-import-and-export-jobs-overview"></a><span data-ttu-id="83ab7-103">Přehled úloh importu a exportu dat</span><span class="sxs-lookup"><span data-stu-id="83ab7-103">Data import and export jobs overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="83ab7-104">Použijte pracovní prostor **Správa dat** k vytvoření a správě úloh importu a exportu dat v aplikaci .</span><span class="sxs-lookup"><span data-stu-id="83ab7-104">To create and manage data import and export jobs, you use the **Data management** workspace.</span></span> <span data-ttu-id="83ab7-105">Ve výchozím nastavení proces importu a exportu dat vytvoří tabulky fázování pro každou entitu v cílové databázi.</span><span class="sxs-lookup"><span data-stu-id="83ab7-105">By default, the data import and export process creates a staging table for each entity in the target database.</span></span> <span data-ttu-id="83ab7-106">Tabulky fázování umožňují ověřit, vyčistit anebo převést dat předtím, než budou přesunuta.</span><span class="sxs-lookup"><span data-stu-id="83ab7-106">Staging tables let you verify, clean up, or convert data before you move it.</span></span>

> [!NOTE]
> <span data-ttu-id="83ab7-107">V tomto tématu se předpokládá, že jste obeznámeni s [datovými entitami](data-entities.md).</span><span class="sxs-lookup"><span data-stu-id="83ab7-107">This topic assumes that you are familiar with [data entities](data-entities.md).</span></span>

## <a name="data-importexport-process"></a><span data-ttu-id="83ab7-108">Proces importu a exportu dat</span><span class="sxs-lookup"><span data-stu-id="83ab7-108">Data import/export process</span></span>
<span data-ttu-id="83ab7-109">Import a export dat se skládá z následujících kroků.</span><span class="sxs-lookup"><span data-stu-id="83ab7-109">Here are the steps to import or export data.</span></span>

1. <span data-ttu-id="83ab7-110">Vytvoření úlohy importu nebo exportu, kde dokončíte následující úkoly:</span><span class="sxs-lookup"><span data-stu-id="83ab7-110">Create an import or export job where you complete the following tasks:</span></span>

    - <span data-ttu-id="83ab7-111">Definujte kategorii projektu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-111">Define the project category.</span></span>
    - <span data-ttu-id="83ab7-112">Identifikujte entity, které chcete importovat nebo exportovat.</span><span class="sxs-lookup"><span data-stu-id="83ab7-112">Identify the entities to import or export.</span></span>
    - <span data-ttu-id="83ab7-113">Nastavte formát dat pro úlohu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-113">Set the data format for the job.</span></span>
    - <span data-ttu-id="83ab7-114">Seřaďte entity tak, aby se zpracovaly v logických skupin a v pořadí, které dává smysl.</span><span class="sxs-lookup"><span data-stu-id="83ab7-114">Sequence the entities, so that they are processed in logical groups and in an order that makes sense.</span></span>
    - <span data-ttu-id="83ab7-115">Určete, zda použít tabulky fázování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-115">Determine whether to use staging tables.</span></span>

2. <span data-ttu-id="83ab7-116">Ověřte, zda jsou zdrojová a cílová data správně namapována.</span><span class="sxs-lookup"><span data-stu-id="83ab7-116">Validate that the source data and target data are mapped correctly.</span></span>
3. <span data-ttu-id="83ab7-117">Ověřte zabezpečení pro úlohu import nebo exportu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-117">Verify the security for your import or export job.</span></span>
4. <span data-ttu-id="83ab7-118">Spusťte úlohu importu nebo exportu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-118">Run the import or export job.</span></span>
5. <span data-ttu-id="83ab7-119">Ověřte, zda úloha proběhla podle očekávání tím, že zkontrolujete historii úlohy.</span><span class="sxs-lookup"><span data-stu-id="83ab7-119">Validate that the job ran as expected by reviewing the job history.</span></span>
6. <span data-ttu-id="83ab7-120">Vyčistěte tabulky fázování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-120">Clean up the staging tables.</span></span>

<span data-ttu-id="83ab7-121">Zbývající části tohoto tématu poskytují podrobnější informace o jednotlivých krocích postupu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-121">The remaining sections of this topic provide more details about each step of the process.</span></span>

> [!NOTE]
> <span data-ttu-id="83ab7-122">Chcete-li obnovit formulář Import/export dat a zobrazit poslední vývoj, použijte ikonu obnovení formuláře.</span><span class="sxs-lookup"><span data-stu-id="83ab7-122">In order to refresh the Data import/export form to see the latest progress, use the form refresh icon.</span></span> <span data-ttu-id="83ab7-123">Obnovení úrovně prohlížeče se nedoporučuje, protože přeruší všechny úlohy importu/exportu, které nejsou spuštěny v dávce.</span><span class="sxs-lookup"><span data-stu-id="83ab7-123">Browser level refresh is not recommended because it will interrupt any import/export jobs that are not run in batch.</span></span>

## <a name="create-an-import-or-export-job"></a><span data-ttu-id="83ab7-124">Vytvoření úlohy importu nebo exportu</span><span class="sxs-lookup"><span data-stu-id="83ab7-124">Create an import or export job</span></span>
<span data-ttu-id="83ab7-125">Úlohu importu nebo exportu dat lze spustit jednou i několikrát.</span><span class="sxs-lookup"><span data-stu-id="83ab7-125">A data import or export job can be run one time or many times.</span></span>

### <a name="define-the-project-category"></a><span data-ttu-id="83ab7-126">Definování kategorie projektu</span><span class="sxs-lookup"><span data-stu-id="83ab7-126">Define the project category</span></span>
<span data-ttu-id="83ab7-127">Doporučujeme, abyste si dali načas s výběrem vhodné kategorie projektu pro svou úlohu importu a exportu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-127">We recommend that you take the time to select an appropriate project category for your import or export job.</span></span> <span data-ttu-id="83ab7-128">Kategorie projektu mohou pomoct se správou souvisejících úloh.</span><span class="sxs-lookup"><span data-stu-id="83ab7-128">Project categories can help you manage related jobs.</span></span>

### <a name="identify-the-entities-to-import-or-export"></a><span data-ttu-id="83ab7-129">Identifikace entit, které chcete importovat nebo exportovat</span><span class="sxs-lookup"><span data-stu-id="83ab7-129">Identify the entities to import or export</span></span>
<span data-ttu-id="83ab7-130">Můžete přidat konkrétní entity do úlohy importu nebo exportu, nebo zvolit použití šablony.</span><span class="sxs-lookup"><span data-stu-id="83ab7-130">You can add specific entities to an import or export job or select a template to apply.</span></span> <span data-ttu-id="83ab7-131">Šablony naplní úlohu seznamem entit.</span><span class="sxs-lookup"><span data-stu-id="83ab7-131">Templates fill a job with a list of entities.</span></span> <span data-ttu-id="83ab7-132">Možnost **Použít šablonu** je k dispozici po zadání názvu úlohy a uložení úlohy.</span><span class="sxs-lookup"><span data-stu-id="83ab7-132">The **Apply template** option is available after you give the job a name and save the job.</span></span>

### <a name="set-the-data-format-for-the-job"></a><span data-ttu-id="83ab7-133">Nastavení formátu dat pro úlohu</span><span class="sxs-lookup"><span data-stu-id="83ab7-133">Set the data format for the job</span></span>
<span data-ttu-id="83ab7-134">Vyberete-li entitu, je nutné vybrat formát dat, která budou exportována nebo importována.</span><span class="sxs-lookup"><span data-stu-id="83ab7-134">When you select an entity, you must select the format of the data that will be exported or imported.</span></span> <span data-ttu-id="83ab7-135">Formáty definujete pomocí dlaždice **Nastavení datových zdrojů**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-135">You define formats by using the **Data sources setup** tile.</span></span> <span data-ttu-id="83ab7-136">Formát zdrojových dat je kombinací **typ**, **formát**, **oddělovač řádků** a **oddělovač sloupců**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-136">A source data format is a combination of **Type**, **File format**, **Row delimiter** and **Column delimiter**.</span></span> <span data-ttu-id="83ab7-137">Existují také další atributy, ale ty jsou klíčové pro porozumění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-137">There are also other attributes, but these are the key ones to understand.</span></span> <span data-ttu-id="83ab7-138">V následující tabulce jsou uvedeny platné kombinace.</span><span class="sxs-lookup"><span data-stu-id="83ab7-138">The following table lists the valid combinations.</span></span>

| <span data-ttu-id="83ab7-139">Formát souboru</span><span class="sxs-lookup"><span data-stu-id="83ab7-139">File Format</span></span>            | <span data-ttu-id="83ab7-140">Oddělovač řádků/sloupců</span><span class="sxs-lookup"><span data-stu-id="83ab7-140">Row/Column delimiter</span></span>                       | <span data-ttu-id="83ab7-141">Styl XML</span><span class="sxs-lookup"><span data-stu-id="83ab7-141">XML Style</span></span>                 |
|------------------------|--------------------------------------------|---------------------------|
| <span data-ttu-id="83ab7-142">Excel</span><span class="sxs-lookup"><span data-stu-id="83ab7-142">Excel</span></span>                  | <span data-ttu-id="83ab7-143">Excel</span><span class="sxs-lookup"><span data-stu-id="83ab7-143">Excel</span></span>                                      | <span data-ttu-id="83ab7-144">\-Není k dispozici-</span><span class="sxs-lookup"><span data-stu-id="83ab7-144">\-NA-</span></span>                     |
| <span data-ttu-id="83ab7-145">XML</span><span class="sxs-lookup"><span data-stu-id="83ab7-145">XML</span></span>                    | <span data-ttu-id="83ab7-146">\-Není k dispozici-</span><span class="sxs-lookup"><span data-stu-id="83ab7-146">\-NA-</span></span>                                      | <span data-ttu-id="83ab7-147">XML-Element XML-Attribute</span><span class="sxs-lookup"><span data-stu-id="83ab7-147">XML-Element XML-Attribute</span></span> |
| <span data-ttu-id="83ab7-148">Oddělené, Pevná šířka</span><span class="sxs-lookup"><span data-stu-id="83ab7-148">Delimited, fixed width</span></span> | <span data-ttu-id="83ab7-149">Čárka, středník, tabulátor, svislá čára, dvojtečka</span><span class="sxs-lookup"><span data-stu-id="83ab7-149">Comma, semicolon, tab, vertical bar, colon</span></span> | <span data-ttu-id="83ab7-150">\-Není k dispozici-</span><span class="sxs-lookup"><span data-stu-id="83ab7-150">\-NA-</span></span>                     |

### <a name="sequence-the-entities"></a><span data-ttu-id="83ab7-151">Seřazení entit</span><span class="sxs-lookup"><span data-stu-id="83ab7-151">Sequence the entities</span></span>
<span data-ttu-id="83ab7-152">Entity lze seřadit v šabloně dat nebo v úloze importu a exportu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-152">Entities can be sequenced in a data template, or in import and export jobs.</span></span> <span data-ttu-id="83ab7-153">Při spuštění úlohy, která obsahuje více než jednu entitu dat, se musíte ujistit, že jsou entity správně seřazeny.</span><span class="sxs-lookup"><span data-stu-id="83ab7-153">When you run a job that contains more than one data entity, you must make sure that the data entities are correctly sequenced.</span></span> <span data-ttu-id="83ab7-154">Entity seřazujete především proto, abyste mohli adresovat všechny funkční závislosti mezi entitami.</span><span class="sxs-lookup"><span data-stu-id="83ab7-154">You sequence entities primarily so that you can address any functional dependencies among entities.</span></span> <span data-ttu-id="83ab7-155">Pokud nemají entity žádnou funkční závislost, lze je naplánovat pro paralelní import nebo export.</span><span class="sxs-lookup"><span data-stu-id="83ab7-155">If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</span></span>

#### <a name="execution-units-levels-and-sequences"></a><span data-ttu-id="83ab7-156">Spuštění jednotek, úrovní nebo řad</span><span class="sxs-lookup"><span data-stu-id="83ab7-156">Execution units, levels, and sequences</span></span>
<span data-ttu-id="83ab7-157">Jednotka spuštění, úroveň v jednotce spuštění a řazení entity pomáhají kontrolovat pořadí, v jakém jsou data exportována nebo importována.</span><span class="sxs-lookup"><span data-stu-id="83ab7-157">The execution unit, level in the execution unit, and sequence of an entity help control the order that the data is exported or imported in.</span></span>

- <span data-ttu-id="83ab7-158">Entity v jiných jednotkách spuštění se zpracovávají souběžně.</span><span class="sxs-lookup"><span data-stu-id="83ab7-158">Entities in different execution units are processed in parallel.</span></span>
- <span data-ttu-id="83ab7-159">U každé jednotky spuštění se entity zpracovávají souběžně, pokud mají stejnou úroveň.</span><span class="sxs-lookup"><span data-stu-id="83ab7-159">In each execution unit, entities are processed in parallel if they have the same level.</span></span>
- <span data-ttu-id="83ab7-160">V každé úrovni se entity zpracování podle jejich pořadového čísla v úrovni.</span><span class="sxs-lookup"><span data-stu-id="83ab7-160">In each level, entities are processed according to their sequence number in that level.</span></span>
- <span data-ttu-id="83ab7-161">po zpracování jedné úrovně se zpracuje další úroveň.</span><span class="sxs-lookup"><span data-stu-id="83ab7-161">After one level has been processed, the next level is processed.</span></span>

#### <a name="resequencing"></a><span data-ttu-id="83ab7-162">Opětovné seřazení</span><span class="sxs-lookup"><span data-stu-id="83ab7-162">Resequencing</span></span>
<span data-ttu-id="83ab7-163">Může být zapotřebí opětovně seřadit vaše entity v následujících situacích:</span><span class="sxs-lookup"><span data-stu-id="83ab7-163">You might want to resequence your entities in the following situations:</span></span>

- <span data-ttu-id="83ab7-164">Pokud je použita jen jedna datová úlohu pro všechny vaše změny, můžete použít možnosti změny seřazení, abyste optimalizovali dobu provádění celé úlohy.</span><span class="sxs-lookup"><span data-stu-id="83ab7-164">If only one data job is used for all your changes, you can use resequencing options to optimize the execution time for the full job.</span></span> <span data-ttu-id="83ab7-165">V těchto případech můžete použít jednotku spuštění, aby představovala modul, úroveň, která představuje oblast funkce v modulu, a seřazení představující entitu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-165">In these cases, you can use the execution unit to represent the module, the level to represent the feature area in the module, and the sequence to represent the entity.</span></span> <span data-ttu-id="83ab7-166">Díky tomuto přístupu je možné pracovat ve všech modulech současně, ale i nadále můžete pracovat v pořadí v jednotlivém modulu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-166">By using this approach, you can work across modules in parallel, but you can still work in sequence in a module.</span></span> <span data-ttu-id="83ab7-167">K zajištění, aby proběhly paralelní operace úspěšně, je nutné brát ohled na všechny závislosti.</span><span class="sxs-lookup"><span data-stu-id="83ab7-167">To help guarantee that parallel operations succeed, you must consider all dependencies.</span></span>
- <span data-ttu-id="83ab7-168">Při použití vícero datových úloh (například jedna úloha pro každý modul) můžete použít řazení k ovlivnění úrovně a pořadí entit za účelem optimálního provedení úlohy.</span><span class="sxs-lookup"><span data-stu-id="83ab7-168">If multiple data jobs are used (for example, one job for each module), you can use sequencing to affect the level and sequence of entities for optimal execution.</span></span>
- <span data-ttu-id="83ab7-169">Pokud vůbec neexistují žádné závislosti, můžete seřadit entity na jiných jednotkách spuštění pro maximální optimalizaci.</span><span class="sxs-lookup"><span data-stu-id="83ab7-169">If there are no dependencies at all, you can sequence entities at different execution units for maximum optimization.</span></span>

<span data-ttu-id="83ab7-170">Nabídka **Opětovné seřazení** je k dispozici při výběru více entit.</span><span class="sxs-lookup"><span data-stu-id="83ab7-170">The **Resequencing** menu is available when multiple entities are selected.</span></span> <span data-ttu-id="83ab7-171">Můžete opětovně provést řazení na základě jednotky spuštění, úrovně nebo možností seřazení.</span><span class="sxs-lookup"><span data-stu-id="83ab7-171">You can resequence based on execution unit, level, or sequence options.</span></span> <span data-ttu-id="83ab7-172">Můžete nastavit přírůstek pro opětovné seřazení vybraných entit.</span><span class="sxs-lookup"><span data-stu-id="83ab7-172">You can set an increment to resequence the entities that have been selected.</span></span> <span data-ttu-id="83ab7-173">Jednotka, úroveň anebo pořadové číslo, které bylo vybráno pro každou entitu, je aktualizováno podle zadaného přírůstku.</span><span class="sxs-lookup"><span data-stu-id="83ab7-173">The unit, level, and/or sequence number that is selected for each entity is updated by the specified increment.</span></span>

#### <a name="sorting"></a><span data-ttu-id="83ab7-174">Třídění</span><span class="sxs-lookup"><span data-stu-id="83ab7-174">Sorting</span></span>
<span data-ttu-id="83ab7-175">Použijte možnost **Seřadit podle** k zobrazení seznamu entit v sekvenčním pořadí.</span><span class="sxs-lookup"><span data-stu-id="83ab7-175">Use can use the **Sort by** option to view the entity list in sequential order.</span></span>

### <a name="truncating"></a><span data-ttu-id="83ab7-176">Zkrácení</span><span class="sxs-lookup"><span data-stu-id="83ab7-176">Truncating</span></span>
<span data-ttu-id="83ab7-177">Pro projekty importu můžete zkrátit záznamy předchozích entit před importem.</span><span class="sxs-lookup"><span data-stu-id="83ab7-177">For import projects, you can choose to truncate records in the entities prior to import.</span></span> <span data-ttu-id="83ab7-178">To je užitečné v případě, že je nutné importovat záznamy do čisté sady tabulek.</span><span class="sxs-lookup"><span data-stu-id="83ab7-178">This is useful if your records must be imported into a clean set of tables.</span></span> <span data-ttu-id="83ab7-179">Toto nastavení je ve výchozím nastavení vypnuté.</span><span class="sxs-lookup"><span data-stu-id="83ab7-179">This setting is off by default.</span></span>

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a><span data-ttu-id="83ab7-180">Ověření, zda jsou zdrojová a cílová data správně namapována</span><span class="sxs-lookup"><span data-stu-id="83ab7-180">Validate that the source data and target data are mapped correctly</span></span>
<span data-ttu-id="83ab7-181">Mapování je funkce vztahující se jak k úloze importu, tak k úloze exportu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-181">Mapping is a function that applies to both import and export jobs.</span></span>

- <span data-ttu-id="83ab7-182">V kontextu úlohy importu popisuje mapování to, jaké sloupce ve zdrojovém souboru se stanou sloupci v tabulce fázování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-182">In the context of an import job, mapping describes which columns in the source file become the columns in the staging table.</span></span> <span data-ttu-id="83ab7-183">Systém tedy může určit, která data sloupce ze zdrojového souboru musí být zkopírována do příslušného sloupce v tabulce fázování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-183">Therefore, the system can determine which column data in the source file must be copied into which column of the staging table.</span></span>
- <span data-ttu-id="83ab7-184">V kontextu úlohy exportu popisuje mapování to, jaké sloupce tabulky fázování (tedy zdroje) se stanou sloupci v cílovém souboru.</span><span class="sxs-lookup"><span data-stu-id="83ab7-184">In the context of an export job, mapping describes which columns of the staging table (that is, the source) become the columns in the target file.</span></span>

<span data-ttu-id="83ab7-185">Pokud se názvy sloupců v tabulce fázování a v souboru shodují, systém automaticky vytvoří mapování na základě názvů.</span><span class="sxs-lookup"><span data-stu-id="83ab7-185">If the column names in the staging table and the file match, the system automatically establishes the mapping, based on the names.</span></span> <span data-ttu-id="83ab7-186">Avšak pokud se názvy liší, sloupce se automaticky nenamapují.</span><span class="sxs-lookup"><span data-stu-id="83ab7-186">However, if the names differ, columns aren’t mapped automatically.</span></span> <span data-ttu-id="83ab7-187">V těchto případech je nutné dokončit mapování výběrem možnosti **Zobrazit mapu** na entitě v datové úloze.</span><span class="sxs-lookup"><span data-stu-id="83ab7-187">In these cases, you must complete the mapping by selecting the **View map** option on the entity in the data job.</span></span>

<span data-ttu-id="83ab7-188">Existují dvě zobrazení mapování: **Vizualizace mapování**, což je výchozí zobrazení, a **Podrobnosti mapování**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-188">There are two mapping views: **Mapping visualization**, which is the default view, and **Mapping details**.</span></span> <span data-ttu-id="83ab7-189">Červená hvězdička (\*) identifikuje všechna povinná pole entity.</span><span class="sxs-lookup"><span data-stu-id="83ab7-189">A red asterisk (\*) identifies any required fields in the entity.</span></span> <span data-ttu-id="83ab7-190">Než začnete pracovat s entitou, musí být tato pole mapována.</span><span class="sxs-lookup"><span data-stu-id="83ab7-190">These fields must be mapped before you can work with the entity.</span></span> <span data-ttu-id="83ab7-191">U dalších polí lze při práci s entitou zrušit mapování podle potřeby.</span><span class="sxs-lookup"><span data-stu-id="83ab7-191">You can unmap other fields as you require when you work with the entity.</span></span> <span data-ttu-id="83ab7-192">Chcete-li zrušit mapování pole, vyberte pole buď ve sloupci **Entita** nebo sloupec **Zdroj**, a poté vyberte **Odstranit výběr**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-192">To unmap a field, select the field in either the **Entity** column or the **Source** column, and then select **Delete selection**.</span></span> <span data-ttu-id="83ab7-193">Vyberte **Uložit** pro uložení změn a zavřete stránku. Tím se vrátíte do projektu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-193">Select **Save** to save your changes, and then close the page to return to the project.</span></span> <span data-ttu-id="83ab7-194">Stejný postup můžete použít k úpravě mapování pole ze zdroje do fázování po provedení importu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-194">You can use the same process to edit the field mapping from source to staging after you import.</span></span>

<span data-ttu-id="83ab7-195">Mapování na stránce můžete vygenerovat výběrem možnosti **Generovat mapování zdroje**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-195">You can generate a mapping on the page by selecting **Generate source mapping**.</span></span> <span data-ttu-id="83ab7-196">Vygenerované mapování se chová jako automatické mapování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-196">A generated mapping behaves like an automatic mapping.</span></span> <span data-ttu-id="83ab7-197">Proto je nutné ručně namapovat všechna nenamapovaná pole.</span><span class="sxs-lookup"><span data-stu-id="83ab7-197">Therefore, you must manually map any unmapped fields.</span></span>

![Mapování dat](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a><span data-ttu-id="83ab7-199">Ověření zabezpečení pro úlohu import nebo exportu</span><span class="sxs-lookup"><span data-stu-id="83ab7-199">Verify the security for your import or export job</span></span>
<span data-ttu-id="83ab7-200">Přístup k pracovnímu prostoru **Správa dat** lze omezit, tak, aby uživatelé bez oprávnění správce měli přístup pouze k určitým datovým úlohám.</span><span class="sxs-lookup"><span data-stu-id="83ab7-200">Access to the **Data management** workspace can be restricted, so that non-administrator users can access only specific data jobs.</span></span> <span data-ttu-id="83ab7-201">Přístup k úloze dat zahrnuje úplný přístup ke spuštění historie této úlohy a přístup k tabulkám fázování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-201">Access to a data job implies full access to the execution history of that job and access to the staging tables.</span></span> <span data-ttu-id="83ab7-202">Proto je třeba se ujistit, že existují příslušný ovládací prvky přístupu při vytváření datové úlohy na místě.</span><span class="sxs-lookup"><span data-stu-id="83ab7-202">Therefore, you must make sure that appropriate access controls are in place when you create a data job.</span></span>

### <a name="secure-a-job-by-roles-and-users"></a><span data-ttu-id="83ab7-203">Zabezpečení úlohy podle role uživatelů</span><span class="sxs-lookup"><span data-stu-id="83ab7-203">Secure a job by roles and users</span></span>
<span data-ttu-id="83ab7-204">Použijte nabídku **Použitelné role** k omezení úlohy na jednu nebo více rolí zabezpečení.</span><span class="sxs-lookup"><span data-stu-id="83ab7-204">Use the **Applicable roles** menu to restrict the job to one or more security roles.</span></span> <span data-ttu-id="83ab7-205">Pouze uživatelé v těchto rolích budou mít přístup k úloze.</span><span class="sxs-lookup"><span data-stu-id="83ab7-205">Only users in those roles will have access to the job.</span></span>

<span data-ttu-id="83ab7-206">Úlohu lze omezit také pro konkrétní uživatele.</span><span class="sxs-lookup"><span data-stu-id="83ab7-206">You can also restrict a job to specific users.</span></span> <span data-ttu-id="83ab7-207">Pokud zabezpečíte úlohu podle uživatelů, nikoliv podle rolí, máte větší kontrolu, pokud je k jedné roli přiřazeno více uživatelů.</span><span class="sxs-lookup"><span data-stu-id="83ab7-207">When you secure a job by users instead of roles, there is more control if multiple users are assigned to a role.</span></span>

### <a name="secure-a-job-by-legal-entity"></a><span data-ttu-id="83ab7-208">Zabezpečení úlohy podle právnické osoby</span><span class="sxs-lookup"><span data-stu-id="83ab7-208">Secure a job by legal entity</span></span>
<span data-ttu-id="83ab7-209">Datové úlohy jsou svým charakterem globální.</span><span class="sxs-lookup"><span data-stu-id="83ab7-209">Data jobs are global in nature.</span></span> <span data-ttu-id="83ab7-210">Je-li tedy datová úloha vytvořena a použita u právnické osoby, bude viditelná i u jiných právnických osob v systému.</span><span class="sxs-lookup"><span data-stu-id="83ab7-210">Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system.</span></span> <span data-ttu-id="83ab7-211">Toto výchozí chování může být upřednostňované v některých scénářích aplikace.</span><span class="sxs-lookup"><span data-stu-id="83ab7-211">This default behavior might be preferred in some application scenarios.</span></span> <span data-ttu-id="83ab7-212">Například organizace, která importuje faktury pomocí datových entit, může nabídnout centralizovaný tým zpracovávající faktury, který je zodpovědný za správu fakturačních chyb pro všechny divize v organizaci.</span><span class="sxs-lookup"><span data-stu-id="83ab7-212">For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization.</span></span> <span data-ttu-id="83ab7-213">V tomto případě je pro centralizovaný tým zpracovávající faktury užitečné mít přístup k úlohám importu faktur ze všech právnických osob.</span><span class="sxs-lookup"><span data-stu-id="83ab7-213">In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities.</span></span> <span data-ttu-id="83ab7-214">Výchozí chování tedy splňuje požadavek z hlediska právnické osoby.</span><span class="sxs-lookup"><span data-stu-id="83ab7-214">Therefore, the default behavior meets the requirement from a legal entity perspective.</span></span>

<span data-ttu-id="83ab7-215">Organizace však může potřebovat mít týmy zpracovávající faktury podle právnické osoby.</span><span class="sxs-lookup"><span data-stu-id="83ab7-215">However, an organization might want to have invoice processing teams per legal entity.</span></span> <span data-ttu-id="83ab7-216">V takovém případě by měl tým v právnické osobě mít přístup pouze k úloze importu faktury v rámci vlastní právnické osoby.</span><span class="sxs-lookup"><span data-stu-id="83ab7-216">In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity.</span></span> <span data-ttu-id="83ab7-217">Aby byl tento požadavek splněn, lze konfigurovat kontrolu přístupu k datovým úlohám na základě právnické osoby pomocí nabídky **Použitelné právnické osoby** uvnitř datové úlohy.</span><span class="sxs-lookup"><span data-stu-id="83ab7-217">To meet this requirement, you can configure legal entity–based access control on the data jobs by using the **Applicable legal entities** menu inside the data job.</span></span> <span data-ttu-id="83ab7-218">Po dokončení konfigurace mohou uživatelé zobrazit pouze úlohy, které jsou k dispozici v právnické osobě, ke která jsou aktuálně přihlášeni.</span><span class="sxs-lookup"><span data-stu-id="83ab7-218">After the configuration is done, users can see only jobs that are available in the legal entity that they are currently signed in to.</span></span> <span data-ttu-id="83ab7-219">Pokud chtějí uživatelé zobrazit úlohy z jiné právnické osoby, musí přepnout na tuto právnickou osobu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-219">To see jobs from another legal entity, users must switch to that legal entity.</span></span>

<span data-ttu-id="83ab7-220">Úlohu lze zabezpečit podle rolí, uživatelů a právnické osoby současně.</span><span class="sxs-lookup"><span data-stu-id="83ab7-220">A job can be secured by roles, users, and legal entity at the same time.</span></span>

## <a name="run-the-import-or-export-job"></a><span data-ttu-id="83ab7-221">Spuštění úlohy importu nebo exportu</span><span class="sxs-lookup"><span data-stu-id="83ab7-221">Run the import or export job</span></span>
<span data-ttu-id="83ab7-222">Spustit úlohu můžete jednou výběrem tlačítka **Importovat** nebo **Exportovat** poté, co nadefinujete úlohu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-222">You can run a job one time by selecting the **Import** or **Export** button after you define the job.</span></span> <span data-ttu-id="83ab7-223">Chcete-li nastavit opakovanou úlohu, zvolte **Vytvořit opakovanou datovou úlohu**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-223">To set up a recurring job, select **Create recurring data job**.</span></span>

> [!NOTE]
> <span data-ttu-id="83ab7-224">Úlohu importu nebo exportu lze spustit výběrem tlačítka **Importovat** nebo **Exportovat**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-224">An import or an export job can be run by selecting the **Import** or **Export** button.</span></span> <span data-ttu-id="83ab7-225">Tím se naplánuje spuštění dávkové úlohy pouze jednou.</span><span class="sxs-lookup"><span data-stu-id="83ab7-225">This will schedule a batch job to run only once.</span></span> <span data-ttu-id="83ab7-226">Úloha se nemusí provést okamžitě, pokud dávková služba má výpadky kvůli velkému množství požadavků.</span><span class="sxs-lookup"><span data-stu-id="83ab7-226">The job may not execute immediately if batch service is throttling due to the load on the batch service.</span></span> <span data-ttu-id="83ab7-227">Úlohy můžete také provádět synchronně výběrem **Importovat nyní** nebo **Exportovat nyní**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-227">The jobs can also be run synchronously by selecting **Import now** or **Export now**.</span></span> <span data-ttu-id="83ab7-228">Úloha se spustí ihned a je to užitečné, pokud se dávka nespustí z důvodu omezení.</span><span class="sxs-lookup"><span data-stu-id="83ab7-228">This starts the job immediately and is useful if the batch does not start due to throttling.</span></span> <span data-ttu-id="83ab7-229">Úlohy lze také naplánovat tak, aby se spustila později.</span><span class="sxs-lookup"><span data-stu-id="83ab7-229">The jobs can also be scheduled to execute at a later time.</span></span> <span data-ttu-id="83ab7-230">Toho lze dosáhnout výběrem možnosti **Spustit v dávce**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-230">This can be done by choosing the **Run in batch** option.</span></span> <span data-ttu-id="83ab7-231">Zdroje dávky podléhají omezení, takže dávková úloha nemusí začít okamžitě.</span><span class="sxs-lookup"><span data-stu-id="83ab7-231">Batch resources are subject to throttling, so the batch job might not start immediately.</span></span> <span data-ttu-id="83ab7-232">Použití dávky je doporučená možnost, protože také pomáhá u velkých objemů dat, která je třeba importovat nebo exportovat.</span><span class="sxs-lookup"><span data-stu-id="83ab7-232">Using a batch is the recommended option because it will also help with large volumes of data that need to be imported or exported.</span></span> <span data-ttu-id="83ab7-233">Dávkové úlohy lze naplánovat tak, aby se spouštěly na určité skupině dávek, což umožňuje větší kontrolu z pohledu vyvažování zátěže.</span><span class="sxs-lookup"><span data-stu-id="83ab7-233">Batch jobs can be scheduled to run on a specific batch group, which allows more control from a load balancing perspective.</span></span>

## <a name="validate-that-the-job-ran-as-expected"></a><span data-ttu-id="83ab7-234">Ověření, zda byla úloha spuštěna podle očekávání</span><span class="sxs-lookup"><span data-stu-id="83ab7-234">Validate that the job ran as expected</span></span>
<span data-ttu-id="83ab7-235">Historie úloh je dostupná pro řešení potíží a analýzu na úlohách importu i exportu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-235">The job history is available for troubleshooting and investigation on both import and export jobs.</span></span> <span data-ttu-id="83ab7-236">Historie spuštění úloh je organizována podle časových rozsahů.</span><span class="sxs-lookup"><span data-stu-id="83ab7-236">Historical job runs are organized by time ranges.</span></span>

![Rozsahy historie úloh](./media/dixf-job-history.md.png)

<span data-ttu-id="83ab7-238">Spuštění každé úlohy poskytuje následující podrobnosti:</span><span class="sxs-lookup"><span data-stu-id="83ab7-238">Each job run provides the following details:</span></span>

- <span data-ttu-id="83ab7-239">Podrobnosti o spuštění</span><span class="sxs-lookup"><span data-stu-id="83ab7-239">Execution details</span></span>
- <span data-ttu-id="83ab7-240">Protokol provádění</span><span class="sxs-lookup"><span data-stu-id="83ab7-240">Execution log</span></span>

<span data-ttu-id="83ab7-241">Podrobnosti o spuštění zobrazují stav každé datové entity, kterou úloha zpracovala.</span><span class="sxs-lookup"><span data-stu-id="83ab7-241">Execution details show the state of each data entity that the job processed.</span></span> <span data-ttu-id="83ab7-242">Díky tomu můžete rychle vyhledat následující informace:</span><span class="sxs-lookup"><span data-stu-id="83ab7-242">Therefore, you can quickly find the following information:</span></span>

- <span data-ttu-id="83ab7-243">Jaké entity byly zpracovány.</span><span class="sxs-lookup"><span data-stu-id="83ab7-243">Which entities were processed.</span></span>
- <span data-ttu-id="83ab7-244">Kolik záznamů bylo pro danou entitu zpracováno a kolik se jich nezdařilo.</span><span class="sxs-lookup"><span data-stu-id="83ab7-244">For an entity, how many records were successfully processed, and how many failed.</span></span>
- <span data-ttu-id="83ab7-245">Záznamy fázování pro každou entitu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-245">The staging records for each entity.</span></span>

<span data-ttu-id="83ab7-246">Můžete stáhnout data fázování do souboru pro úlohy exportu, nebo je můžete stáhnout jako balíček pro úlohy importu a exportu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-246">You can download the staging data in a file for export jobs, or you can download it as a package for import and export jobs.</span></span>

<span data-ttu-id="83ab7-247">Chcete-li znát podrobnosti spuštění, můžete rovněž otevřít protokol provádění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-247">From the execution details, you can also open the execution log.</span></span>

## <a name="parallel-imports"></a><span data-ttu-id="83ab7-248">Souběžné importy</span><span class="sxs-lookup"><span data-stu-id="83ab7-248">Parallel imports</span></span>
<span data-ttu-id="83ab7-249">Chcete-li urychlit import dat, lze souběžné zpracování importu povolit, pokud entita podporuje souběžné importy.</span><span class="sxs-lookup"><span data-stu-id="83ab7-249">To speed up the import of data, parallel processing of importing a file can be enabled if the entity supports parallel imports.</span></span> <span data-ttu-id="83ab7-250">Chcete-li konfigurovat paralelní import pro entitu, je nutné provést následující kroky.</span><span class="sxs-lookup"><span data-stu-id="83ab7-250">To configure the parallel import for an entity, the following steps must be followed.</span></span>

1. <span data-ttu-id="83ab7-251">Přejděte do nabídky **Správa systému \> Pracovní prostory \> Správa dat**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-251">Go to **System administration \> Workspaces \> Data management**.</span></span>
2. <span data-ttu-id="83ab7-252">V oddílu **Import/export** vyberte dlaždici **Parametry architektury**, která otevře stránku **Parametry platformy importu a exportu dat**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-252">In the **Import / Export** section, select the **Framework parameters** tile to open the **Data import/export framework parameters** page.</span></span>
3. <span data-ttu-id="83ab7-253">Na kartě **Nastavení entity** vyberte možnost **Konfigurovat parametry spuštění entity** a otevřete stránku **Parametry spuštění importu entity**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-253">On the **Entity settings** tab, select **Configure entity execution parameters** to open the **Entity import execution parameters** page.</span></span>
4. <span data-ttu-id="83ab7-254">Nastavte následující pole pro konfiguraci paralelního importu pro entitu:</span><span class="sxs-lookup"><span data-stu-id="83ab7-254">Set the following fields to configure parallel import for an entity:</span></span>

    - <span data-ttu-id="83ab7-255">V poli **Entita** zvolte entitu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-255">In the **Entity** field, select the entity.</span></span>
    - <span data-ttu-id="83ab7-256">Do pole **Počet záznamů prahové hodnoty pro import** zadejte počet záznamů prahové hodnoty pro import.</span><span class="sxs-lookup"><span data-stu-id="83ab7-256">In the **Import threshold record count** field, enter the threshold record count for import.</span></span> <span data-ttu-id="83ab7-257">Určuje počet záznamů, které mají být zpracovány podprocesem.</span><span class="sxs-lookup"><span data-stu-id="83ab7-257">This determines the record count to be processed by a thread.</span></span> <span data-ttu-id="83ab7-258">Má-li soubor 10 000 záznamů, bude počet záznamů 2500 s počtem úkolů 4 znamenat, že v každém podprocesu bude zpracováno 2500 záznamů.</span><span class="sxs-lookup"><span data-stu-id="83ab7-258">If a file has 10K records, a record count of 2500 with a task count of 4 will mean, each thread will process 2500 records.</span></span>
    - <span data-ttu-id="83ab7-259">Do pole **Počet úkolů importu** zadejte počet úkolů importu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-259">In the **Import task count** field, enter the count of import tasks.</span></span> <span data-ttu-id="83ab7-260">Tato hodnota nesmí přesáhnout maximální počet dávkových podprocesů přidělených pro dávkové zpracování v **Správa systému \> Konfigurace serveru**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-260">This must not exceed the max batch threads allocated for batch processing in **System administration \>Server configuration**.</span></span>

## <a name="clean-up-the-staging-tables"></a><span data-ttu-id="83ab7-261">Vyčištění tabulek fázování</span><span class="sxs-lookup"><span data-stu-id="83ab7-261">Clean up the staging tables</span></span>
<span data-ttu-id="83ab7-262">Od aktualizace platformy 29 se tato funkce již nepoužívá.</span><span class="sxs-lookup"><span data-stu-id="83ab7-262">Starting in Platform update 29, this functionality has been deprecated.</span></span> <span data-ttu-id="83ab7-263">Je nahrazena novou verzí funkce Vyčištění historie úloh, která je vysvětlena níže.</span><span class="sxs-lookup"><span data-stu-id="83ab7-263">This is replaced by a new version of job history clean-up functionality explained below.</span></span>

<span data-ttu-id="83ab7-264">Můžete vyčistit tabulky fázování pomocí funkce **Vyčištění fázování** v pracovním prostoru **Správa dat**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-264">You can clean up staging tables by using the **Staging clean up** feature in the **Data management** workspace.</span></span> <span data-ttu-id="83ab7-265">Chcete-li zvolit, jaké záznamy by měly být odstraněny z konkrétní tabulky fázování, můžete použít následující možnosti:</span><span class="sxs-lookup"><span data-stu-id="83ab7-265">You can use the following options to select which records should be deleted from which staging table:</span></span>

- <span data-ttu-id="83ab7-266">**Entita** – Pokud je zadaná pouze entita, všechny záznamy z této tabulky fázování se odstraní.</span><span class="sxs-lookup"><span data-stu-id="83ab7-266">**Entity** – If only an entity is provided, all records from that entity’s staging table are deleted.</span></span> <span data-ttu-id="83ab7-267">Zvolte tuto možnost, abyste vyčistili všechna data z entity napříč všemi datovými projekty a všemi úlohami.</span><span class="sxs-lookup"><span data-stu-id="83ab7-267">Select this option to clean up all the data for the entity across all data projects and all jobs.</span></span>
- <span data-ttu-id="83ab7-268">**ID úlohy** – Je-li zadáno pouze ID úlohy, všechny záznamy pro všechny entity ve zvolené úloze se odstraní z příslušných tabulek fázování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-268">**Job ID** – If only a job ID is provided, all records for all entities in the selected job are deleted from the appropriate staging tables.</span></span>
- <span data-ttu-id="83ab7-269">**Datové projekty** – Pokud je vybrán datový projekt, budou odstraněny všechny záznamy pro všechny entity a napříč všemi úlohami pro zvolený datový projekt.</span><span class="sxs-lookup"><span data-stu-id="83ab7-269">**Data projects** – If only a data project is selected, all records for all entities and across all jobs for the selected data project are deleted.</span></span>

<span data-ttu-id="83ab7-270">Také můžete kombinovat možnosti pro další omezení sady záznamů, která je odstraněna.</span><span class="sxs-lookup"><span data-stu-id="83ab7-270">You can also combine the options to further restrict the record set that is deleted.</span></span>

## <a name="job-history-clean-up-available-in-platform-update-29-and-later"></a><span data-ttu-id="83ab7-271">Vyčištění historie úloh (k dispozici v aktualizaci platformy 29 a novější)</span><span class="sxs-lookup"><span data-stu-id="83ab7-271">Job history clean up (available in Platform update 29 and later)</span></span>

<span data-ttu-id="83ab7-272">Funkce vyčištění historie úlohy ve správě dat musí být použita k naplánování pravidelného mazání historie provedení.</span><span class="sxs-lookup"><span data-stu-id="83ab7-272">The job history clean-up functionality in data management must be used to schedule a periodic cleanup of the execution history.</span></span> <span data-ttu-id="83ab7-273">Tato funkce nahrazuje předchozí funkci Vyčištění pracovní tabulky, která je nyní zastaralá.</span><span class="sxs-lookup"><span data-stu-id="83ab7-273">This functionality replaces the previous staging table clean-up functionality, which is now deprecated.</span></span> <span data-ttu-id="83ab7-274">Následující tabulky budou vyčištěny procesem vyčištění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-274">The following tables will be cleaned up by the clean-up process.</span></span>

-   <span data-ttu-id="83ab7-275">Všechny tabulky fází</span><span class="sxs-lookup"><span data-stu-id="83ab7-275">All staging tables</span></span>

-   <span data-ttu-id="83ab7-276">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="83ab7-276">DMFSTAGINGVALIDATIONLOG</span></span>

-   <span data-ttu-id="83ab7-277">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="83ab7-277">DMFSTAGINGEXECUTIONERRORS</span></span>

-   <span data-ttu-id="83ab7-278">DMFSTAGINGLOGDETAIL</span><span class="sxs-lookup"><span data-stu-id="83ab7-278">DMFSTAGINGLOGDETAIL</span></span>

-   <span data-ttu-id="83ab7-279">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="83ab7-279">DMFSTAGINGLOG</span></span>

-   <span data-ttu-id="83ab7-280">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="83ab7-280">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>

-   <span data-ttu-id="83ab7-281">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="83ab7-281">DMFEXECUTION</span></span>

-   <span data-ttu-id="83ab7-282">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="83ab7-282">DMFDEFINITIONGROUPEXECUTION</span></span>

<span data-ttu-id="83ab7-283">Funkce **Vyčištění historie provádění** musí být povolena ve správě funkcí a lze k ní přistupovat z nabídky **Správa dat \> Vymazání historie úloh**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-283">The **Execution history cleanup** feature must be enabled in feature management and then can be accessed from **Data management \> Job history cleanup**.</span></span>

### <a name="scheduling-parameters"></a><span data-ttu-id="83ab7-284">Parametry plánování</span><span class="sxs-lookup"><span data-stu-id="83ab7-284">Scheduling parameters</span></span>

<span data-ttu-id="83ab7-285">Při plánování procesu čištění je nutné zadat následující parametry definující kritéria pro vyčištění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-285">When scheduling the clean-up process, the following parameters must be specified to define the clean-up criteria.</span></span>

-   <span data-ttu-id="83ab7-286">**Počet dnů pro uchování historie** – toto nastavení slouží k řízení rozsahu historie provádění, která má být zachována.</span><span class="sxs-lookup"><span data-stu-id="83ab7-286">**Number of days to retain history** – This setting is used to control the amount of execution history to be preserved.</span></span> <span data-ttu-id="83ab7-287">Specifikuje se v počtech dní.</span><span class="sxs-lookup"><span data-stu-id="83ab7-287">This is specified in number of days.</span></span> <span data-ttu-id="83ab7-288">Pokud je úloha čištění naplánována jako opakovaná dávková úloha, toto nastavení bude fungovat jako neustálé přesouvání okna, takže vždy zůstala historie zadaného počtu dnů při odstranění zbývající položky.</span><span class="sxs-lookup"><span data-stu-id="83ab7-288">When the clean-up job is scheduled as a recurring batch job, this setting will act like a continuously moving window thereby, always leaving the history for the specified number of days intact while deleting the rest.</span></span> <span data-ttu-id="83ab7-289">Výchozí hodnota je 7 dní.</span><span class="sxs-lookup"><span data-stu-id="83ab7-289">The default is 7 days.</span></span>

-   <span data-ttu-id="83ab7-290">**Počet hodin pro provedení úlohy** – v závislosti na množství historie, která má být vyčištěna, se může celková doba provádění úlohy čištění pohybovat v rozsahu od několika minut až po několik hodin.</span><span class="sxs-lookup"><span data-stu-id="83ab7-290">**Number of hours to execute the job** – Depending on the amount of history to be cleaned up, the total execution time for the clean-up job can vary from a few minutes to a few hours.</span></span> <span data-ttu-id="83ab7-291">Tento parametr musí být nastaven na počet hodin, který bude úloha provádět.</span><span class="sxs-lookup"><span data-stu-id="83ab7-291">This parameter must be set to the number of hours that the job will execute.</span></span> <span data-ttu-id="83ab7-292">Poté, co byla úloha čištění provedena po zadaný počet hodin, úloha se ukončí a bude pokračovat v vyčištění při příštím spuštění na základě plánu opakování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-292">After the clean-up job has executed for the specified number of hours, the job will exit and will resume the clean up the next time it is run based on the recurrence schedule.</span></span>

    <span data-ttu-id="83ab7-293">Maximální čas provedení lze určit nastavením maximálního počtu hodin, které musí úloha spustit pomocí tohoto nastavení.</span><span class="sxs-lookup"><span data-stu-id="83ab7-293">A maximum execution time can be specified by setting a max limit on the number of hours the job must run using this setting.</span></span> <span data-ttu-id="83ab7-294">Logika čištění projde v čase s chronologicky uspořádaným pořadím jedno ID spuštění úlohy a nejstarší je nejprve pro vyčištění související historie spuštění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-294">The clean-up logic goes through one job execution ID at a time in a chronologically arranged sequence, with oldest being first for the cleanup of related execution history.</span></span> <span data-ttu-id="83ab7-295">Ukončí vyzvednutí nového ID provedení vyčištění, když je zbývající doba trvání během posledních 10 % zadané doby trvání.</span><span class="sxs-lookup"><span data-stu-id="83ab7-295">It will stop picking up new execution ID’s for cleanup when the remaining execution duration is within the last 10% of the specified duration.</span></span> <span data-ttu-id="83ab7-296">V některých případech se očekává, že úloha vyčištění bude pokračovat i po uplynutí určené maximální doby.</span><span class="sxs-lookup"><span data-stu-id="83ab7-296">In some cases, it will be expected that the clean-up job will continue beyond the specified max time.</span></span> <span data-ttu-id="83ab7-297">To bude převážně záviset na počtu záznamů, které mají být odstraněny pro aktuální ID spuštění, které bylo zahájeno před dosažením prahové hodnoty 10 %.</span><span class="sxs-lookup"><span data-stu-id="83ab7-297">This will largely depend on the number of records to be deleted for the current execution ID that was started before the 10% threshold was reached.</span></span> <span data-ttu-id="83ab7-298">Čištění, které bylo zahájeno, musí být dokončeno, aby byla zajištěna integrita dat, což znamená, že vyčištění bude pokračovat navzdory překročení stanoveného limitu.</span><span class="sxs-lookup"><span data-stu-id="83ab7-298">The cleanup that was started must be completed to ensure data integrity, which means that cleanup will continue despite exceeding the specified limit.</span></span> <span data-ttu-id="83ab7-299">Po dokončení operace nebudou nová ID spuštění vydána a úloha vyčištění skončí.</span><span class="sxs-lookup"><span data-stu-id="83ab7-299">When this is complete, new execution ID’s are not picked up and the clean-up job completes.</span></span> <span data-ttu-id="83ab7-300">Zbývající historie spuštění, která nebyla vyčištěna z důvodu nedostatečné doby provádění, bude vybrána při příštím plánování úlohy čištění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-300">The remaining execution history that was not cleaned up due to lack of enough execution time, will be picked up the next time the clean-up job is scheduled.</span></span> <span data-ttu-id="83ab7-301">Výchozí a minimální hodnota pro toto nastavení je 2 hodiny.</span><span class="sxs-lookup"><span data-stu-id="83ab7-301">The default and minimum value for this setting is set to 2 hours.</span></span>

-   <span data-ttu-id="83ab7-302">**Opakovaná dávka** – úlohu čištění lze spustit jako jednorázové, ruční spuštění nebo je také možné naplánovat její opakované provedení v dávce.</span><span class="sxs-lookup"><span data-stu-id="83ab7-302">**Recurring batch** – The clean-up job can be run as a one-time, manual execution, or it can be also scheduled for recurring execution in batch.</span></span> <span data-ttu-id="83ab7-303">Dávku lze naplánovat pomocí nastavení **Spustit na pozadí**, což je standardní nastavení dávky.</span><span class="sxs-lookup"><span data-stu-id="83ab7-303">The batch can be scheduled using the **Run in background** settings, which is the standard batch set up.</span></span>

> [!NOTE]
> <span data-ttu-id="83ab7-304">Nejsou-li záznamy v pracovních tabulkách zcela vyčištěny, zkontrolujte, zda je naplánováno spuštění úlohy čištění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-304">If records in the staging tables are not cleaned up completely, ensure that the cleanup job is scheduled to run in recurrence.</span></span> <span data-ttu-id="83ab7-305">Jak bylo vysvětleno výše, při jakékoli čisté realizaci bude úloha čistit pouze tolik ID spuštění, kolik je možné v zadaných maximálních hodinách.</span><span class="sxs-lookup"><span data-stu-id="83ab7-305">As explained above, in any clean up execution the job will only clean up as many execution ID's as is possible within the provided maximum hours.</span></span> <span data-ttu-id="83ab7-306">Chcete-li pokračovat v čištění všech zbývajících záznamů fázování, je nutné naplánovat pravidelné spouštění úlohy.</span><span class="sxs-lookup"><span data-stu-id="83ab7-306">In order to continue cleanup of any remaining staging records, the job must be scheduled to run periodically.</span></span>

## <a name="job-history-clean-up-and-archival-available-for-preview-in-platform-update-39-or-version-10015"></a><span data-ttu-id="83ab7-307">Vyčištění a archivace historie úloh (k dispozici jako preview v aktualizaci platformy 39 nebo verzi 10.0.15)</span><span class="sxs-lookup"><span data-stu-id="83ab7-307">Job history clean up and archival (available for preview in Platform update 39 or version 10.0.15)</span></span>
<span data-ttu-id="83ab7-308">Funkce vyčištění a archivace historie úloh nahradí předchozí verze funkce vyčištění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-308">The job history clean up and archival functionality replaces the previous versions of the clean up functionality.</span></span> <span data-ttu-id="83ab7-309">Tato část vysvětluje tyto nové funkce.</span><span class="sxs-lookup"><span data-stu-id="83ab7-309">This section will explain these new capabilities.</span></span>

<span data-ttu-id="83ab7-310">Jednou z hlavních změn ve funkci čištění je použití dávkové úlohy systému k vyčištění historie.</span><span class="sxs-lookup"><span data-stu-id="83ab7-310">One of the main changes to the clean up functionality is the use of system batch job for cleaning up the history.</span></span> <span data-ttu-id="83ab7-311">Použití dávkové úlohy systému umožňuje aplikacím Finance and Operations mít automaticky naplánovanou a spouštěnou dávkovou úlohu vyčištění, jakmile je systém připraven.</span><span class="sxs-lookup"><span data-stu-id="83ab7-311">The use of system batch job allows Finance and Operations apps to have the clean up batch job automatically scheduled and running as soon as the system is ready.</span></span> <span data-ttu-id="83ab7-312">Dávkové úlohy již není nutné ručně plánovat.</span><span class="sxs-lookup"><span data-stu-id="83ab7-312">It is no longer required to schedule the batch job manually.</span></span> <span data-ttu-id="83ab7-313">V tomto výchozím režimu provádění bude dávková úloha spuštěna každou hodinu počínaje půlnocí a zachová si historii provádění za posledních 7 dní.</span><span class="sxs-lookup"><span data-stu-id="83ab7-313">In this default execution mode, the batch job will execute every hour starting at 12 midnight and will retain the execution history for the most recent 7 days.</span></span> <span data-ttu-id="83ab7-314">Vymazaná historie je archivována pro budoucí načtení.</span><span class="sxs-lookup"><span data-stu-id="83ab7-314">The purged history is archived for future retrieval.</span></span>

> [!NOTE]
> <span data-ttu-id="83ab7-315">Protože je tato funkce zatím v preview, dávková úloha systému neodstraní žádnou historii provádění, dokud nebude povolena prostřednictvím testovací verze úlohy DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="83ab7-315">Because this functionality is in preview, the system batch job will not delete any execution history until it is enabled via the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="83ab7-316">Až bude funkce obecně k dispozici v budoucím vydání, nebude testo testovací verze vyžadována a dávková úloha systému začne čistit a archivovat na základě definovaného plánu, až bude systém připraven, jak je vysvětleno výše.</span><span class="sxs-lookup"><span data-stu-id="83ab7-316">When the feature is generally available in a future release, this flight will not be required and the system batch job will start to purge and archive after the system is ready, based on the defined schedule as explained above.</span></span> 

> [!NOTE]
> <span data-ttu-id="83ab7-317">V budoucím vydání budou předchozí verze funkce vyčištění odebrány z aplikací Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="83ab7-317">In a future release, the previous versions of the clean up functionality will be removed from Finance and Operations apps.</span></span>

<span data-ttu-id="83ab7-318">Druhou změnou v procesu čištění je archivace vymazané historie provádění.</span><span class="sxs-lookup"><span data-stu-id="83ab7-318">The second change in the clean up process is the archival of the purged execution history.</span></span> <span data-ttu-id="83ab7-319">Úloha vyčištění archivuje odstraněné záznamy do úložiště objektů blob, které DIXF používá pro běžné integrace.</span><span class="sxs-lookup"><span data-stu-id="83ab7-319">The clean up job will archive the deleted records to the blob storage that DIXF uses for regular integrations.</span></span> <span data-ttu-id="83ab7-320">Archivovaný soubor bude ve formátu balíčku DIXF a bude k dispozici po dobu 7 dnů v objektu blob, během kterého bude možné jej stáhnout.</span><span class="sxs-lookup"><span data-stu-id="83ab7-320">The archived file will be in the DIXF package format and will be available for 7 days in the blob during which time it can be downloaded.</span></span> <span data-ttu-id="83ab7-321">Výchozí životnost archivovaného souboru 7 dní lze v parametrech změnit na maximálně 90 dní.</span><span class="sxs-lookup"><span data-stu-id="83ab7-321">The default longevity of 7 days for the archived file can be changed to a maximum of 90 days in the parameters.</span></span>

### <a name="changing-the-default-settings"></a><span data-ttu-id="83ab7-322">Změna výchozího nastavení</span><span class="sxs-lookup"><span data-stu-id="83ab7-322">Changing the default settings</span></span>
<span data-ttu-id="83ab7-323">Tato funkce je aktuálně v náhledu a musí být explicitně zapnuta povolením testovací verze úlohy DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="83ab7-323">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="83ab7-324">Ve správě funkcí musí být také zapnuta funkce vyčištění fázování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-324">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="83ab7-325">Chcete-li změnit výchozí nastavení životnosti archivovaného souboru, přejděte do pracovního prostoru správy dat a vyberte možnost **Vyčištění historie úlohy**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-325">To change the default setting for the longevity of the archived file, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="83ab7-326">Nastavte **Počet dnů uchování balíčku v objektu blob** na hodnotu mezi 7 a 90 (včetně).</span><span class="sxs-lookup"><span data-stu-id="83ab7-326">Set **Days to retain package in blob** to a value between 7 and 90 (inclusive).</span></span> <span data-ttu-id="83ab7-327">Změna se projeví u archivů, které jsou vytvořeny po provedení této změny.</span><span class="sxs-lookup"><span data-stu-id="83ab7-327">This will take effect on the archives that are created after this change was made.</span></span>

### <a name="downloading-the-archived-package"></a><span data-ttu-id="83ab7-328">Stahování archivovaného balíčku</span><span class="sxs-lookup"><span data-stu-id="83ab7-328">Downloading the archived package</span></span>
<span data-ttu-id="83ab7-329">Tato funkce je aktuálně v náhledu a musí být explicitně zapnuta povolením testovací verze úlohy DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="83ab7-329">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="83ab7-330">Ve správě funkcí musí být také zapnuta funkce vyčištění fázování.</span><span class="sxs-lookup"><span data-stu-id="83ab7-330">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="83ab7-331">Chcete-li stáhnout archivovanou historii spuštění, přejděte do pracovního prostoru správy dat a vyberte možnost **Vyčištění historie úlohy**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-331">To download the archived execution history, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="83ab7-332">Výběrem položky **Historie zálohování balíčku** otevřete formulář historie.</span><span class="sxs-lookup"><span data-stu-id="83ab7-332">Select **Package backup history** to open the history form.</span></span> <span data-ttu-id="83ab7-333">Tento formulář zobrazuje seznam všech archivovaných balíčků.</span><span class="sxs-lookup"><span data-stu-id="83ab7-333">This form shows the list of all archived packages.</span></span> <span data-ttu-id="83ab7-334">Archiv lze vybrat a stáhnout výběrem možnosti **Stáhnout balíček**.</span><span class="sxs-lookup"><span data-stu-id="83ab7-334">An archive can be selected and downloaded by selecting **Download package**.</span></span> <span data-ttu-id="83ab7-335">Stažený balíček bude ve formátu balíčku DIXF a bude obsahovat následující soubory:</span><span class="sxs-lookup"><span data-stu-id="83ab7-335">The downloaded package will be in the DIXF package format and contain the following files:</span></span>

-   <span data-ttu-id="83ab7-336">Soubor tabulky fázování entit</span><span class="sxs-lookup"><span data-stu-id="83ab7-336">The entity staging table file</span></span>
-   <span data-ttu-id="83ab7-337">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="83ab7-337">DMFDEFINITIONGROUPEXECUTION</span></span>
-   <span data-ttu-id="83ab7-338">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="83ab7-338">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>
-   <span data-ttu-id="83ab7-339">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="83ab7-339">DMFEXECUTION</span></span>
-   <span data-ttu-id="83ab7-340">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="83ab7-340">DMFSTAGINGEXECUTIONERRORS</span></span>
-   <span data-ttu-id="83ab7-341">DMFSTAGINGLOG</span><span class="sxs-lookup"><span data-stu-id="83ab7-341">DMFSTAGINGLOG</span></span>
-   <span data-ttu-id="83ab7-342">DMFSTAGINGLOGDETAILS</span><span class="sxs-lookup"><span data-stu-id="83ab7-342">DMFSTAGINGLOGDETAILS</span></span>
-   <span data-ttu-id="83ab7-343">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="83ab7-343">DMFSTAGINGVALIDATIONLOG</span></span>



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]