---
title: Vytváření pravidel výstrah
description: Toto téma obsahuje informace o výstrahách a vysvětluje postup při vytvoření pravidla výstrahy, abyste byli upozorněni na události, jako je například následné datum nebo nastalá specifická změna.
author: tjvass
manager: AnnBe
ms.date: 10/08/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: EventCreateRule
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: tjvass
ms.search.validFrom: 2018-3-30
ms.dyn365.ops.version: Platform update 15
ms.openlocfilehash: 3721416ce720167a6f78e26583de84af9c8d086b
ms.sourcegitcommit: b112925c389a460a98c3401cc2c67df7091b066f
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/19/2020
ms.locfileid: "4798420"
---
# <a name="create-alert-rules"></a><span data-ttu-id="70117-103">Vytváření pravidel výstrah</span><span class="sxs-lookup"><span data-stu-id="70117-103">Create alert rules</span></span>

[!include [banner](../includes/banner.md)]

## <a name="getting-started"></a><span data-ttu-id="70117-104">Začínáme</span><span class="sxs-lookup"><span data-stu-id="70117-104">Getting started</span></span>

<span data-ttu-id="70117-105">Před nastavením pravidla výstrahy rozhodněte, kdy nebo za jakých situací chcete přijímat výstrahy.</span><span class="sxs-lookup"><span data-stu-id="70117-105">Before you set up an alert rule, decide when or in what situations you want to receive alerts.</span></span> <span data-ttu-id="70117-106">Pokud víte, o kterých událostech chcete být vyrozuměni, vyhledejte v aplikaci stránku, kde se zobrazují data, která událost způsobila.</span><span class="sxs-lookup"><span data-stu-id="70117-106">When you know which event you want to be notified about, find the page where the data that causes that event appears.</span></span> <span data-ttu-id="70117-107">Událost může být nadcházející datum nebo nastalá specifická změna.</span><span class="sxs-lookup"><span data-stu-id="70117-107">The event can be a date that arrives or a specific change that occurs.</span></span> <span data-ttu-id="70117-108">Musíte tedy vyhledat stránku, kde je zadáno datum, nebo kde se objevuje pole, které se změní, nebo nový záznam, který je vytvořen.</span><span class="sxs-lookup"><span data-stu-id="70117-108">Therefore, you must find the page where the date is specified, or where the field that changes or the new record that is created appears.</span></span> <span data-ttu-id="70117-109">Jakmile máte tyto informace k dispozici, můžete vytvořit pravidlo výstrahy.</span><span class="sxs-lookup"><span data-stu-id="70117-109">After you have this information, you can create the alert rule.</span></span>

<span data-ttu-id="70117-110">Když vytváříte pravidlo výstrahy, je třeba definovat kritéria, která je třeba splnit dříve, než bude spuštěna výstraha.</span><span class="sxs-lookup"><span data-stu-id="70117-110">When you create an alert rule, you define the criteria that must be met before an alert is triggered.</span></span> <span data-ttu-id="70117-111">Kritéria jsou v podstatě shoda mezi výskytem události a splněním specifické podmínky.</span><span class="sxs-lookup"><span data-stu-id="70117-111">Criteria is basically the match between the occurrence of an event and the fulfillment of specific conditions.</span></span> <span data-ttu-id="70117-112">Když dojde k události, systém začne provádět kontrolu podle podmínek, které jsou nastaveny.</span><span class="sxs-lookup"><span data-stu-id="70117-112">When an event occurs, the system starts to perform a check according to the conditions that are set up.</span></span>

## <a name="ensure-the-alert-batch-jobs-are-running"></a><span data-ttu-id="70117-113">Zkontrolujte, zda jsou spuštěny dávkové úlohy výstrah</span><span class="sxs-lookup"><span data-stu-id="70117-113">Ensure the alert batch jobs are running</span></span>

<span data-ttu-id="70117-114">Dávkové úlohy pro změnu dat a výstrahy s datem splatnosti musí být spuštěny, aby bylo možné zpracovat podmínky výstrah a odesílat upozornění.</span><span class="sxs-lookup"><span data-stu-id="70117-114">The batch jobs for data change and due date alerts need to be running for the alert conditions to be processed and the notifications to be sent.</span></span> <span data-ttu-id="70117-115">Chcete-li spustit dávkové úlohy, přejděte na **Správa systému** > **Periodické úkoly** > **Výstrahy** a přidejte novou dávkovou úlohu pro **Výstrahy na základě změn** a/nebo **Výstrahy založené na datu plnění**.</span><span class="sxs-lookup"><span data-stu-id="70117-115">To run batch jobs, go to **System administration** > **Periodic tasks** > **Alerts** and add a new batch job for **Change based alerts** and/or **Due date alerts**.</span></span> <span data-ttu-id="70117-116">Je-li vyžadována dlouhodobá a často spuštěná dávková úloha, vyberte **Opakování** a nastavte **Bez koncového data** se **Vzorcem opakování** **Minuty** a **Počet** **1**.</span><span class="sxs-lookup"><span data-stu-id="70117-116">If a long and frequently running batch job is needed, select **Recurrence** and set **No end date** with a **Recurrence pattern** of **Minutes** and a **Count** of **1**.</span></span>

## <a name="events"></a><span data-ttu-id="70117-117">Události</span><span class="sxs-lookup"><span data-stu-id="70117-117">Events</span></span>

<span data-ttu-id="70117-118">Událost, která spouští pravidlo výstrahy, může být datum nebo nastalá specifická změna, ke které dochází.</span><span class="sxs-lookup"><span data-stu-id="70117-118">The event that triggers an alert rule can be a date that arrives or a specific change that occurs.</span></span> <span data-ttu-id="70117-119">Spouštěče událostí jsou definovány na pevné záložce **Upozornit mě při** dialogového okna **Vytvořit pravidlo výstrahy**.</span><span class="sxs-lookup"><span data-stu-id="70117-119">Triggers for events are defined on the **Alert me when** FastTab of the **Create alert rule** dialog box.</span></span> <span data-ttu-id="70117-120">Dostupné události pro konkrétní pole závisí na zvoleném spouštěči.</span><span class="sxs-lookup"><span data-stu-id="70117-120">The events that are available for a particular field depend on the trigger that is selected.</span></span>

<span data-ttu-id="70117-121">Například když nastavujete pravidlo výstrahy pro pole **počáteční datum**, události po termínu splnění jsou vhodné.</span><span class="sxs-lookup"><span data-stu-id="70117-121">For example, if you're setting up an alert rule for the **Start date** field, due date events are appropriate.</span></span> <span data-ttu-id="70117-122">Proto je typ události `is due in` pro toto pole k dispozici.</span><span class="sxs-lookup"><span data-stu-id="70117-122">Therefore, the `is due in` event type is available for that field.</span></span> <span data-ttu-id="70117-123">Pro pole, jako je například **Nákladové středisko** například není událost data splatnosti vhodná.</span><span class="sxs-lookup"><span data-stu-id="70117-123">However, for a field such as **Cost center**, a due date event isn't appropriate.</span></span> <span data-ttu-id="70117-124">Proto není typ události `is due in` k dispozici.</span><span class="sxs-lookup"><span data-stu-id="70117-124">Therefore, the `is due in` event type isn't available.</span></span> <span data-ttu-id="70117-125">Namísto toho je k dispozici typ události `has changed`.</span><span class="sxs-lookup"><span data-stu-id="70117-125">Instead, the `has changed` event type is available.</span></span>

## <a name="event-types"></a><span data-ttu-id="70117-126">Typy událostí</span><span class="sxs-lookup"><span data-stu-id="70117-126">Event types</span></span>

<span data-ttu-id="70117-127">Může dojít ke třem typům událostí:</span><span class="sxs-lookup"><span data-stu-id="70117-127">Three types of events can occur:</span></span>

- <span data-ttu-id="70117-128">**Události typu vytvoření a odstranění** – tyto události spustí výstrahu, když je vytvořen nebo odstraněn záznam.</span><span class="sxs-lookup"><span data-stu-id="70117-128">**Create-type and delete-type events** – These events trigger an alert when a record is created or deleted.</span></span>
- <span data-ttu-id="70117-129">**Události typu aktualizace** – tyto události vyvojají výstrahu při změně údajů určitého pole.</span><span class="sxs-lookup"><span data-stu-id="70117-129">**Update-type events** – These events trigger an alert when the data in a specific field changes.</span></span>
- <span data-ttu-id="70117-130">**Události typu datum splatnosti** – tyto události spouští výstrahu při získání data.</span><span class="sxs-lookup"><span data-stu-id="70117-130">**Due date-type events** – These events trigger an alert when a date arrives.</span></span>
    
<span data-ttu-id="70117-131">Uživatel může provést změny.</span><span class="sxs-lookup"><span data-stu-id="70117-131">Changes that occur can be initiated by a user.</span></span> <span data-ttu-id="70117-132">Například uživatel změní datum dodání nákupní objednávky.</span><span class="sxs-lookup"><span data-stu-id="70117-132">For example, a user changes the delivery date of a purchase order.</span></span> <span data-ttu-id="70117-133">Alternativně mohou být provedeny změny jako součást procesu.</span><span class="sxs-lookup"><span data-stu-id="70117-133">Alternatively, changes can occur as part of a process.</span></span> <span data-ttu-id="70117-134">Například pole **sstav** na stránce se změní na odráží cyklus životnosti různých procesů v systému.</span><span class="sxs-lookup"><span data-stu-id="70117-134">For example, the **Status** field on a page changes to reflect the life cycle of various processes in the system.</span></span>

## <a name="conditions"></a><span data-ttu-id="70117-135">Podmínky</span><span class="sxs-lookup"><span data-stu-id="70117-135">Conditions</span></span>

<span data-ttu-id="70117-136">Na pevné záložce **Upozornit mě na** v dialogovém okně **Vytvořit pravidlo výstrahy** můžete použít podmínky k řízení, kdy budete upozorňováni na události.</span><span class="sxs-lookup"><span data-stu-id="70117-136">On the **Alert me for** FastTab in the **Create alert rule** dialog box, you can use conditions to control when you're alerted about events.</span></span>

<span data-ttu-id="70117-137">Můžete například určit, že systém by vás měl upozornit na změnu stavu nákupní objednávky změny, ale pouze v případě, že stav odpovídá konkrétní sadě podmínek.</span><span class="sxs-lookup"><span data-stu-id="70117-137">For example, you can specify that the system should alert you when the status of purchase orders changes, but only if the status matches a specific set of conditions.</span></span> <span data-ttu-id="70117-138">Konkrétně předpokládejme, že chcete být upozorněni na okamžik, kdy je stav nákupní objednávky nastaven na **Přijato**.</span><span class="sxs-lookup"><span data-stu-id="70117-138">Specifically, you want to be alerted when the status of a purchase order is set to **Received**.</span></span> <span data-ttu-id="70117-139">Tato změna stavu je událostí, která spouští výstrahu.</span><span class="sxs-lookup"><span data-stu-id="70117-139">This change in status is the event that triggers the alert.</span></span>

<span data-ttu-id="70117-140">Dále je nutné určit, na které nákupní objednávky chcete být upozorněni.</span><span class="sxs-lookup"><span data-stu-id="70117-140">Next, you must decide which purchase orders you want to be alerted about.</span></span> <span data-ttu-id="70117-141">Můžete například vybrat jednu z následujících možností:</span><span class="sxs-lookup"><span data-stu-id="70117-141">For example, you can select one of the following options.</span></span> <span data-ttu-id="70117-142">Tyto možnosti je definují podmínky pravidel výstrah.</span><span class="sxs-lookup"><span data-stu-id="70117-142">These options define the conditions for the alert rule.</span></span>

- <span data-ttu-id="70117-143">**Aktuální vybraný záznam** – obdržíte výstrahu, když se změní stav určité nákupní objednávky na **přijato**.</span><span class="sxs-lookup"><span data-stu-id="70117-143">**Current selected record** – You receive an alert when the status of a specific purchase order changes to **Received**.</span></span>
- <span data-ttu-id="70117-144">**Všechny záznamy** – obdržíte výstrahu při změně stavu nákupní objednávky pro položku v aktivním zobrazení stránky.</span><span class="sxs-lookup"><span data-stu-id="70117-144">**All records** – You receive an alert when the status of a purchase order is changed for an item in the active page view.</span></span> <span data-ttu-id="70117-145">Můžete použít rozšířené filtrování dostupné na stránce k vytvoření pravidel pro konkrétní sadu záznamů.</span><span class="sxs-lookup"><span data-stu-id="70117-145">You can use the advanced filtering that is available on the page to create rules for a specific set of records.</span></span> <span data-ttu-id="70117-146">Můžete například vytvořit upozornění, které je spouštěno pro všechny nákupní objednávky pro odběratele ve skupině specifického odběratele.</span><span class="sxs-lookup"><span data-stu-id="70117-146">For example, you can create an alert that is triggered for all purchase orders for the customers in a specific customer group.</span></span>
    
## <a name="expiry-of-rule"></a><span data-ttu-id="70117-147">Uplynutí platnosti pravidla</span><span class="sxs-lookup"><span data-stu-id="70117-147">Expiry of rule</span></span>

<span data-ttu-id="70117-148">Na pevné záložce **Upozornit mě do** dialogového okna **Vytvořit pravidlo výstrahy** můžete určit, jak dlouho má být pravidlo výstrahy aktivní.</span><span class="sxs-lookup"><span data-stu-id="70117-148">On the **Alert me until** FastTab of the **Create alert rule** dialog box, you can specify how long the alert rule should be active.</span></span>

## <a name="alert-contents"></a><span data-ttu-id="70117-149">Obsah výstrahy</span><span class="sxs-lookup"><span data-stu-id="70117-149">Alert contents</span></span>

<span data-ttu-id="70117-150">Na pevné záložce **Upozornit mě pomocí** dialogového okna **Vytvořit pravidlo výstrahy** můžete určit text předmětu a text zprávy, kterou by zprávy s výstrahou měly používat.</span><span class="sxs-lookup"><span data-stu-id="70117-150">On the **Alert me with** FastTab of the **Create alert rule** dialog box, you can specify the subject text and message text that the alert messages should use.</span></span>

## <a name="user-id"></a><span data-ttu-id="70117-151">ID uživatele</span><span class="sxs-lookup"><span data-stu-id="70117-151">User ID</span></span>

<span data-ttu-id="70117-152">Na pevné záložce **Upozornit mě pomocí** dialogového okna **Vytvořit pravidlo výstrahy** můžete určit, který uživatel by měl přijímat zprávy s výstrahou.</span><span class="sxs-lookup"><span data-stu-id="70117-152">On the **Alert me with** FastTab of the **Create alert rule** dialog box, you can specify which user should receive the alert messages.</span></span> <span data-ttu-id="70117-153">ID uživatele je ve výchozím nastavení vybráno.</span><span class="sxs-lookup"><span data-stu-id="70117-153">By default, your user ID is selected.</span></span> <span data-ttu-id="70117-154">Možnost změny uživatele, který výstrahu obdrží, je omezena pouze na správce organizace.</span><span class="sxs-lookup"><span data-stu-id="70117-154">The ability to change the user receiving the alert is restricted to organization administrators.</span></span>

## <a name="alerts-as-business-events"></a><span data-ttu-id="70117-155">Výstrahy jako obchodní události</span><span class="sxs-lookup"><span data-stu-id="70117-155">Alerts as business events</span></span>

<span data-ttu-id="70117-156">Výstrahy lze externě odesílat pomocí architektury obchodních událostí.</span><span class="sxs-lookup"><span data-stu-id="70117-156">You can send alerts externally using the business events framework.</span></span> <span data-ttu-id="70117-157">Při vytváření výstrahy nastavte **Pro celou organizaci** na **Ne** a **Odeslat externě** na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="70117-157">When creating an alert, set **Organization-wide** to **No** and set **Send externally** to **Yes**.</span></span> <span data-ttu-id="70117-158">Po aktivaci obchodní události pomocí výstrahy můžete spustit tok vestavěný v Power Automate pomocí spouštěče **Při výskytu obchodní události** v konektoru Finance and Operations nebo explicitně odeslat událost do koncového bodu obchodních událostí prostřednictvím **Katalogu obchodních událostí**.</span><span class="sxs-lookup"><span data-stu-id="70117-158">After you have the alert triggering the business event, you can trigger a flow built in Power Automate using the **When a business event occurs** trigger on the Finance and Operations connector, or explicitly send the event to a business events endpoint via the **Business events catalog**.</span></span>

## <a name="create-an-alert-rule"></a><span data-ttu-id="70117-159">Vytvoření pravidla výstrahy</span><span class="sxs-lookup"><span data-stu-id="70117-159">Create an alert rule</span></span>

0. <span data-ttu-id="70117-160">Zkontrolujte, zda jsou spuštěny dávkové úlohy výstrah (viz výše).</span><span class="sxs-lookup"><span data-stu-id="70117-160">Ensure the alert batch jobs are running (see above).</span></span>
1. <span data-ttu-id="70117-161">Otevřete stránku obsahující data, která chcete sledovat.</span><span class="sxs-lookup"><span data-stu-id="70117-161">Open the page that contains the data to monitor.</span></span>
2. <span data-ttu-id="70117-162">V podokně akcí na kartě **Možnosti** ve skupině **Sdílení** vyberte **vytvořit pravidlo výstrahy**.</span><span class="sxs-lookup"><span data-stu-id="70117-162">On the Action Pane, on the **Options** tab, in the **Share** group, select **Create alert rule**.</span></span>
3. <span data-ttu-id="70117-163">V dialogovém okně **Vytvořit pravidlo výstrahy**, v poli **Pole** vyberte pole, které chcete sledovat.</span><span class="sxs-lookup"><span data-stu-id="70117-163">In the **Create alert rule** dialog box, in the **Field** field, select the field to monitor.</span></span>
4. <span data-ttu-id="70117-164">V poli **Událost** vyberte typ události.</span><span class="sxs-lookup"><span data-stu-id="70117-164">In the **Event** field, select the type of event.</span></span>
5. <span data-ttu-id="70117-165">Na pevné záložce **Upozornit mě na** vyberte požadovanou možnost.</span><span class="sxs-lookup"><span data-stu-id="70117-165">On the **Alert me for** FastTab, select the desired option.</span></span> <span data-ttu-id="70117-166">Chcete-li odeslat výstrahu jako obchodní událost, nastavte hotnodu **Pro celou organizaci** na **Ne**.</span><span class="sxs-lookup"><span data-stu-id="70117-166">If you want to send the alert as a business event, set the **Organization-wide** value to **No**.</span></span>
6. <span data-ttu-id="70117-167">Pokud by se pravidlo výstrahy mělo deaktivovat v určité datum, vyberte na pevné záložce **Upozornit mě do** koncové datum.</span><span class="sxs-lookup"><span data-stu-id="70117-167">If the alert rule should become inactive on a specific date, on the **Alert me until** FastTab, select an end date.</span></span>
7. <span data-ttu-id="70117-168">Na pevné záložce **Upozornit mě pomocí** v poli **Předmět** přijměte výchozí text předmětu e-mailové zprávy nebo zadejte nový předmět.</span><span class="sxs-lookup"><span data-stu-id="70117-168">On the **Alert me with** FastTab, in the **Subject** field, accept the default subject heading for the email message, or enter a new subject.</span></span> <span data-ttu-id="70117-169">Text se stane předmětem e-mailové zprávy, kterou obdržíte, když se aktivuje výstraha.</span><span class="sxs-lookup"><span data-stu-id="70117-169">The text becomes the subject heading for the email message that you receive when an alert is triggered.</span></span> <span data-ttu-id="70117-170">Chcete-li odeslat výstrahu jako obchodní událost, nastavte možnost **Odeslat externě** na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="70117-170">If you want to send the alert as a business event, set **Send externally** to **Yes**.</span></span>
8. <span data-ttu-id="70117-171">Do pole **Zpráva** zadejte libovolnou zprávu.</span><span class="sxs-lookup"><span data-stu-id="70117-171">In the **Message** field, enter an optional message.</span></span> <span data-ttu-id="70117-172">Text bude používán jako zpráva, kterou dostanete při spuštění výstrahy.</span><span class="sxs-lookup"><span data-stu-id="70117-172">The text becomes the message that you receive when an alert is triggered.</span></span>
9. <span data-ttu-id="70117-173">Zvolte **OK**, chcete-li uložit nastavení a vytvořit pravidlo výstrahy.</span><span class="sxs-lookup"><span data-stu-id="70117-173">Select **OK** to save the settings and create the alert rule.</span></span>

## <a name="limitations-and-workarounds"></a><span data-ttu-id="70117-174">Omezení a zástupná řešení</span><span class="sxs-lookup"><span data-stu-id="70117-174">Limitations and workarounds</span></span>

### <a name="workaround-for-creating-alerts-for-the-secondary-data-sources-of-a-form"></a><span data-ttu-id="70117-175">Řešení pro vytváření výstrah pro sekundární zdroje dat formuláře</span><span class="sxs-lookup"><span data-stu-id="70117-175">Workaround for creating alerts for the secondary data sources of a form</span></span>
<span data-ttu-id="70117-176">Výstrahy nelze vytvořit pro některé sekundární zdroje dat ve formulářích.</span><span class="sxs-lookup"><span data-stu-id="70117-176">You can't create alerts for some secondary data sources on forms.</span></span> <span data-ttu-id="70117-177">Například při vytváření výstrah ve formuláři účetních profilů odběratelů nebo dodavatelů jsou k dispozici pouze pole v záhlaví (CustLedger nebo VendLedger) a nikoli účty dimenzí.</span><span class="sxs-lookup"><span data-stu-id="70117-177">For example, when creating alerts on the customer or vendor posting profiles form, only the fields on the header (CustLedger or VendLedger) are available and not the dimension accounts.</span></span> <span data-ttu-id="70117-178">Řešením tohoto omezení je pomocí **SysTableBrowser** otevřít tuto tabulku jako primární zdroj dat.</span><span class="sxs-lookup"><span data-stu-id="70117-178">The workaround for this limitation is to use **SysTableBrowser** to open that table as primary data source.</span></span> 
1. <span data-ttu-id="70117-179">Otevřete tabulku ve formuláři **SysTableBrowser**.</span><span class="sxs-lookup"><span data-stu-id="70117-179">Open the table in the **SysTableBrowser** form.</span></span>
    ```
        https://<EnvironmentURL>/?cmp=USMF&mi=SysTableBrowser&TableName=<TableName>
    ```
2. <span data-ttu-id="70117-180">Vytvořte výstrahu z formuláře SysTableBrowser.</span><span class="sxs-lookup"><span data-stu-id="70117-180">Create an alert from the SysTableBrowser form.</span></span>

