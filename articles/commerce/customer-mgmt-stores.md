---
title: Správa zákazníků v obchodech
description: Toto téma vysvětluje, jak mohou maloobchodníci povolit funkce správy zákazníků v místě prodeje (POS) v Microsoft Dynamics 365 Commerce.
author: josaw1
ms.date: 03/05/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: e43f8f5b91f729dc93eccb9e9e4ee21b5a5d1596
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/11/2021
ms.locfileid: "6019980"
---
# <a name="customer-management-in-stores"></a><span data-ttu-id="ac29d-103">Správa zákazníků v obchodech</span><span class="sxs-lookup"><span data-stu-id="ac29d-103">Customer management in stores</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="ac29d-104">Toto téma vysvětluje, jak mohou maloobchodníci povolit funkce správy zákazníků v místě prodeje (POS) v Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="ac29d-104">This topic explains how retailers can enable customer management capabilities at the point of sale (POS) in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="ac29d-105">Je důležité, aby spolupracovníci obchodu mohli vytvářet a upravovat záznamy zákazníků na POS.</span><span class="sxs-lookup"><span data-stu-id="ac29d-105">It's important that store associates can create and edit customer records at the POS.</span></span> <span data-ttu-id="ac29d-106">Tímto způsobem mohou zaznamenávat jakékoli aktualizace informací o zákaznících, jako je e-mailová adresa, telefonní číslo a adresa.</span><span class="sxs-lookup"><span data-stu-id="ac29d-106">In that way, they can capture any updates to customer information such as the email address, phone number, and address.</span></span> <span data-ttu-id="ac29d-107">Tyto informace jsou užitečné v následných systémech, jako je marketing, protože účinnost těchto systémů závisí na přesnosti jejich údajů o zákaznících.</span><span class="sxs-lookup"><span data-stu-id="ac29d-107">This information is helpful in downstream systems such as marketing, because the effectiveness of those systems depends on the accuracy of their customer data.</span></span>

<span data-ttu-id="ac29d-108">Pracovníci prodeje mohou spustit pracovní postup vytváření zákazníků ze dvou vstupních bodů POS.</span><span class="sxs-lookup"><span data-stu-id="ac29d-108">Sales associates can trigger the customer creation workflow from two POS entry points.</span></span> <span data-ttu-id="ac29d-109">Mohou vybrat tlačítko, které je namapováno na operaci **Přidat zákazníka** nebo mohou vybrat **Vytvořit zákazníka** na panelu aplikací na stránce s výsledky vyhledávání.</span><span class="sxs-lookup"><span data-stu-id="ac29d-109">They can select a button that is mapped to the **Customer add** operation, or they can select **Create customer** on the app bar on the search results page.</span></span> <span data-ttu-id="ac29d-110">V obou případech se zobrazí dialogové okno **Nový zákazník**, kde prodejní spolupracovníci mohou zadat požadované údaje o zákazníkovi, například jméno zákazníka, e-mailovou adresu, telefonní číslo, adresu a jakékoli další informace, které jsou relevantní pro danou firmu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-110">In both cases, the **New customer** dialog box appears, where sales associates can enter required customer details, such as the customer's name, email address, phone number, address, and any additional information that is relevant to the business.</span></span> <span data-ttu-id="ac29d-111">Tyto další informace lze zachytit pomocí atributů zákazníka, které jsou spojeny se zákazníkem.</span><span class="sxs-lookup"><span data-stu-id="ac29d-111">That additional information can be captured by using the customer attributes that are associated with the customer.</span></span> <span data-ttu-id="ac29d-112">Další informace o atributech zákazníka najdete v části [Atributy zákazníka](dev-itpro/customer-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="ac29d-112">For more information about customer attributes, see [Customer attributes](dev-itpro/customer-attributes.md).</span></span>

<span data-ttu-id="ac29d-113">Obchodní spolupracovníci mohou také zaznamenávat sekundární e-mailové adresy a telefonní čísla.</span><span class="sxs-lookup"><span data-stu-id="ac29d-113">Sales associates can also capture secondary email addresses and phone numbers.</span></span> <span data-ttu-id="ac29d-114">Kromě toho mohou zachytit preference zákazníka ohledně přijímání marketingových informací prostřednictvím kterékoli z těchto sekundárních e-mailových adres nebo telefonních čísel.</span><span class="sxs-lookup"><span data-stu-id="ac29d-114">Additionally, they can capture the customer's preference about receiving marketing information via any of those secondary email addresses or phone numbers.</span></span> <span data-ttu-id="ac29d-115">K aktivaci této funkce musí maloobchodníci zapnout funkci **Zaznamenat více e-mailů a telefonních čísel a souhlas s marketingem těchto kontaktů** v pracovním prostoru **Správa funkcí** v centrále Commerce (**Správa systémů \> Pracovní prostory \> Správa funkcí**).</span><span class="sxs-lookup"><span data-stu-id="ac29d-115">To enable this capability, retailers must turn on the **Capture multiple emails and phone numbers and consent for marketing on these contacts** feature in the **Feature management** workspace in Commerce headquarters (**Systems administration \> Workspaces \> Feature management**).</span></span>

## <a name="default-customer-properties"></a><span data-ttu-id="ac29d-116">Výchozí vlastnosti zákazníka</span><span class="sxs-lookup"><span data-stu-id="ac29d-116">Default customer properties</span></span>

<span data-ttu-id="ac29d-117">Maloobchodníci mohou použít stránku **Všechny obchody** v ústředí Commerce (**Retail a Commerce \> Kanály \> Obchody**) a přidružit výchozího zákazníka ke každému obchodu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-117">Retailers can use the **All stores** page in Commerce headquarters (**Retail and Commerce \> Channels \> Stores**) to associate a default customer with each store.</span></span> <span data-ttu-id="ac29d-118">Commerce poté zkopíruje vlastnosti definované pro výchozího zákazníka do všech nových záznamů o zákazníkovi, které jsou vytvořeny.</span><span class="sxs-lookup"><span data-stu-id="ac29d-118">Commerce then copies the properties that are defined for the default customer to all new customer records that are created.</span></span> <span data-ttu-id="ac29d-119">Například dialogové okno **Vytvořit zákazníka** zobrazuje vlastnosti, které jsou zděděny od výchozího zákazníka, který je přidružen k obchodu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-119">For example, the **Create customer** dialog box shows properties that are inherited from the default customer that is associated with the store.</span></span> <span data-ttu-id="ac29d-120">Mezi tyto vlastnosti patří typ zákazníka, skupina zákazníků, předvolba účtenky, měna a jazyk.</span><span class="sxs-lookup"><span data-stu-id="ac29d-120">Those properties include the customer type, customer group, receipt preference, currency, and language.</span></span> <span data-ttu-id="ac29d-121">Jakékoli přidružení (seskupení zákazníků) se dědí také od výchozího zákazníka.</span><span class="sxs-lookup"><span data-stu-id="ac29d-121">Any affiliations (groupings of customers) are also inherited from the default customer.</span></span> <span data-ttu-id="ac29d-122">Finanční dimenze se však dědí ze skupiny zákazníků, která je přidružena k výchozímu zákazníkovi, nikoli od samotného výchozího zákazníka.</span><span class="sxs-lookup"><span data-stu-id="ac29d-122">However, financial dimensions are inherited from the customer group that is associated with the default customer, not from the default customer itself.</span></span>

<span data-ttu-id="ac29d-123">Prodejní spolupracovníci mohou pro zákazníka zachytit více adres.</span><span class="sxs-lookup"><span data-stu-id="ac29d-123">Sales associates can capture multiple addresses for a customer.</span></span> <span data-ttu-id="ac29d-124">Jméno a telefonní číslo zákazníka se dědí z kontaktních informací, které jsou spojeny s každou adresou.</span><span class="sxs-lookup"><span data-stu-id="ac29d-124">The customer's name and phone number are inherited from the contact information that is associated with each address.</span></span> <span data-ttu-id="ac29d-125">Karta s náhledem **Adresy** záznamu zákazníka obsahuje pole **Účel**, které mohou prodejní spolupracovníci upravit.</span><span class="sxs-lookup"><span data-stu-id="ac29d-125">The **Addresses** FastTab of a customer record includes a **Purpose** field that sales associates can edit.</span></span> <span data-ttu-id="ac29d-126">Pokud je typ zákazníka **Osoba**, výchozí hodnota je **Domov**.</span><span class="sxs-lookup"><span data-stu-id="ac29d-126">If the customer type is **Person**, the default value is **Home**.</span></span> <span data-ttu-id="ac29d-127">Pokud je typ zákazníka **Organizace**, výchozí hodnota je **Sídlo**.</span><span class="sxs-lookup"><span data-stu-id="ac29d-127">If the customer type is **Organization**, the default value is **Business**.</span></span> <span data-ttu-id="ac29d-128">Mezi další hodnoty, které toto pole podporuje, patří **Domov**, **Kancelář** a **Poštovní schránka**.</span><span class="sxs-lookup"><span data-stu-id="ac29d-128">Other values that this field supports include **Home**, **Office**, and **Post box**.</span></span> <span data-ttu-id="ac29d-129">Hodnota pole **Země** pro adresu je zděděna z primární adresy, která je uvedena na stránce **Provozní jednotka** stránka v centrále Commerce v nabídce **Správa organizace \> Organizace \> Provozní jednotky**.</span><span class="sxs-lookup"><span data-stu-id="ac29d-129">The value of the **Country** field for an address is inherited from the primary address that is specified on the **Operating unit** page in Commerce headquarters at **Organization administration \> Organizations \> Operating units**.</span></span>

## <a name="sync-customers-and-async-customers"></a><span data-ttu-id="ac29d-130">Synchronní zákazníci a asynchronní zákazníci</span><span class="sxs-lookup"><span data-stu-id="ac29d-130">Sync customers and Async customers</span></span>

<span data-ttu-id="ac29d-131">V Commerce existují dva režimy vytváření zákazníků: Synchronní (nebo Sync) a Asynchronní (nebo Async).</span><span class="sxs-lookup"><span data-stu-id="ac29d-131">In Commerce, there are two modes of customer creation: Synchronous (or Sync) and Asynchronous (or Async).</span></span> <span data-ttu-id="ac29d-132">Ve výchozím nastavení jsou zákazníci vytvářeni synchronně.</span><span class="sxs-lookup"><span data-stu-id="ac29d-132">By default, customers are created synchronously.</span></span> <span data-ttu-id="ac29d-133">Jinými slovy jsou vytvářeni v ústředí Commerce v reálném čase.</span><span class="sxs-lookup"><span data-stu-id="ac29d-133">In other words, they are created in Commerce headquarters in real time.</span></span> <span data-ttu-id="ac29d-134">Režim vytváření zákazníků Sync je výhodný, protože noví zákazníci jsou okamžitě prohledatelní napříč kanály.</span><span class="sxs-lookup"><span data-stu-id="ac29d-134">The Sync customer creation mode is beneficial because new customers are immediately searchable across channels.</span></span> <span data-ttu-id="ac29d-135">Má to však také nevýhodu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-135">However, it also has a drawback.</span></span> <span data-ttu-id="ac29d-136">Protože to generuje volání [Commerce Data Exchange: služba v reálném čase](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) volání do centrály Commerce, výkon může být ovlivněn, pokud se uskuteční mnoho souběžných volání vytváření zákazníků.</span><span class="sxs-lookup"><span data-stu-id="ac29d-136">Because it generates [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) calls to Commerce headquarters, performance can be affected if many concurrent customer creation calls are made.</span></span>

<span data-ttu-id="ac29d-137">Pokud je možnost **Vytvořit zákazníka v asynchronním režimu** je nastavena na **Ano** v profilu funkce obchodu (**Retail a Commerce \> Nastavení kanálu \> Nastavení internetového obchodu \> Profily funkčnosti**), volání služby v reálném čase se nepoužívají k vytváření záznamů o zákaznících v databázi kanálů.</span><span class="sxs-lookup"><span data-stu-id="ac29d-137">If the **Create customer in async mode** option is set to **Yes** in the store's functionality profile (**Retail and Commerce \> Channel setup \> Online store setup \> Functionality profiles**), Real-time Service calls aren't used to create customer records in the channel database.</span></span> <span data-ttu-id="ac29d-138">Režim vytváření asynchronních zákazníků nemá vliv na výkon centrály Commerce.</span><span class="sxs-lookup"><span data-stu-id="ac29d-138">The Async customer creation mode doesn't affect the performance of Commerce headquarters.</span></span> <span data-ttu-id="ac29d-139">Každému novému záznamu zákazníka Async je přiřazen dočasný globálně jedinečný identifikátor (GUID), který se použije jako ID zákaznického účtu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-139">A temporary globally unique identifier (GUID) is assigned to every new Async customer record and used as the customer account ID.</span></span> <span data-ttu-id="ac29d-140">Tento identifikátor GUID se uživatelům POS nezobrazuje.</span><span class="sxs-lookup"><span data-stu-id="ac29d-140">This GUID isn't shown to POS users.</span></span> <span data-ttu-id="ac29d-141">Místo toho se těmto uživatelům zobrazí **Čeká se na synchronizaci** jako ID zákaznického účtu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-141">Instead, those users will see **Pending sync** as the customer account ID.</span></span> <span data-ttu-id="ac29d-142">Ačkoli tato konfigurace nutí zákazníky, aby byli vytvářeni asynchronně, mějte na paměti, že úpravy záznamů zákazníků se vždy provádějí synchronně.</span><span class="sxs-lookup"><span data-stu-id="ac29d-142">Although this configuration forces customers to be created asynchronously, note that edits to customer records are always done synchronously.</span></span>

### <a name="convert-async-customers-to-sync-customers"></a><span data-ttu-id="ac29d-143">Převedení asynchronních zákazníků na synchronní zákazníky</span><span class="sxs-lookup"><span data-stu-id="ac29d-143">Convert Async customers to Sync customers</span></span>

<span data-ttu-id="ac29d-144">Chcete-li převést zákazníky Async na zákazníky Sync, musíte nejprve spustit P-úlohu a odeslat zákazníky Async do centrály Commerce.</span><span class="sxs-lookup"><span data-stu-id="ac29d-144">To convert Async customers to Sync customers, you must first run the P-job to send the Async customers to Commerce headquarters.</span></span> <span data-ttu-id="ac29d-145">Poté spusťte úlohu **Synchronizovat zákazníky a obchodní partnery z asynchronního režimu** k vytvoření ID zákaznického účtu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-145">Then run the **Synchronize customers and business partners from async mode** job to create customer account IDs.</span></span> <span data-ttu-id="ac29d-146">Nakonec spusťte úlohu **1010** k synchronizaci nových ID zákaznických účtů s kanály.</span><span class="sxs-lookup"><span data-stu-id="ac29d-146">Finally, run the **1010** job to sync the new customer account IDs to the channels.</span></span>

### <a name="async-customer-limitations"></a><span data-ttu-id="ac29d-147">Omezení asynchronních zákazníků</span><span class="sxs-lookup"><span data-stu-id="ac29d-147">Async customer limitations</span></span>

<span data-ttu-id="ac29d-148">Funkce asynchronních zákazníků má v současné době následující omezení:</span><span class="sxs-lookup"><span data-stu-id="ac29d-148">The Async customer functionality currently has the following limitations:</span></span>

- <span data-ttu-id="ac29d-149">Asynchronní záznamy o zákaznících nelze upravovat, pokud nebyl zákazník vytvořen v ústředí Commerce a nové ID zákaznického účtu nebylo synchronizováno zpět do kanálu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-149">Async customer records can't be edited unless the customer has been created in Commerce headquarters and the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="ac29d-150">Přidružení nelze spojit se zákazníky Async.</span><span class="sxs-lookup"><span data-stu-id="ac29d-150">Affiliations can't be associated with Async customers.</span></span> <span data-ttu-id="ac29d-151">Proto noví zákazníci Async nezdědí přidružení od výchozího zákazníka.</span><span class="sxs-lookup"><span data-stu-id="ac29d-151">Therefore, new Async customers don't inherit affiliations from the default customer.</span></span>
- <span data-ttu-id="ac29d-152">Věrnostní karty nelze vydat zákazníkům Async, pokud nebylo nové ID zákaznického účtu synchronizováno zpět do kanálu.</span><span class="sxs-lookup"><span data-stu-id="ac29d-152">Loyalty cards can't be issued to Async customers unless the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="ac29d-153">Sekundární e-mailové adresy a telefonní čísla nelze pro zákazníky Async zachytit.</span><span class="sxs-lookup"><span data-stu-id="ac29d-153">Secondary email addresses and phone numbers can't be captured for Async customers.</span></span>

### <a name="customer-creation-in-pos-offline-mode"></a><span data-ttu-id="ac29d-154">Vytváření zákazníka v offline režimu POS</span><span class="sxs-lookup"><span data-stu-id="ac29d-154">Customer creation in POS offline mode</span></span>

<span data-ttu-id="ac29d-155">Pokud POS přejde do režimu offline, zatímco je povolen režim vytváření asynchronních zákazníků, nové záznamy zákazníků se vytvářejí asynchronně.</span><span class="sxs-lookup"><span data-stu-id="ac29d-155">If the POS goes offline while the Async customer creation mode is enabled, new customer records are created asynchronously.</span></span> <span data-ttu-id="ac29d-156">Pokud POS přejde do režimu offline, když je deaktivován režim vytváření zákazníků Async, systém se automaticky přepne do režimu vytváření zákazníků Async.</span><span class="sxs-lookup"><span data-stu-id="ac29d-156">If the POS goes offline while the Async customer creation mode is disabled, the system automatically switches to the Async customer creation mode.</span></span> <span data-ttu-id="ac29d-157">Jinými slovy záznamy zákazníka mohou být vytvořeny asynchronně, i když je režim vytváření asynchronních zákazníků deaktivován.</span><span class="sxs-lookup"><span data-stu-id="ac29d-157">In other words, customer records might be created asynchronously even if the Async customer creation mode is disabled.</span></span> <span data-ttu-id="ac29d-158">Proto musí správci centrály Commerce vytvořit a naplánovat opakovanou dávkovou úlohu pro P-úlohu **Synchronizovat zákazníky a obchodní partnery z asynchronního režimu** a úlohu **1010**, aby byli všichni zákazníci Async převedeni na zákazníky Sync v centrále Commerce.</span><span class="sxs-lookup"><span data-stu-id="ac29d-158">Therefore, Commerce headquarters administrators must create and schedule a recurring batch job for the P-job, the **Synchronize customers and business partners from async mode** job, and the **1010** job, so that any Async customers are converted to Sync customers in Commerce headquarters.</span></span>

> [!NOTE]
> <span data-ttu-id="ac29d-159">Pokud je možnost **Filtrovat sdílené tabulky údajů o zákaznících** nastavena na **Ano** na stránce **Schéma obchodního kanálu** (**Retail a Commerce \> Nastavení Commerce \> Plánovač Commerce \> Skupina databáze kanálů**), záznamy zákazníků se nevytvářejí v režimu offline POS.</span><span class="sxs-lookup"><span data-stu-id="ac29d-159">If the **Filter shared customer data tables** option is set to **Yes** on the **Commerce channel schema** page (**Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**), customer records aren't created in POS offline mode.</span></span> <span data-ttu-id="ac29d-160">Další informace viz [Vyloučení dat offline](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span><span class="sxs-lookup"><span data-stu-id="ac29d-160">For more information, see [Offline data exclusion](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ac29d-161">Další prostředky</span><span class="sxs-lookup"><span data-stu-id="ac29d-161">Additional resources</span></span>

[<span data-ttu-id="ac29d-162">Atributy odběratele</span><span class="sxs-lookup"><span data-stu-id="ac29d-162">Customer attributes</span></span>](dev-itpro/customer-attributes.md)

[<span data-ttu-id="ac29d-163">Vyloučení dat offline</span><span class="sxs-lookup"><span data-stu-id="ac29d-163">Offline data exclusion</span></span>](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
