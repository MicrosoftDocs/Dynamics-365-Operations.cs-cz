---
title: Distribuovaná správa objednávek (DOM)
description: Toto téma popisuje funkcionalitu distribuované správy objednávek v aplikaci Dynamics 365 Commerce.
author: josaw1
ms.date: 01/08/2021
ms.topic: index-page
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2018-11-15
ms.dyn365.ops.version: ''
ms.openlocfilehash: f50bc2828df19062a6bdced6faaa7b4d66c38bed
ms.sourcegitcommit: 3cdc42346bb653c13ab33a7142dbb7969f1f6dda
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/31/2021
ms.locfileid: "5792768"
---
# <a name="distributed-order-management-dom"></a><span data-ttu-id="b6bf8-103">Distribuovaná správa objednávek (DOM)</span><span class="sxs-lookup"><span data-stu-id="b6bf8-103">Distributed order management (DOM)</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="b6bf8-104">V novém modelu pro obchodní operace se maloobchodníci snaží poskytovat personalizované zapojení zákazníků, omnikanálové zkušenosti a vzájemnou bezproblémovou interakci.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-104">In the new paradigm for commerce operations, retailers strive to provide personalized customer engagement, omni-channel experiences, and frictionless interactions.</span></span> <span data-ttu-id="b6bf8-105">Protože je k dispozici tolik voleb, spotřebitelé budou nakupovat tam, kde mají jen tu nejlepší zkušenost.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-105">Because so many choices are available, consumers will shop wherever they can have the most favorable experience.</span></span> <span data-ttu-id="b6bf8-106">V mnoha případech již nejsou ceny a produkty pro spotřebitele rozhodujícími faktory.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-106">In many cases, prices and products are no longer the top deciding factors for consumers.</span></span>

<span data-ttu-id="b6bf8-107">Aby mohli maloobchodní prodejci zlepšit zákaznickou zkušenost, musí mít viditelnost svých zásob v reálném čase napříč všemi svými kanály.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-107">To help improve the customer experience, retailers must have visibility into their inventory in real time, across all their channels.</span></span> <span data-ttu-id="b6bf8-108">Jediný holistický pohled na všechny zásoby může pomoci optimalizovat plnění objednávek, přidělování a distribuci.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-108">A single, holistic view of all the inventory can help optimize order fulfillment, allocation, and distribution.</span></span> <span data-ttu-id="b6bf8-109">Přijetí a implementace systému distribuované správy objednávek se proto stává pro maloobchodníky stále důležitější.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-109">Therefore, adoption and implementation of a distributed order management (DOM) system are becoming more imperative for retailers.</span></span>

<span data-ttu-id="b6bf8-110">Distribuovaná správa objednávek optimalizuje plnění objednávek v rámci komplexní sítě systémů a procesů.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-110">DOM optimizes order fulfillment across a complex network of systems and processes.</span></span> <span data-ttu-id="b6bf8-111">Spočívá v jediném, globálním pohledu na zásoby v celé organizaci za účelem chytré správy objednávek tak, aby byly plněny přesně a nákladově efektivnějším způsobem.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-111">It relies on a single, global view of inventory across the whole organization to intelligently manage orders, so that they are fulfilled accurately and in a more cost-effective manner.</span></span> <span data-ttu-id="b6bf8-112">Zlepšením efektivnosti dodavatelského řetězce maloobchodníků pomáhá distribuovaná správa objednávek prodejci lépe vyhovět očekáváním zákazníků.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-112">By improving the efficiency of a retailer's supply chain, DOM helps the retailer better meet customer expectations.</span></span>

<span data-ttu-id="b6bf8-113">Následující příklad ilustruje životní cyklus prodejní objednávky v systému distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-113">The following illustration shows the lifecycle of a sales order in a DOM system.</span></span>

<span data-ttu-id="b6bf8-114">![Životní cyklus prodejní objednávky v kontextu DOM](./media/flow.png "Životní cyklus prodejní objednávky v kontextu distribuované správy objednávek")</span><span class="sxs-lookup"><span data-stu-id="b6bf8-114">![Sales order lifecycle in the context of DOM](./media/flow.png "Sales order lifecycle in the context of DOM")</span></span>

## <a name="set-up-dom"></a><span data-ttu-id="b6bf8-115">Nastavit DOM</span><span class="sxs-lookup"><span data-stu-id="b6bf8-115">Set up DOM</span></span>

1. <span data-ttu-id="b6bf8-116">Přejděte do nabídky **Správa systému \> Nastavení \> Konfigurace licence**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-116">Go to **System administration \> Setup \> License configuration**.</span></span>
2. <span data-ttu-id="b6bf8-117">Na kartě **Konfigurační klíče** rozbalte uzel **Commerce** a poté vyberte zaškrtávací políčko **Distribuovaná správa objednávek**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-117">On the **Configuration keys** tab, expand the **Commerce** node, and then select the **Distributed Order Management** check box.</span></span>
3. <span data-ttu-id="b6bf8-118">Přejděte na **Retail a Commerce \> Distribuovaná správa objednávek \> Nastavení \> Parametry distribuované správy objednávek**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-118">Go to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
4. <span data-ttu-id="b6bf8-119">Na kartě **Obecné** natavte následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-119">On the **General** tab, set the following values:</span></span>

    - <span data-ttu-id="b6bf8-120">**Povolit distribuovanou správu objednávek** – Nastavte tuto možnost **Ano**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-120">**Enable distributed order management** – Set this option to **Yes**.</span></span>
    - <span data-ttu-id="b6bf8-121">**Potvrdit použití map Bing pro distribuovanou správu objednávek** – Nastavte tuto možnost na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-121">**Confirm Bing Maps usage for DOM** – Set this option to **Yes**.</span></span>


        > [!NOTE]
        > <span data-ttu-id="b6bf8-122">Tuto možnost můžete nastavit na **Ano** pouze tehdy, pokud je na stránce **Sdílené parametry Commerce** (**Retail a Commerce \> Nastavení centrály \> Parametry \> Sdílené parametry Commerce**) na kartě **Mapy Bing** nastavena možnost **Povolit mapy Bing** také na **Ano** a pokud byl zadán platný klíč do pole **Klíč map Bing**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-122">You can set this option to **Yes** only if the **Enable Bing Maps** option on the **Bing Maps** tab of the **Commerce shared parameters** page (**Retail and Commerce \> Headquarters setup \> Parameters \> Commerce shared parameters**) is also set to **Yes**, and if a valid key is entered in the **Bing Maps key** field.</span></span>
        >
        > <span data-ttu-id="b6bf8-123">Portál [Bing Maps Dev Center](https://www.bingmapsportal.com/) umožňuje omezit přístup k vašim klíčům rozhraní API pro mapy Bing na sadu domén, které zadáte.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-123">The [Bing Maps Dev Center](https://www.bingmapsportal.com/) portal allows you to restrict access on your Bing Maps API keys to a set of domains that you specify.</span></span> <span data-ttu-id="b6bf8-124">Tato funkce umožňuje odběratelům definovat striktní sadu hodnot odkazujícího nebo rozsahů IP adres, podle kterých bude klíč ověřen.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-124">With this feature, customers can define a strict set of referrer values or IP address ranges that the key will be validated against.</span></span> <span data-ttu-id="b6bf8-125">Žádosti ze seznamu povolených položek budou normálně zpracovány, zatímco žádosti mimo seznam vrátí odpověď Přístup odepřen.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-125">Requests originating from your allow list will process normally, while requests from outside of your list will return an access denied response.</span></span> <span data-ttu-id="b6bf8-126">Přidání zabezpečení domény do klíče rozhraní API je volitelné a klíče ponechané v původním stavu budou i nadále funkční.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-126">Adding domain security to your API key is optional and keys left as-is will continue to function.</span></span> <span data-ttu-id="b6bf8-127">Seznam povolených položek pro klíč je nezávislý na všech ostatních klíčích, takže pro každý z vašich klíčů můžete stanovit odlišná pravidla.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-127">The allow list for a key is independent from all of your other keys, enabling you to have distinct rules for each of your keys.</span></span> <span data-ttu-id="b6bf8-128">Distribuovaná správa objednávek nepodporuje nastavení vlastností odkazujících na doménu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-128">Distributed Order Management does not support the setting up of domain-referred properties.</span></span>


    - <span data-ttu-id="b6bf8-129">**Doba uchovávání ve dnech** – Určete, jak dlouho budou v systému uchovány plány, které jsou generovány spuštěním distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-129">**Retention period in days** – Specify how long the fulfillment plans that DOM runs generate are kept in the system.</span></span> <span data-ttu-id="b6bf8-130">Dávková úloha **Nastavení úlohy odstranění dat plnění DOM** odstraní všechny plány plnění, které jsou starší než počet dní, které zde zadáte.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-130">The **DOM fulfillment data deletion job setup** batch job will delete any fulfillment plan that is older than the number of days that you specify here.</span></span>
    - <span data-ttu-id="b6bf8-131">**Období zamítnutí (v dnech)** – Určete, kolik musí uplynout času, než může být přiřazen zamítnutý řádek objednávky ke stejnému místu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-131">**Rejection period (in days)** – Specify how much time must pass before a rejected order line can be assigned to the same location.</span></span>

5. <span data-ttu-id="b6bf8-132">Na kartě **Řešitel** natavte následující hodnoty:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-132">On the **Solver** tab, set the following values:</span></span>

    - <span data-ttu-id="b6bf8-133">**Maximální počet pokusů automatického plnění** – Určete, kolikrát se modul distribuované správy objednávek pokusí zprostředkovat řádek objednávky do místa.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-133">**Max auto-fulfillment attempts** – Specify how many times the DOM engine will try to broker an order line to a location.</span></span> <span data-ttu-id="b6bf8-134">Pokud nemůže modul distribuované správy objednávek zprostředkovat řádek objednávky do místa v určeném množství pokusů, označí řádek objednávky jako výjimku.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-134">If the DOM engine can't broker an order line to a location in the specified number of attempts, it will flag the order line as an exception.</span></span> <span data-ttu-id="b6bf8-135">Poté přeskočí tento řádek při dalších spuštěních, dokud nebude stav resetován ručně.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-135">It will then skip that line in future runs until the status is manually reset.</span></span>
    - <span data-ttu-id="b6bf8-136">**Rádius oblasti místního obchodu** – Zadejte hodnotu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-136">**Local store region radius** – Enter a value.</span></span> <span data-ttu-id="b6bf8-137">Toto pole pomáhá určit, jakým způsobem jsou místa seskupena a považována za stejná, pokud jde o vzdálenost.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-137">This field helps determine how locations are grouped and considered equal in terms of distance.</span></span> <span data-ttu-id="b6bf8-138">Pokud například zadáte **100**, každý obchod nebo distribuční centrum v okruhu 100 km adresy plnění bude považován za rovnocenný, co se týká vzdálenosti.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-138">For example, if you enter **100**, every store or distribution center within a 100-mile radius of the fulfillment address is considered equal in terms of distance.</span></span>
    - <span data-ttu-id="b6bf8-139">**Typ řešitele** - Vyberte typ hodnoty.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-139">**Solver type** – Select a value.</span></span> <span data-ttu-id="b6bf8-140">S aplikací Commerce jsou vydány dva typy řešitelů: **Řešitel výroby** a **Zjednodušitelný řešitel**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-140">Two solver types are released with Commerce: **Production Solver** and **Simplified Solver**.</span></span> <span data-ttu-id="b6bf8-141">Pro všechna zařízení, která budou spouštět distribuovanou správu objednávek (to znamená všechny servery, které jsou součástí skupiny DOMBatch), musí být zvolen **Řešitel výroby**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-141">For all machines that will run DOM (that is, all servers that are part of the DOMBatch group), **Production Solver** must be selected.</span></span> <span data-ttu-id="b6bf8-142">Řešitel výroby vyžaduje speciální licenční klíč, který je ve výchozím nastavení licencován a nasazován v produkčních prostředích.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-142">The Production Solver requires the special license key that, by default, is licensed and deployed in production environments.</span></span> <span data-ttu-id="b6bf8-143">U neprodukčních prostředí je třeba tento licenční klíč nasadit ručně.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-143">For non-production environments, this license key must be manually deployed.</span></span> <span data-ttu-id="b6bf8-144">Pokud chcete nasadit licenční klíč ručně, postupujte takto:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-144">To manually deploy the license key, follow these steps:</span></span>

        1. <span data-ttu-id="b6bf8-145">Ve službě Microsoft Dynamics Lifecycle Services otevřete knihovnu sdíleného majetku, zvolte **Model** jako typ majetku a stáhněte soubor **DOM license**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-145">In Microsoft Dynamics Lifecycle Services, open the Shared asset library, select **Model** as the asset type, and download the **DOM license** file.</span></span>
        1. <span data-ttu-id="b6bf8-146">Spusťte správce internetové informační služby společnosti Microsoft, klikněte pravým tlačítkem na **Web AOSService** a poté zvolte **Prozkoumat**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-146">Start Microsoft Internet Information Services (IIS) Manager, right-click **AOSService website**, and then select **Explore**.</span></span> <span data-ttu-id="b6bf8-147">Otevře se okno průzkumníka Windows na **\<AOS service root\>\\webroot**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-147">A Windows Explorer window is opened at **\<AOS service root\>\\webroot**.</span></span> <span data-ttu-id="b6bf8-148">Poznamenejte si cestu \<AOS Service root\>, protože ji budete muset použít v dalším kroku.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-148">Make a note of the \<AOS Service root\> path, because you will use it in the next step.</span></span>
        1. <span data-ttu-id="b6bf8-149">Zkopírujte konfigurační soubor do adresáře **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-149">Copy the configuration file in the **\<AOS Service root\>\\PackagesLocalDirectory\\DOM\\bin** directory.</span></span>
        1. <span data-ttu-id="b6bf8-150">Přejděte do klienta Headquarters a otevřete stránku **Parametry distribuované správy objednávek**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-150">Go to the Headquarters client, and open the **DOM parameters** page.</span></span> <span data-ttu-id="b6bf8-151">Na kartě **Řešitel** v poli **Typ řešitele** zvolte **Řešitel výroby** a potvrďte, že se nezobrazily žádné chybové zprávy.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-151">On the **Solver** tab, in the **Solver type** field, select **Production solver**, and confirm that no error messages appear.</span></span>


        > [!NOTE]
        > <span data-ttu-id="b6bf8-152">Zjednodušený řešitel je poskytnut proto, aby maloobchodníci mohli vyzkoušet funkci distribuované správy objednávek bez nasazení speciální licence.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-152">The Simplified Solver is provided so that retailers can try out the DOM feature without having to deploy the special license.</span></span> <span data-ttu-id="b6bf8-153">Organizace by neměly používat zjednodušeného řešitele v provozních prostředích.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-153">Organizations should not use the Simplified Solver in production environments.</span></span>
        >
        > <span data-ttu-id="b6bf8-154">Řešitel výroby zlepšuje výkon (například počet objednávek a řádků objednávek, které lze zpracovat při jednom spuštění) a konvergenci výsledků (jelikož dávka objednávek nemusí v některých scénářích vytěžit nejlepší výsledky).</span><span class="sxs-lookup"><span data-stu-id="b6bf8-154">The Production Solver improves performance (such as the number of orders and order lines that can be handled in a run) and convergence of results (since a batch of orders might not yield the best result in some scenarios).</span></span> <span data-ttu-id="b6bf8-155">Řešitele výroby vyžadují některá pravidla, například **Částečné objednávky** nebo **Maximální počet míst**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-155">Some rules like the **Partial orders** rule and the **Maximum number of locations** rule require Production Solver.</span></span>
     
6. <span data-ttu-id="b6bf8-156">Přejděte zpět na **Retail a Commerce \> Distribuovaná správa objednávek \> Nastavení \> Parametry distribuované správy objednávek**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-156">Go back to **Retail and Commerce \> Distributed order management \> Setup \> DOM parameters**.</span></span>
7. <span data-ttu-id="b6bf8-157">Na kartě **Číselné řady** přiřaďte požadované číselné řady různým entitám distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-157">On the **Number sequences** tab, assign the required number sequences to the various DOM entities.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b6bf8-158">Než mohou být číselné řady přiřazené entitám, musí být definovány na stránce **Číselné řady** (**Správa organizace \> Číselné řady \> Číselné řady**).</span><span class="sxs-lookup"><span data-stu-id="b6bf8-158">Before the number sequences can be assigned to the entities, they must be defined on the **Number sequences** page (**Organization administration \> Number sequences \> Number sequences**).</span></span>

8. <span data-ttu-id="b6bf8-159">Funkce distribuované správy objednávek podporuje definici různé typy pravidel distribuované správy objednávek a organizace mohou konfigurovat mnoho pravidel, v závislosti na svých obchodních potřebách.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-159">The DOM feature supports the definition of various types of DOM rules, and organizations can configure multiple rules, depending on their business needs.</span></span> <span data-ttu-id="b6bf8-160">Pravidla distribuované správy objednávek lze definovat pro skupinu míst nebo individuální místa, a pro specifickou kategorii produktu, produkt nebo variantu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-160">DOM rules can be defined for a group of locations or individual locations, and for a specific product category, product, or variant.</span></span> <span data-ttu-id="b6bf8-161">Chcete-li vytvořit seskupení míst, která se musí použít pro pravidla distribuované správy objednávek, postupujte podle těchto kroků:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-161">To create the grouping of locations that must be used for the DOM rules, follow these steps:</span></span>

    1. <span data-ttu-id="b6bf8-162">Přejděte na **Retail a Commerce \> Nastavení kanálu \> Skupiny plnění**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-162">Go to **Retail and Commerce \> Channel setup \> Fulfillment groups**.</span></span>
    2. <span data-ttu-id="b6bf8-163">Zvolte **Nová** a zadejte název a popis nové skupiny.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-163">Select **New**, and enter a name and description for the new group.</span></span>
    3. <span data-ttu-id="b6bf8-164">Zvolte **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-164">Select **Save**.</span></span>
    4. <span data-ttu-id="b6bf8-165">Zvolte **Přidat řádek** a přidejte ke skupině jedno místo.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-165">Select **Add line** to add a single location to the group.</span></span> <span data-ttu-id="b6bf8-166">Popřípadě zvolte **Přidat řádky** a přidejte více míst.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-166">Alternatively, select **Add lines** to add multiple locations.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="b6bf8-167">Ve verzi Commerce 10.0.12 musí být povolena volba **Možnost specifikovat místa jako „Expedice“ nebo „Výdej“ povolena ve skupině plnění** v pracovním prostoru **Správa funkcí**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-167">In Commerce version 10.0.12 and higher, **Ability to specify locations as 'Shipping' or 'Pickup' enabled within Fulfillment group** must be enabled in the **Feature Management** workspace.</span></span>
    >
    > <span data-ttu-id="b6bf8-168">Tato funkce přidává nové konfigurace na stránce **Skupina plnění**, takže můžete definovat, zda lze sklad použít pro expedici, nebo zda lze kombinaci sklad/obchod použít pro expedici, výdej nebo obojí.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-168">This feature add new configurations on the **Fulfillment group** page so you can define if the warehouse can be used for shipping or if the warehouse/store combination can be used for shipping, pickup, or both.</span></span> 
    >
    > <span data-ttu-id="b6bf8-169">Pokud tuto funkci povolíte, možnosti dostupné pro výběr umístění při vytváření objednávek výdeje nebo expedice v POS budou aktualizovány.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-169">If you enable the feature, the options available for location selection when you create pickup or shipment orders in POS will be updated.</span></span>
    >
    > <span data-ttu-id="b6bf8-170">Povolení funkce také vede k aktualizaci stránek v POS, když jsou vybrány operace „expedovat vše“ nebo „expedovat vybrané“.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-170">Enabling the feature also results in updated pages in POS when the "ship all" or "ship selected" operations are selected.</span></span>

9. <span data-ttu-id="b6bf8-171">Chcete-li definovat pravidla, přejděte na **Retail a Commerce \> Distribuovaná správa objednávek \> Nastavení \> Spravovat pravidla**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-171">To define rules, go to **Retail and Commerce \> Distributed order management \> Setup \> Manage rules**.</span></span> <span data-ttu-id="b6bf8-172">Jsou podporována následující pravidla distribuované správy objednávek:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-172">The following DOM rules are currently supported:</span></span>

    - <span data-ttu-id="b6bf8-173">**Pravidlo skladového minima** – Tento typ pravidla umožňuje organizacím vyčlenit konkrétní množství produktu pro účely jiné než plnění objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-173">**Minimum inventory rule** – This rule type lets organizations "ring fence" a specific quantity of a product for purposes other than order fulfillment.</span></span> <span data-ttu-id="b6bf8-174">Například organizace nemusí chtít, aby distribuovaná správa objednávek zvažovala všechny zásoby dostupné v obchodě pro plnění objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-174">For example, organizations might not want DOM to consider all the inventory that is available in a store for order fulfillment.</span></span> <span data-ttu-id="b6bf8-175">Místo toho mohou chtít rezervovat některé zásoby pro příchozí zákazníky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-175">Instead, they might want to reserve some inventory for walk-in customers.</span></span> <span data-ttu-id="b6bf8-176">Při použití tohoto typu pravidla můžete definovat minimální zásoby, které mají být zachovány, pro kategorii produktů, jednotlivý produkt nebo produktovou variantu podle místa nebo skupiny míst.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-176">When this rule type is used, you can define the minimum inventory to keep for a category of products, an individual product, or a product variant per location or group of locations.</span></span>
    - <span data-ttu-id="b6bf8-177">**Pravidlo priority místa plnění** – Tento typ pravidla umožňuje organizacím definovat hierarchii míst pro zřízení priority, kterou modul distribuované správy objednávek zvažuje při pokusu o identifikaci míst plnění pro specifické produkty.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-177">**Fulfillment location priority rule** – This rule type lets organizations define a hierarchy of locations to establish the priority that the DOM engine considers when it tries to identify fulfillment locations for specific products.</span></span> <span data-ttu-id="b6bf8-178">Platný rozsah priorit je 1 až 10, kde 1 je nejvyšší prioritou a 10 je nejnižší priorita.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-178">The valid range of priorities is 1 through 10, where 1 is the highest priority and 10 is the lowest priority.</span></span> <span data-ttu-id="b6bf8-179">Místa, která mají vyšší prioritu, jsou zvažována dříve než místa s nižší prioritou.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-179">Locations that have higher priority are considered before locations that have lower priority.</span></span> <span data-ttu-id="b6bf8-180">Pokud je pravidlo definováno jako vážné omezení, objednávky jsou zprostředkovány pouze na místa, pro která jsou definovány priority.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-180">If the rule is defined as a hard constraint rule, orders are brokered only to locations that priorities are defined for.</span></span>
    - <span data-ttu-id="b6bf8-181">**Pravidlo částečných objednávek** – Toto pravidlo umožňuje organizacím definovat, zda lze objednávku nebo řádky objednávek splnit částečně.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-181">**Partial orders rule** – This rule lets organizations define whether an order or order lines can be partially fulfilled.</span></span> <span data-ttu-id="b6bf8-182">K dispozici jsou následující parametry:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-182">The following parameters are available:</span></span>

        - <span data-ttu-id="b6bf8-183">**Plnit částečné objednávky?**</span><span class="sxs-lookup"><span data-stu-id="b6bf8-183">**Fulfill partial orders?**</span></span> <span data-ttu-id="b6bf8-184">– Pokud je tato možnost nastavena na **Ano**, distribuovaná správa objednávek může plnit pouze část množství na řádku objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-184">– If this option is set to **Yes**, DOM can fulfill only part of the quantity on an order line.</span></span> <span data-ttu-id="b6bf8-185">Toto částečné plnění je dosaženo rozdělením řádku objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-185">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="b6bf8-186">**Plnit částečné řádky?**</span><span class="sxs-lookup"><span data-stu-id="b6bf8-186">**Fulfill partial lines?**</span></span> <span data-ttu-id="b6bf8-187">– Pokud je tato možnost nastavena na **Ano**, distribuovaná správa objednávek může plnit částečné množství řádků objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-187">– If this option is set to **Yes**, DOM can fulfill a partial quantity of order lines.</span></span> <span data-ttu-id="b6bf8-188">Toto částečné plnění je dosaženo rozdělením řádku objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-188">This partial fulfillment is achieved by splitting the order line.</span></span>
        - <span data-ttu-id="b6bf8-189">**Plnit objednávku pouze z jednoho místa** – Pokud je tato možnost nastavena na **Ano**, distribuovaná správa objednávek se ujistí, že všechny řádky na objednávce jsou plněny z jednoho místa.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-189">**Fulfill order from one location only** – If this option is set to **Yes**, DOM makes sure that all lines on an order are fulfilled from a single location.</span></span>


        <span data-ttu-id="b6bf8-190">V následující tabulce je vysvětleno chování, kdy je definována kombinace těchto parametrů.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-190">The following table explains the behavior when a combination of these parameters is defined.</span></span>

        | <span data-ttu-id="b6bf8-191">Číslo kombinace</span><span class="sxs-lookup"><span data-stu-id="b6bf8-191">Combination number</span></span> | <span data-ttu-id="b6bf8-192">Plnění částečných objednávek</span><span class="sxs-lookup"><span data-stu-id="b6bf8-192">Fulfill partial orders</span></span> | <span data-ttu-id="b6bf8-193">Plnění částečných řádků</span><span class="sxs-lookup"><span data-stu-id="b6bf8-193">Fulfill partial lines</span></span> | <span data-ttu-id="b6bf8-194">Plnění objednávky pouze z jednoho místa</span><span class="sxs-lookup"><span data-stu-id="b6bf8-194">Fulfill order from one location only</span></span> | <span data-ttu-id="b6bf8-195">Popis</span><span class="sxs-lookup"><span data-stu-id="b6bf8-195">Description</span></span> |
        |------|------------------------|-----------------------|--------------------------------------|-------------|
        | <span data-ttu-id="b6bf8-196">1</span><span class="sxs-lookup"><span data-stu-id="b6bf8-196">1</span></span>    | <span data-ttu-id="b6bf8-197">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-197">Yes</span></span>                    | <span data-ttu-id="b6bf8-198">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-198">Yes</span></span>                   | <span data-ttu-id="b6bf8-199">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-199">Yes</span></span>                                  | <span data-ttu-id="b6bf8-200">Několik řádků objednávky lze plnit a jednotlivé řádky lze plnit částečně, ale všechny řádky musí být z jednoho místa v instanci spuštění distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-200">A few lines of the order can be fulfilled, and individual lines can be partially fulfilled, but all the lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="b6bf8-201">(Tato kombinace není momentálně podporována.)</span><span class="sxs-lookup"><span data-stu-id="b6bf8-201">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="b6bf8-202">2</span><span class="sxs-lookup"><span data-stu-id="b6bf8-202">2</span></span>    | <span data-ttu-id="b6bf8-203">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-203">Yes</span></span>                    | <span data-ttu-id="b6bf8-204">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-204">No</span></span>                    | <span data-ttu-id="b6bf8-205">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-205">Yes</span></span>                                  | <span data-ttu-id="b6bf8-206">Několik řádků objednávky lze plnit, ale jednotlivé řádky nelze plnit částečně, a všechny plněné řádky musí být z jednoho místa v instanci spuštění distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-206">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and all the fulfilled lines must be from the same location in an instance of the DOM run.</span></span> <span data-ttu-id="b6bf8-207">(Tato kombinace není momentálně podporována.)</span><span class="sxs-lookup"><span data-stu-id="b6bf8-207">(This combination isn't currently supported.)</span></span> |
        | <span data-ttu-id="b6bf8-208">3</span><span class="sxs-lookup"><span data-stu-id="b6bf8-208">3</span></span>    | <span data-ttu-id="b6bf8-209">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-209">Yes</span></span>                    | <span data-ttu-id="b6bf8-210">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-210">Yes</span></span>                   | <span data-ttu-id="b6bf8-211">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-211">No</span></span>                                   | <span data-ttu-id="b6bf8-212">Několik řádků objednávky lze plnit, jednotlivé řádky lze plnit částečně a každý řádek může být plněn z více než jednoho místa v instanci spuštění distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-212">A few lines of the order can be fulfilled, individual lines can be partially fulfilled, and each line can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="b6bf8-213">4\*</span><span class="sxs-lookup"><span data-stu-id="b6bf8-213">4\*</span></span>  | <span data-ttu-id="b6bf8-214">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-214">No</span></span>                     | <span data-ttu-id="b6bf8-215">Nelze použít</span><span class="sxs-lookup"><span data-stu-id="b6bf8-215">Not applicable</span></span>        | <span data-ttu-id="b6bf8-216">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-216">No</span></span>                                   | <span data-ttu-id="b6bf8-217">Všechny řádky objednávky musí být plněny, jednotlivé řádky nelze plnit částečně a každý řádek objednávky může být plněn z jiného místa.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-217">All order lines must be fulfilled, individual lines can't be partially fulfilled, and each order line can be fulfilled from a different location.</span></span> |
        | <span data-ttu-id="b6bf8-218">5\*</span><span class="sxs-lookup"><span data-stu-id="b6bf8-218">5\*</span></span>  | <span data-ttu-id="b6bf8-219">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-219">No</span></span>                     | <span data-ttu-id="b6bf8-220">Nelze použít</span><span class="sxs-lookup"><span data-stu-id="b6bf8-220">Not applicable</span></span>        | <span data-ttu-id="b6bf8-221">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-221">Yes</span></span>                                  | <span data-ttu-id="b6bf8-222">Všechny řádky objednávky musí být plněny, jednotlivé řádky nelze plnit částečně a všechny řádky objednávky lze doručit pouze z jednoho místa.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-222">All order lines must be fulfilled, individual lines can't be partially fulfilled, and all the order lines can be delivered from one location only.</span></span> |
        | <span data-ttu-id="b6bf8-223">6\*</span><span class="sxs-lookup"><span data-stu-id="b6bf8-223">6\*</span></span>  | <span data-ttu-id="b6bf8-224">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-224">No</span></span>                     | <span data-ttu-id="b6bf8-225">Nelze použít</span><span class="sxs-lookup"><span data-stu-id="b6bf8-225">Not applicable</span></span>        | <span data-ttu-id="b6bf8-226">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-226">No</span></span>                                   | <span data-ttu-id="b6bf8-227">Tato kombinace funguje stejně jako kombinace 4, protože možnost **Plnit částečné řádky** nelze nastavit na **Ano**, když je možnost **Plnit částečné objednávky** nastavena na **Ne**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-227">This combination works like combination 4, because **Fulfill partial lines** can't be set to **Yes** when **Fulfill partial orders** is set to **No**.</span></span> |
        | <span data-ttu-id="b6bf8-228">7\*</span><span class="sxs-lookup"><span data-stu-id="b6bf8-228">7\*</span></span>  | <span data-ttu-id="b6bf8-229">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-229">No</span></span>                     | <span data-ttu-id="b6bf8-230">Nelze použít</span><span class="sxs-lookup"><span data-stu-id="b6bf8-230">Not applicable</span></span>        | <span data-ttu-id="b6bf8-231">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-231">Yes</span></span>                                  | <span data-ttu-id="b6bf8-232">Tato kombinace funguje stejně jako kombinace 5, protože možnost **Plnit částečné řádky** nelze nastavit na **Ano**, když je možnost **Plnit částečné objednávky** nastavena na **Ne**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-232">This combination works like combination 5, because **Fulfill partial lines** can't be **Yes** when **Fulfill partial orders** is **No**.</span></span> |
        | <span data-ttu-id="b6bf8-233">8</span><span class="sxs-lookup"><span data-stu-id="b6bf8-233">8</span></span>    | <span data-ttu-id="b6bf8-234">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-234">Yes</span></span>                    | <span data-ttu-id="b6bf8-235">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-235">No</span></span>                    | <span data-ttu-id="b6bf8-236">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-236">No</span></span>                                   | <span data-ttu-id="b6bf8-237">Několik řádků objednávky lze plnit, ale jednotlivé řádky nelze plnit částečně a různé řádky objednávky mohou být plněny z více než jednoho místa v instanci spuštění distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-237">A few lines of the order can be fulfilled, but individual lines can't be partially fulfilled, and the various order lines can be fulfilled from more than one location in an instance of the DOM run.</span></span> |
        | <span data-ttu-id="b6bf8-238">9\*</span><span class="sxs-lookup"><span data-stu-id="b6bf8-238">9\*</span></span>  | <span data-ttu-id="b6bf8-239">Ne</span><span class="sxs-lookup"><span data-stu-id="b6bf8-239">No</span></span>                     | <span data-ttu-id="b6bf8-240">Nelze použít</span><span class="sxs-lookup"><span data-stu-id="b6bf8-240">Not applicable</span></span>        | <span data-ttu-id="b6bf8-241">Ano</span><span class="sxs-lookup"><span data-stu-id="b6bf8-241">Yes</span></span>                                  | <span data-ttu-id="b6bf8-242">Všechny řádky objednávky musí být plněny a všechny řádky objednávky musí být plněny pouze z jednoho místa.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-242">All order lines must be fulfilled, and all the order lines must be fulfilled from one location only.</span></span> |

        <span data-ttu-id="b6bf8-243">\* Pokud je možnost **Plnit částečné objednávky** nastavena na **Ne**, možnost **Plnit částečné řádky** je vždy považována za nastavenou na **Ne**, bez ohledu na to, jak je ve skutečnosti nastavena.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-243">\* If **Fulfill partial orders** is set to **No**, **Fulfill partial lines** is always considered to be set to **No**, regardless of how it's actually set.</span></span>

        > [!NOTE]
        > <span data-ttu-id="b6bf8-244">Ve verzi 10.0.5 aplikace Retail byl změněn parametr **Plnění objednávky pouze z jednoho místa** na **Maximální počet míst plnění**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-244">In Retail version 10.0.5, the parameter **Fulfill order from one location only** was changed to **Maximum fulfilling locations**.</span></span> <span data-ttu-id="b6bf8-245">Namísto toho, aby uživatel mohl konfigurovat, zda lze objednávky plnit pouze z jednoho místa nebo zda lze plnit z libovolného počtu skladových míst, mohou uživatelé nyní určit, zda má být plnění z dané sady míst (nejvýše 5) nebo z libovolného počtu míst.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-245">Instead of allowing a user to configure whether orders can be fulfilled from one location only or fulfilled from as many locations as it can be, users can now specify whether the fulfillment can be from a definite set of locations (up to 5) or from as many locations as it can be.</span></span> <span data-ttu-id="b6bf8-246">To poskytuje větší flexibilitu ohledně množství míst, odkud lze objednávku plnit.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-246">This provides more flexibility in terms of how many locations the order can be fulfilled from.</span></span> <span data-ttu-id="b6bf8-247">Toto pravidlo funguje pouze s řešitelem výroby.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-247">This rule only works with Production Solver.</span></span> 

   - <span data-ttu-id="b6bf8-248">**Pravidlo místa plnění offline** – Toto pravidlo umožňuje organizacím určit místo nebo skupinu míst jako offline nebo nedostupná pro distribuovanou správu objednávek, aby objednávky nemohly být přiřazeny k těmto místům kvůli plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-248">**Offline fulfillment location rule** – This rule lets organizations specify a location or group of locations as offline or unavailable to DOM, so that orders can't be assigned to those locations for fulfillment.</span></span>
    - <span data-ttu-id="b6bf8-249">**Pravidlo maximálního počtu zamítnutí** – Toto pravidlo umožňuje organizacím určit prahovou hodnotu zamítnutí.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-249">**Maximum rejects rule** – This rule lets organizations define a threshold for rejections.</span></span> <span data-ttu-id="b6bf8-250">Když je dosažena prahová hodnota, proces distribuované správy objednávek označí objednávku nebo řádek objednávky jako výjimku a vyloučí je z dalšího zpracování.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-250">When the threshold is reached, the DOM processor will mark an order or order line as an exception, and exclude it from further processing.</span></span>

        <span data-ttu-id="b6bf8-251">Poté, co jsou řádky objednávky přiřazeny k místu, místo může odmítnout přiřazená řádek objednávky, protože nemusí být schopno z nějakých důvodů plnit tento řádek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-251">After order lines are assigned to a location, the location can reject an assigned order line, because it might not be able to fulfill that line for some reasons.</span></span> <span data-ttu-id="b6bf8-252">Zamítnuté řádky jsou označené jako výjimka a vrácené zpět do skupiny pro zpracování v dalším spuštění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-252">Rejected lines are marked as an exception and put back into the pool for processing in the next run.</span></span> <span data-ttu-id="b6bf8-253">Během dalšího spuštění se distribuovaná správa objednávek pokusí přiřadit zamítnutý řádek k jinému místu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-253">During the next run, DOM will try to assign the rejected line to a different location.</span></span> <span data-ttu-id="b6bf8-254">Nové místo může rovněž zamítnout přiřazený řádek objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-254">The new location can also reject the assigned order line.</span></span> <span data-ttu-id="b6bf8-255">Tento cyklus přiřazení a zamítnutí se může přihodit několikrát.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-255">This cycle of assignment and rejection can occur multiple times.</span></span> <span data-ttu-id="b6bf8-256">Když počet zamítnutí dosáhne definované prahové hodnoty, distribuovaná správa objednávek označí řádek objednávky jako stálou výjimku a již znovu nevybere řádek pro přirazení.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-256">When the rejection count hits the threshold that is defined, DOM will mark the order line as a permanent exception and won't pick the line for assignment again.</span></span> <span data-ttu-id="b6bf8-257">Distribuovaná správa objednávek bude zvažovat řádek objednávky znovu pro opětovné přiřazení pouze tehdy, když uživatel ručně resetuje stav řádku objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-257">DOM will consider the order line again for reassignment only if a user manually resets the status of the order line.</span></span>

   - <span data-ttu-id="b6bf8-258">**Pravidlo maximální vzdálenosti** – Toto pravidlo umožňuje organizacím určit maximální vzdálenost, do které může být místo nebo skupina míst pro plnění objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-258">**Maximum distance rule** – This rule lets organizations define the maximum distance that a location or group of locations can be to fulfill the order.</span></span> <span data-ttu-id="b6bf8-259">Pokud jsou pro místo definována překrývající se pravidla maximální vzdálenosti. distribuovaná správa objednávek použije nejnižší maximální vzdálenost definovanou pro toto místo.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-259">If overlapping maximum distance rules are defined for a location, DOM will apply the lowest maximum distance that is defined for that location.</span></span>
    - <span data-ttu-id="b6bf8-260">**Pravidlo maximální počtu objednávek** – Toto pravidlo umožňuje organizacím určit maximální počet objednávek, který může místo nebo skupina míst zpracovat během kalendářního dne.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-260">**Maximum orders rule** – This rule lets organizations define the maximum number of orders that a location or group of locations can process during a calendar day.</span></span> <span data-ttu-id="b6bf8-261">Pokud je maximální počet objednávek přiřazen k místu v jednom dni, distribuovaná správa objednávek nepřiřadí více objednávek tomuto místu po zbytek tohoto kalendářního dne.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-261">If the maximum number of orders is assigned to a location in a single day, DOM won't assign any more orders to that location for the rest of that calendar day.</span></span>

   <span data-ttu-id="b6bf8-262">Zde je uvedeno několik společných atributů, které lze definovat pro všechny předchozí typy pravidel:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-262">Here are some of the common attributes that can be defined for all the preceding rule types:</span></span>

   - <span data-ttu-id="b6bf8-263">**Počáteční datum** a **Koncové datum** – Každé pravidlo může být účinné podle data použitím těchto polí.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-263">**Start date** and **End date** – Every rule can be made date-effective by using the these fields.</span></span>
   - <span data-ttu-id="b6bf8-264">**Zakázáno** – Pouze pravidla, která mají hodnotu **Ne** pro toto pole, jsou zvažována při spuštění distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-264">**Disabled** – Only rules that have a value of **No** for this field are considered in a DOM run.</span></span>
   - <span data-ttu-id="b6bf8-265">**Vážné omezení** – Pravidlo lze definovat buď jako vážné omezení, nebo bez vážného omezení.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-265">**Hard constraint** – A rule can be defined as either a hard constraint or not a hard constraint.</span></span> <span data-ttu-id="b6bf8-266">Každé spuštění distribuované správy objednávek prochází dvěma iteracemi.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-266">Every DOM run goes through two iterations.</span></span> <span data-ttu-id="b6bf8-267">V první iteraci je každé pravidlo považováno jako pravidlo s vážným omezením, bez ohledu na nastavení tohoto pole.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-267">In the first iteration, every rule is treated as a hard constraint rule, regardless of the setting of this field.</span></span> <span data-ttu-id="b6bf8-268">Jinými slovy, je použito každé pravidlo.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-268">In other words, every rule is applied.</span></span> <span data-ttu-id="b6bf8-269">Jedinou výjimkou je pravidlo **Priorita místa**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-269">The only exception is the **Location priority** rule.</span></span> <span data-ttu-id="b6bf8-270">V druhé iteraci jsou pravidla, která nebyla definována jako pravidla s vážným omezením, odstraněna, a objednávka nebo řádky objednávky nepřiřazené k místům, když byla použita všechna pravidla, jsou přiřazeny k místům.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-270">In the second iteration, the rules that weren't defined as hard constraint rules are removed, and the order or order lines that weren't assigned to locations when all the rules were applied are assigned to locations.</span></span>

10. <span data-ttu-id="b6bf8-271">Profily plnění se použijí k seskupení kolekce pravidel, právnických osob, původů prodejní objednávky a způsobů dodání.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-271">Fulfillment profiles are used to group a collection of rules, legal entities, sales order origins, and modes of delivery.</span></span> <span data-ttu-id="b6bf8-272">Každé spuštění distribuované správy objednávek je pro konkrétní profil plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-272">Every DOM run is for a specific fulfillment profile.</span></span> <span data-ttu-id="b6bf8-273">Tímto způsobem organizace mohou určit a spustit sadu pravidel pro sadu právnických osob na objednávkách, které mají specifické původy prodejní objednávky a způsoby dodání.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-273">In this way, organizations can define and run a set of rules for a set of legal entities, on orders that have specific sales order origins and modes of delivery.</span></span> <span data-ttu-id="b6bf8-274">Proto když musí být spuštěna různá sada pravidel na různé sady původů prodejní objednávky nebo způsoby dodání, profily plnění lze definovat odpovídajícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-274">Therefore, if different set of rules must be run for different sets of sales order origins or modes of delivery, the fulfillment profiles can be defined accordingly.</span></span> <span data-ttu-id="b6bf8-275">Chcete-li nastavit profily plnění, postupujte následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-275">To set up fulfillment profiles, follow these steps:</span></span>  

    1. <span data-ttu-id="b6bf8-276">Přejděte na **Retail a Commerce \> Distribuovaná správa objednávek \> Nastavení \> Profily plnění**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-276">Go to **Retail and Commerce \> Distributed order management \> Setup \> Fulfillment profiles**.</span></span>
    2. <span data-ttu-id="b6bf8-277">Zvolte **Nové**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-277">Select **New**.</span></span>
    3. <span data-ttu-id="b6bf8-278">Zadejte hodnoty do polí **Profil** a **Popis**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-278">Enter values in the **Profile** and **Description** fields.</span></span>
    4. <span data-ttu-id="b6bf8-279">Nastavte možnost **Automaticky použít výsledek**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-279">Set the **Auto apply result** option.</span></span> <span data-ttu-id="b6bf8-280">Pokud nastavíte tuto možnost na **Ano**, výsledky spuštění distribuované správy objednávek pro profil budou automaticky použity na řádky prodejní objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-280">If you set this option to **Yes**, the results of the DOM run for the profile will be automatically applied to the sales order lines.</span></span> <span data-ttu-id="b6bf8-281">Pokud ji nastavíte na hodnotu **Ne**, lze zobrazit výsledky pouze v plánu plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-281">If you set it to **No**, the results can only be viewed in the fulfillment plan.</span></span> <span data-ttu-id="b6bf8-282">Nebudou použity na řádky prodejní objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-282">They won't be applied to the sales order lines.</span></span>
    5. <span data-ttu-id="b6bf8-283">Pokud chcete, aby byl profil distribuované správy objednávek spuštěn pro objednávky, které mají původ u každé prodejní objednávky, včetně objednávek bez určeného původu prodejní objednávky, nastavte možnost **Zpracovat objednávky s prázdným původem prodeje** na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-283">If you want the DOM profile to be run for orders that have every sales order origin, including orders where the sales order origin is undefined, set the **Process orders with empty sales origin** option to **Yes**.</span></span> <span data-ttu-id="b6bf8-284">Chcete-li spustit profil pouze pro několik původů prodejní objednávky, můžete je definovat na stránce **Původy prodeje**, jak bude vysvětleno později.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-284">To run the profile for only a few sales order origins, you can define them on the **Sales origins** page, as explained later.</span></span>

    > [!NOTE]
    > <span data-ttu-id="b6bf8-285">Ve verzi Commerce 10.0.12 a vyšší musí být povolena volba **Možnost přiřadit skupinu plnění k profilu plnění** v pracovním prostoru **Správa funkcí**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-285">In Commerce version 10.0.12 and higher, **Ability to assign Fulfillment group to a Fulfillment Profile** must be enabled in the **Feature Management** workspace.</span></span> 
    >
    > <span data-ttu-id="b6bf8-286">Tato funkce přidá novou konfiguraci na stránku **Profil plnění**, která může být přiřazena k jedné skupině plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-286">This feature adds a new configuration on the **Fulfillment profile** page that can be associated to a single fulfilment group.</span></span> 
    >
    > <span data-ttu-id="b6bf8-287">Pokud vyberete skupinu plnění, budou pravidla distribuované správy objednávek pro tento profil plnění efektivně probíhat proti skladům expedice zahrnutým do skupiny plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-287">If you select the fulfilment group, the DOM rules for that fulfilment profile will efficiently run against the "shipping" warehouses included in the fulfilment group.</span></span> 
    > 
    > <span data-ttu-id="b6bf8-288">Chcete-li tuto funkci efektivně využít, zajistěte, aby existovala jedna skupina plnění, která obsahuje všechny expediční sklady, a poté tuto skupinu plnění přiřaďte k profilu plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-288">To effectively use this feature, ensure that there is one fulfillment group that contains all the shipping warehouses, and then associate that fulfillment group to the fulfillment profile.</span></span>
    
    6. <span data-ttu-id="b6bf8-289">Na záložce s náhledem **Právnické osoby** zvolte **Přidat** a potom zvolte právnickou osobu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-289">On the **Legal entities** FastTab, select **Add**, and then select a legal entity.</span></span>
    7. <span data-ttu-id="b6bf8-290">Na pevné záložce **Pravidla** zvolte **Přidat** a potom zvolte pravidlo, které navážete na profil.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-290">On the **Rules** FastTab, select **Add**, and then select the rule to link to the profile.</span></span>
    8. <span data-ttu-id="b6bf8-291">Opakujte předchozí dva kroky, dokud nejsou všechna požadovaná pravidla přiřazena k profilu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-291">Repeat the previous two steps until all the required rules are associated with the profile.</span></span>
    9. <span data-ttu-id="b6bf8-292">Zvolte **Uložit**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-292">Select **Save**.</span></span>
    10. <span data-ttu-id="b6bf8-293">V podokně akcí na kartě **Nastavení** zvolte **Způsoby dodání**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-293">On the Action Pane, on the **Setup** tab, select **Modes of delivery**.</span></span>
    11. <span data-ttu-id="b6bf8-294">Na stránce **Způsoby dodání** zvolte **Nový**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-294">On the **Modes of delivery** page, select **New**.</span></span>
    12. <span data-ttu-id="b6bf8-295">V poli **Společnost** zvolte právnickou osobu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-295">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="b6bf8-296">Seznam společností je omezen na právnické osoby, které jste přidali dříve.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-296">The list of companies is limited to the legal entities that you added earlier.</span></span>
    13. <span data-ttu-id="b6bf8-297">V poli **Způsob dodání** zvolte způsob dodání, který má být přiřazen k tomuto profilu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-297">In the **Mode of delivery** field, select the mode of delivery to associate with this profile.</span></span> <span data-ttu-id="b6bf8-298">Způsob dodání nelze přiřadit k více aktivním profilům.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-298">A mode of delivery can't be associated with multiple active profiles.</span></span>
    14. <span data-ttu-id="b6bf8-299">Opakujte předchozí dva kroky, dokud nejsou všechny požadované způsoby dodání přiřazeny k profilu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-299">Repeat the previous two steps until all the required modes of delivery are associated with the profile.</span></span>
    15. <span data-ttu-id="b6bf8-300">Zavřete stránku **Způsoby dodání**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-300">Close the **Modes of delivery** page.</span></span>
    16. <span data-ttu-id="b6bf8-301">V podokně akcí na kartě **Nastavení** zvolte **Původy prodejní objednávky**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-301">On the Action Pane, on the **Setup** tab, select **Sales order origins**.</span></span>
    17. <span data-ttu-id="b6bf8-302">Na stránce **Původy prodeje** zvolte **Nový**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-302">On the **Sales origins** page, select **New**.</span></span>
    18. <span data-ttu-id="b6bf8-303">V poli **Společnost** zvolte právnickou osobu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-303">In the **Company** field, select the legal entity.</span></span> <span data-ttu-id="b6bf8-304">Seznam společností je omezen na právnické osoby, které jste přidali dříve.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-304">The list of companies is limited to the legal entities that you added earlier.</span></span>
    19. <span data-ttu-id="b6bf8-305">V poli **Původ prodeje** zvolte původ prodeje, který má být přiřazen k tomuto profilu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-305">In the **Sales origin** field, select the sales origin to associate with this profile.</span></span> <span data-ttu-id="b6bf8-306">Původ prodeje nelze přiřadit k více aktivním profilům.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-306">A sales origin can't be associated with multiple active profiles.</span></span>
    20. <span data-ttu-id="b6bf8-307">Opakujte předchozí dva kroky, dokud nejsou všechny požadované původy prodeje přiřazeny k profilu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-307">Repeat the previous two steps until all the required sales origins are associated with the profile.</span></span>
    21. <span data-ttu-id="b6bf8-308">Zavřete stránku **Původy prodeje**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-308">Close the **Sales origins** page.</span></span>
    22. <span data-ttu-id="b6bf8-309">Nastavte možnost **Povolit profil** na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-309">Set the **Enable profile** option to **Yes**.</span></span> <span data-ttu-id="b6bf8-310">Při dojde při nastavení k jakýmkoliv chybám, obdržíte zprávu s upozorněním.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-310">If there are any errors in the setup, you receive a warning message.</span></span>

## <a name="dom-processing"></a><span data-ttu-id="b6bf8-311">Zpracování distribuované správy objednávek</span><span class="sxs-lookup"><span data-stu-id="b6bf8-311">DOM processing</span></span>

<span data-ttu-id="b6bf8-312">Distribuovaná správa objednávek se spustí pouze v dávkové úloze.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-312">DOM will run only in a batch job.</span></span> <span data-ttu-id="b6bf8-313">Chcete-li konfigurovat dávkovou úlohu pro spuštění distribuované správy objednávek, postupujte takto.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-313">To configure the batch job for DOM runs, follow these steps.</span></span>

1. <span data-ttu-id="b6bf8-314">Přejděte zpět na **Retail a Commerce \> Distribuovaná správa objednávek \> Dávkové zpracování \> Nastavení procesoru úlohy DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-314">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM processor job setup**.</span></span>
1. <span data-ttu-id="b6bf8-315">Na pevné záložce **Parametry** v poli **Profil plnění** zvolte profil, pro který musí být spuštěna distribuovaná správa objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-315">On the **Parameters** FastTab, in the **Fulfillment profile** field, select a profile that DOM must be run for.</span></span>
1. <span data-ttu-id="b6bf8-316">Na pevné záložce **Spustit na pozadí** v poli **Skupina dávek** zvolte nakonfigurovanou skupinu dávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-316">On the **Run in the background** FastTab, in the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="b6bf8-317">V poli **Popis úlohy** zadejte název dávkové úlohy.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-317">In the **Task description** field, enter a name for the batch job.</span></span>
1. <span data-ttu-id="b6bf8-318">Zvolte **Opakování** a nadefinujte opakování dávkové úlohy.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-318">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="b6bf8-319">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-319">Select **OK**.</span></span>

<span data-ttu-id="b6bf8-320">V průběhu zpracování bude distribuovaná správa objednávek zvažovat objednávku a řádky objednávky níže popsaným způsobem:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-320">At the time of processing, DOM will consider the order and order lines as described here:</span></span>

- <span data-ttu-id="b6bf8-321">Řádky objednávek, které splňují kritéria pro původy prodejní objednávky, způsoby dodání a právnické osoby, jak jsou definována v profilu distribuované správy objednávek, a které rovněž splňují některá z těchto kritérií:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-321">Order lines that meet the criteria for sales order origins, modes of delivery, and legal entity as defined in the DOM profile, and that also meet any of these criteria:</span></span>

    - <span data-ttu-id="b6bf8-322">Jsou vytvořeny z obchodní sítě.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-322">They are created from commerce channels.</span></span>
    - <span data-ttu-id="b6bf8-323">Nikdy nebyly zprostředkovány distribuovanou správou objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-323">They have never been brokered by DOM.</span></span>
    - <span data-ttu-id="b6bf8-324">Dříve byly zprostředkovány distribuovanou správou objednávek, ale jsou označeny jako výjimky a jsou pod maximální prahovou hodnotou počtu pokusů.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-324">They have been brokered by DOM before, but they are marked as exceptions and are below the maximum threshold for attempts.</span></span>
    - <span data-ttu-id="b6bf8-325">Způsob dodání není výdej nebo elektronické dodání.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-325">The mode of delivery isn't pick-up or electronic delivery.</span></span>
    - <span data-ttu-id="b6bf8-326">Nejsou označeny pro dodání.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-326">They aren't marked for delivery.</span></span>
    - <span data-ttu-id="b6bf8-327">Nejsou ručně vyloučeny.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-327">They aren't manually excluded.</span></span>

- <span data-ttu-id="b6bf8-328">Objednávky, které nejsou blokované</span><span class="sxs-lookup"><span data-stu-id="b6bf8-328">Orders that aren't on hold</span></span>

<span data-ttu-id="b6bf8-329">Poté, co použije pravidla, omezení zásob a optimalizaci, distribuovaná správa objednávek vybere místo, které je nejblíže adrese dodání odběrateli.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-329">After it applies the rules, inventory constraints, and optimization, DOM picks the location that is closest to the customer's delivery address.</span></span>

<span data-ttu-id="b6bf8-330">![Kritéria prodejních objednávek](./media/ordercriteria.png "Kritéria prodejních objednávek")</span><span class="sxs-lookup"><span data-stu-id="b6bf8-330">![Sales order criteria](./media/ordercriteria.png "Sales order criteria")</span></span>

## <a name="results-of-dom-runs"></a><span data-ttu-id="b6bf8-331">Výsledky spuštění distribuované správy objednávek</span><span class="sxs-lookup"><span data-stu-id="b6bf8-331">Results of DOM runs</span></span>

<span data-ttu-id="b6bf8-332">Pokud je profil plnění nastaven na **Automaticky použít**, výsledky spuštění budou automaticky použity na řádky prodejní objednávky a plán plnění lze zobrazit samostatně.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-332">If the fulfillment profile is set to **Auto apply**, the results of the run will be automatically applied to the sales order lines, and the fulfillment plan can be viewed separately.</span></span> <span data-ttu-id="b6bf8-333">Pokud však profil plnění není nastaven na **Automaticky použít**, výsledky spuštění lze zobrazit pouze ze zobrazení plánu plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-333">However, if the fulfillment profile isn't set to **Auto apply**, the results of the run can be seen only from the fulfillment plan view.</span></span> 

<span data-ttu-id="b6bf8-334">Chcete-li zobrazit vygenerované plány plnění, postupujte podle těchto kroků.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-334">To view all the fulfillment plans that are generated, follow these steps.</span></span>

1. <span data-ttu-id="b6bf8-335">Přejděte na **Retail a Commerce \> Distribuovaná správa objednávek \> Distribuovaná správa objednávek**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-335">Go to **Retail and Commerce \> Distributed order management \> Distributed order management**.</span></span>
2. <span data-ttu-id="b6bf8-336">V pracovním prostoru **Distribuovaná správa objednávek** zvolte dlaždici **Plány plnění**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-336">In the **Distributed order management** workspace, select the **Fulfillment Plans** tile.</span></span>
3. <span data-ttu-id="b6bf8-337">Zvolte ID příslušného plánu plnění objednávek pro zobrazení plánu plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-337">Select the ID of the relevant order fulfillment plan to view the fulfillment plan.</span></span>

    <span data-ttu-id="b6bf8-338">Část podrobností objednávek plánu plnění zobrazuje řádky původní prodejní objednávky, které byly součástí spuštění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-338">The order details section of the fulfillment plan shows the original sales order lines that were part of the run.</span></span> <span data-ttu-id="b6bf8-339">Kromě standardních polí řádků prodejní objednávky zahrnuje část podrobností objednávky také následující tři pole související s distribuovanou správou objednávek:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-339">Besides the standard sales order line fields, the order details section also includes the following three DOM-related fields:</span></span>

    - <span data-ttu-id="b6bf8-340">**Typ plnění** – Toto pole označuje, zda je řádek prodejní objednávky plně zprostředkován, částečně zprostředkován nebo zcela nezprostředkován do místa.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-340">**Fulfillment type** – This field indicates whether the sales order line is fully brokered, partially brokered, or not brokered at all to a location.</span></span>
    - <span data-ttu-id="b6bf8-341">**Rozdělit** – Toto pole označuje, zda byl jeden řádek prodejní objednávky rozdělen a zprostředkován do různých míst.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-341">**Split** – This field indicates whether one sales order line has been split and brokered to different locations.</span></span>
    - <span data-ttu-id="b6bf8-342">**Počet míst plnění** – Toto pole označuje, kolik řádků plnění bylo vytvořeno pro jeden řádek prodejní objednávky (na základě počtu míst, do kterých byl původní řádek prodejní objednávky zprostředkován).</span><span class="sxs-lookup"><span data-stu-id="b6bf8-342">**Number of fulfillment locations** – This field indicates how many fulfillment lines were created for one sales order line (based on the number of locations that the original sales order line was brokered to).</span></span>

    <span data-ttu-id="b6bf8-343">Část podrobností plnění objednávek zobrazuje přiřazení řádků původní prodejní objednávky do různých míst, spolu s jejich množstvím.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-343">The order fulfillment details section shows the assignment of the original sales order lines to different locations, together with their quantities.</span></span>

## <a name="order-line-actions-and-statuses"></a><span data-ttu-id="b6bf8-344">Akce a stavy řádku objednávky</span><span class="sxs-lookup"><span data-stu-id="b6bf8-344">Order line actions and statuses</span></span>

<span data-ttu-id="b6bf8-345">Následující část popisuje nastavení na řádku objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-345">The following describes settings on the order line.</span></span> <span data-ttu-id="b6bf8-346">Chcete-li otevřít řádek objednávky, přejděte na **Retail a Commerce \> Zákazníci \> Všechny prodejní objednávky**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-346">To open the order line, go to **Retail and Commerce \> Customers \> All sales orders**.</span></span>
- <span data-ttu-id="b6bf8-347">Pokud nastavíte možnost **Vyloučit ze zpracování DOM** na kartě **Obecné** řádku prodejní objednávky na **Ano**, objednávka nebo řádek objednávky budou vyloučeny ze zpracování distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-347">If you set the **Exclude from DOM processing** option on the **General** tab of the sales order line to **Yes**, the order or order line will be excluded from DOM processing.</span></span>
- <span data-ttu-id="b6bf8-348">Pole **Stav DOM** na kartě **Obecné** řádku prodejní objednávky lze nastavit na jednu z následujících hodnot:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-348">The **DOM status** field on the **General** tab of the sales order line can be set to one of the following values:</span></span>

    - <span data-ttu-id="b6bf8-349">**Žádný** -Řádek objednávky nebyl nikdy zprostředkován.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-349">**None** – The order line has never been brokered.</span></span>
    - <span data-ttu-id="b6bf8-350">**Dokončeno** – Řádek objednávky byl úspěšně zprostředkován a přiřazen k místu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-350">**Complete** – The order line has been successfully brokered and assigned to a location.</span></span>
    - <span data-ttu-id="b6bf8-351">**Výjimka** – Řádek objednávky byl zprostředkován, ale nemůže být přiřazen k místu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-351">**Exception** – The order line has been brokered but can't be assigned to a location.</span></span> <span data-ttu-id="b6bf8-352">Výjimky mají několik dílčích typů, které lze zobrazit z pracovního prostoru distribuované zprávy objednávek:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-352">Exceptions have multiple subtypes that can be viewed from the DOM workspace:</span></span>

        - <span data-ttu-id="b6bf8-353">**Žádné dostupné množství** – Neexistují žádné dostupné zásoby, ke kterým mají být přiřazeny objednávky v místech.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-353">**No quantity available** – There is no available inventory to assign the order to in the locations.</span></span>
        - <span data-ttu-id="b6bf8-354">**Maximální počet zamítnutí** – Řádek objednávky dosáhl maximální prahové hodnoty pro zamítnutí.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-354">**Maximum rejections** – The order line has reached the maximum threshold for rejections.</span></span>
        - <span data-ttu-id="b6bf8-355">**Konflikt úpravy dat** – Řádek prodejní objednávky byl změněn od doby, kdy byla zprostředkována objednávka.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-355">**Data modification conflict** – The sales order line has been changed since the order was brokered.</span></span> <span data-ttu-id="b6bf8-356">Proto nelze použít plán plnění na objednávku.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-356">Therefore, the fulfillment plan can't be applied to the order.</span></span>
        - <span data-ttu-id="b6bf8-357">**Výjimka specifická pro řádek objednávky** – Na řádku objednávky existuje mnoho výjimek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-357">**Order line specific exception** – There are multiple exceptions on the order line.</span></span>

- <span data-ttu-id="b6bf8-358">Během zadání prodejní objednávky lze spustit distribuovanou správu objednávek v interaktivním režimu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-358">During the sales order entry, DOM can be run in an interactive mode.</span></span> <span data-ttu-id="b6bf8-359">Když zadáváte řádek objednávky, můžete po určení produktu a množství zvolit možnost **Aktualizovat řádek** a poté v části **DOM** zvolit **Navrhnout místo plnění**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-359">While you're entering an order line, after you specify the product and quantity, you can select **Update line** and then, under **DOM**, select **Suggest fulfillment location**.</span></span> <span data-ttu-id="b6bf8-360">Poté uvidíte seznam míst, založený na pravidlech distribuované správy objednávek, která mohou plnit množství na řádku objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-360">You then see a list of locations that is based on DOM rules that can fulfill the quantity on the order line.</span></span> <span data-ttu-id="b6bf8-361">Tento seznam je roztříděn podle vzdálenosti.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-361">This list is sorted by distance.</span></span> <span data-ttu-id="b6bf8-362">Zvolte místo pro nastavení příslušného pracoviště a skladu na řádku prodejního objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-362">Select a location to set the relevant site and warehouse on the sales order line.</span></span> <span data-ttu-id="b6bf8-363">Aby tato funkce fungovala, musí existovat aktivní profil plnění, který odpovídá původu prodeje a způsobu doručení na řádku prodeje.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-363">For this functionality to work, there must be an existing, active fulfillment profile that matches the sales origin and delivery mode on the sales line.</span></span>
- <span data-ttu-id="b6bf8-364">Chcete-li zobrazit protokoly spuštění distribuované správy objednávek pro řádek prodejní objednávky, zvolte **Řádek prodejní objednávky** a poté v části **DOM** zvolte **Zobrazit protokoly DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-364">To view the DOM run logs for a sales order line, select **Sales order line**, and then, under **DOM**, select **View DOM Logs**.</span></span> <span data-ttu-id="b6bf8-365">Protokoly DOM zobrazují všechny události a protokoly, které byly vygenerovány spuštěním distribuované správy objednávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-365">The DOM logs show all the events and logs that were generated by the DOM run.</span></span> <span data-ttu-id="b6bf8-366">Protokoly vám pomohou pochopit, proč bylo specifické místo přiřazeno k řádku objednávky a jaká pravidla a omezení byla zvažována jako součást tohoto přiřazení.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-366">The logs can help you understand why a specific location was assigned to the order line, and what rules and constraints were considered as a part of the assignment.</span></span> <span data-ttu-id="b6bf8-367">Na kartě **Spravovat** jsou rovněž k dispozici protokoly distribuované správy objednávek na úrovni záhlaví prodejní objednávky.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-367">On the **Manage** tab, the DOM logs are also available at the level of the sales order header.</span></span>

## <a name="run-a-clean-up-job-for-dom-fulfillment-plans"></a><span data-ttu-id="b6bf8-368">Spuštění úlohy pro vyčištění pánů plnění distribuované správy objednávek</span><span class="sxs-lookup"><span data-stu-id="b6bf8-368">Run a clean-up job for DOM fulfillment plans</span></span>

<span data-ttu-id="b6bf8-369">Když je spuštěno zpracování distribuované správy objednávek, jsou vytvořeny plány plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-369">As DOM processing is run, fulfillment plans are created.</span></span> <span data-ttu-id="b6bf8-370">V průběhu času bude systém obsahovat mnoho plánů plnění.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-370">Over time, the system will keep numerous fulfillment plans.</span></span> <span data-ttu-id="b6bf8-371">Chcete-li spravovat počet plánů plnění, které systém obsahuje, můžete nakonfigurovat dávkovou úlohu, která odstraní starší plány plnění na základě hodnoty **Období zadržení ve dnech**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-371">To manage the number of fulfillment plans that the system keeps, you can configure a batch job that deletes older fulfillment plans, based on the **Retention period in days** value.</span></span>

1. <span data-ttu-id="b6bf8-372">Přejděte zpět na **Retail a Commerce \> Distribuovaná správa objednávek \> Dávkové zpracování \> Nastavení úlohy odstranění dat plnění DOM**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-372">Go to **Retail and Commerce \> Distributed order management \> Batch processing \> DOM fulfillment data deletion job setup**.</span></span> 
1. <span data-ttu-id="b6bf8-373">V poli **Skupina dávek** vyberte nakonfigurovanou skupinu dávek.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-373">In the **Batch group** field, select a configured batch group.</span></span>
1. <span data-ttu-id="b6bf8-374">Zvolte **Opakování** a nadefinujte opakování dávkové úlohy.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-374">Select **Recurrence**, and define the recurrence of the batch job.</span></span>
1. <span data-ttu-id="b6bf8-375">Vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-375">Select **OK**.</span></span>

## <a name="more-information"></a><span data-ttu-id="b6bf8-376">Další informace</span><span class="sxs-lookup"><span data-stu-id="b6bf8-376">More information</span></span>

<span data-ttu-id="b6bf8-377">Při používání funkce distribuované správy objednávek je nutné vzít v úvahu následující:</span><span class="sxs-lookup"><span data-stu-id="b6bf8-377">Here are some things to consider when you use the DOM feature:</span></span>

- <span data-ttu-id="b6bf8-378">Momentálně se distribuovaná správa objednávek dívá pouze na objednávky vytvořené z obchodní sítě.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-378">Currently, DOM looks only at orders that are created from commerce channels.</span></span> <span data-ttu-id="b6bf8-379">Prodejní objednávky jsou identifikovány jako prodejní objednávky, když je možnost **Obchodní prodej** nastavena na **Ano**.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-379">Sales orders are identified as sales orders when the **Commerce sale** option is set to **Yes**.</span></span>
- <span data-ttu-id="b6bf8-380">Společnost Microsoft netestovala distribuovanou správu objednávek s rozšířenými funkcemi správy skladu.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-380">Microsoft hasn't tested DOM with advanced warehouse management features.</span></span> <span data-ttu-id="b6bf8-381">Zákazníci a partneři musí být obezřetní při určení toho, zda je distribuovaná správa objednávek kompatibilní s rozšířenými funkcemi správy skladu a jejich relevantními procesy.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-381">Customers and partners must be careful to determine whether DOM is compatible with the advanced warehouse management capabilities and processes that are relevant to them.</span></span>
- <span data-ttu-id="b6bf8-382">Distribuovaná správa objednávek je k dispozic pouze v cloudové verzi aplikace Commerce.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-382">DOM is available only on the cloud version of Commerce.</span></span> <span data-ttu-id="b6bf8-383">Není podporována v místních nasazeních.</span><span class="sxs-lookup"><span data-stu-id="b6bf8-383">It isn't supported in on-premises deployments.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]