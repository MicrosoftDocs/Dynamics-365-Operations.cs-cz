---
title: Modul pokladny
description: Tohle téma popisuje, jak na stránku přidat modul pokladny a jak nastavit požadované vlastnosti.
author: anupamar-ms
manager: annbe
ms.date: 05/28/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application user
ms.reviewer: v-chgri
ms.search.scope: Operations, Retail, Core
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anupamar
ms.search.validFrom: 2019-10-31
ms.dyn365.ops.version: Release 10.0.5
ms.openlocfilehash: bd1d66fc39872019fc38dbbfb56dc3015d57d0dd
ms.sourcegitcommit: b52477b7d0d52102a7ca2fb95f4ebfa30ecd9f54
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/29/2020
ms.locfileid: "3411177"
---
# <a name="checkout-module"></a><span data-ttu-id="5f824-103">Modul pokladny</span><span class="sxs-lookup"><span data-stu-id="5f824-103">Checkout module</span></span>


[!include [banner](includes/banner.md)]

<span data-ttu-id="5f824-104">Tohle téma popisuje, jak na stránku přidat modul pokladny a jak nastavit požadované vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="5f824-104">This topic describes how to add a checkout module to a page and set the required properties.</span></span>

## <a name="overview"></a><span data-ttu-id="5f824-105">Přehled</span><span class="sxs-lookup"><span data-stu-id="5f824-105">Overview</span></span>

<span data-ttu-id="5f824-106">Modul poklady je speciální kontejner, který je hostitelem všech modulů, které jsou nutné k vytvoření objednávky.</span><span class="sxs-lookup"><span data-stu-id="5f824-106">A checkout module is a special container that hosts all modules that are required to create an order.</span></span> <span data-ttu-id="5f824-107">Modul poklady představuje podrobný tok, který zákazník používá k zadání všech relevantních informací za účelem provedení nákupu.</span><span class="sxs-lookup"><span data-stu-id="5f824-107">It presents a step-by-step flow that a customer uses to enter all the relevant information to make a purchase.</span></span> <span data-ttu-id="5f824-108">Zachycuje doručovací adresu, způsob přepravy a informace o fakturaci.</span><span class="sxs-lookup"><span data-stu-id="5f824-108">It captures the shipping address, shipping method, and billing information.</span></span> <span data-ttu-id="5f824-109">Poskytuje také souhrn objednávky a další informace, které souvisejí s objednávkou odběratele.</span><span class="sxs-lookup"><span data-stu-id="5f824-109">It also provides an order summary and other information that is related to a customer order.</span></span>

<span data-ttu-id="5f824-110">Modul pokladny vykresluje data na základě ID košíku.</span><span class="sxs-lookup"><span data-stu-id="5f824-110">A checkout module renders data based on the cart ID.</span></span> <span data-ttu-id="5f824-111">ID košíku je uloženo jako soubor cookie prohlížeče.</span><span class="sxs-lookup"><span data-stu-id="5f824-111">This cart ID is saved as a browser cookie.</span></span> <span data-ttu-id="5f824-112">ID košíku je nutné k vykreslení informací v modulu pokladny, jako jsou například položky v objednávce, celková částka a slevy.</span><span class="sxs-lookup"><span data-stu-id="5f824-112">A cart ID is required to render information in the checkout module, such as the items in the order, the total amount, and discounts.</span></span> 

<span data-ttu-id="5f824-113">Následující obrázek ukazuje příklad modulu poklady Fabrikam na stránce pokladny.</span><span class="sxs-lookup"><span data-stu-id="5f824-113">The following image shows an example of a Fabrikam checkout module on a checkout page.</span></span>

![Příklad modulu pokladny](./media/Checkout.PNG)

## <a name="checkout-module-properties"></a><span data-ttu-id="5f824-115">Vlastnosti modulu pokladny</span><span class="sxs-lookup"><span data-stu-id="5f824-115">Checkout module properties</span></span>

<span data-ttu-id="5f824-116">V modulu pokladny se zobrazí souhrn objednávek a funkce pro zadání objednávky.</span><span class="sxs-lookup"><span data-stu-id="5f824-116">A checkout module shows an order summary and provides the functionality for placing an order.</span></span> <span data-ttu-id="5f824-117">Chcete-li shromáždit všechny informace o odběrateli, které jsou požadovány před tím, než může být objednávka vystavena, je nutné přidat další moduly do modulu pokladny.</span><span class="sxs-lookup"><span data-stu-id="5f824-117">To gather all the customer information that is required before an order can be placed, additional modules must be added to the checkout module.</span></span> <span data-ttu-id="5f824-118">Maloobchodní prodejci proto mají flexibilitu přidávat vlastní moduly do toku pokladny nebo vyloučit moduly na základě jejich požadavků.</span><span class="sxs-lookup"><span data-stu-id="5f824-118">Therefore, retailers have the flexibility to add custom modules to the checkout flow, or to exclude modules, based on their requirements.</span></span>

### <a name="modules-that-can-be-used-in-the-checkout-module"></a><span data-ttu-id="5f824-119">Moduly, které lze použít v modulu pokladny</span><span class="sxs-lookup"><span data-stu-id="5f824-119">Modules that can be used in the checkout module</span></span>

- <span data-ttu-id="5f824-120">**Dodací adresa** – Tento modul umožňuje zákazníkovi přidat nebo vybrat dodací adresu objednávky.</span><span class="sxs-lookup"><span data-stu-id="5f824-120">**Shipping address** – This module lets a customer add or select the shipping address for an order.</span></span> <span data-ttu-id="5f824-121">Je-li zákazník přihlášen, zobrazí se všechny adresy, které byly pro daného zákazníka dříve uloženy.</span><span class="sxs-lookup"><span data-stu-id="5f824-121">If the customer is signed in, any addresses that were previously saved for that customer are shown.</span></span> <span data-ttu-id="5f824-122">Zákazník pak může z těchto adres vybírat.</span><span class="sxs-lookup"><span data-stu-id="5f824-122">The customer can then select among those addresses.</span></span> <span data-ttu-id="5f824-123">Zákazník může také přidat novou adresu.</span><span class="sxs-lookup"><span data-stu-id="5f824-123">The customer can also add a new address.</span></span> <span data-ttu-id="5f824-124">Dodací adresa se použije pro všechny položky v objednávce, které vyžadují dodání.</span><span class="sxs-lookup"><span data-stu-id="5f824-124">The shipping address is used for all the items in the order that require shipping.</span></span> <span data-ttu-id="5f824-125">Nelze ji upravit pro jednotlivé položky řádku.</span><span class="sxs-lookup"><span data-stu-id="5f824-125">It can't be customized for individual line items.</span></span> <span data-ttu-id="5f824-126">Formáty dodacích adres se definují pro každou zemi nebo oblast a pravidla specifická pro danou zemi nebo oblast jsou vynucena tímto modulem.</span><span class="sxs-lookup"><span data-stu-id="5f824-126">Shipping address formats are defined for each country or region, and the country/region-specific rules are enforced by this module.</span></span> <span data-ttu-id="5f824-127">Přestože tento modul neposkytuje ověřování adres, ověření adresy lze implementovat prostřednictvím vlastního nastavení.</span><span class="sxs-lookup"><span data-stu-id="5f824-127">Although this module doesn't provide address validation, address validation can be implemented through customization.</span></span> <span data-ttu-id="5f824-128">Pokud objednávka obsahuje pouze položky, které budou vydány v obchodě, bude tento modul automaticky skrytý.</span><span class="sxs-lookup"><span data-stu-id="5f824-128">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>

    <span data-ttu-id="5f824-129">Následující obrázek ukazuje příklad modulu dodací adresy na stránce pokladny.</span><span class="sxs-lookup"><span data-stu-id="5f824-129">The following image shows an example of a shipping address module on a checkout page.</span></span>

    ![Příklad modulu dodací adresy](./media/ecommerce-shippingaddress.PNG)

- <span data-ttu-id="5f824-131">**Možnosti dodání** – Tento modul umožňuje zákazníkovi vybrat možnost dodání pro objednávku.</span><span class="sxs-lookup"><span data-stu-id="5f824-131">**Delivery options** – This module lets a customer select a delivery option for an order.</span></span> <span data-ttu-id="5f824-132">Možnosti dodání jsou založeny na dodací adrese.</span><span class="sxs-lookup"><span data-stu-id="5f824-132">Delivery options are based on the shipping address.</span></span> <span data-ttu-id="5f824-133">Pokud se změní dodací adresa, je nutné znovu načíst možnosti dodání.</span><span class="sxs-lookup"><span data-stu-id="5f824-133">If the shipping address is changed, the delivery options must be retrieved again.</span></span> <span data-ttu-id="5f824-134">Pokud objednávka obsahuje pouze položky, které budou vydány v obchodě, bude tento modul automaticky skrytý.</span><span class="sxs-lookup"><span data-stu-id="5f824-134">If the order includes only items that will be picked up in the store, this module is automatically hidden.</span></span>

    <span data-ttu-id="5f824-135">Následující obrázek ukazuje příklad modulu možností dodání na stránce pokladny.</span><span class="sxs-lookup"><span data-stu-id="5f824-135">The following image shows an example of a delivery options module on a checkout page.</span></span>

    ![Příklad modulu možností dodání](./media/ecommerce-deliveryoptions.PNG)

- <span data-ttu-id="5f824-137">**Kontejner sekce pokladny** – Tento modul je kontejner, do kterého můžete vložit více modulů a vytvořit sekci v rámci toku pokladny.</span><span class="sxs-lookup"><span data-stu-id="5f824-137">**Checkout section container** – This module is a container that you can put multiple modules inside to create a section within the checkout flow.</span></span> <span data-ttu-id="5f824-138">Všechny moduly související s platbou v tomto kontejneru můžete například vložit do jedné sekce.</span><span class="sxs-lookup"><span data-stu-id="5f824-138">For example, you can put all payment-related modules inside this container to make them appear as one section.</span></span> <span data-ttu-id="5f824-139">Tento modul má vliv pouze na rozložení toku.</span><span class="sxs-lookup"><span data-stu-id="5f824-139">This module affects only the layout of the flow.</span></span>
- <span data-ttu-id="5f824-140">**Dárkový poukaz** – Tento modul umožňuje zákazníkovi zaplatit za objednávku pomocí dárkového poukazu.</span><span class="sxs-lookup"><span data-stu-id="5f824-140">**Gift card** – This module lets a customer pay for an order by using a gift card.</span></span> <span data-ttu-id="5f824-141">Podporuje pouze dárkové poukazy Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="5f824-141">It supports only Microsoft Dynamics 365 Commerce gift cards.</span></span> <span data-ttu-id="5f824-142">Na objednávku lze použít jeden nebo více dárkových poukazů.</span><span class="sxs-lookup"><span data-stu-id="5f824-142">One or more gift cards can be applied to an order.</span></span> <span data-ttu-id="5f824-143">Pokud zůstatek dárkového poukazu nepokrývá částku v nákupním košíku, může být dárkový poukaz zkombinován s jiným způsobem platby.</span><span class="sxs-lookup"><span data-stu-id="5f824-143">If the balance of the gift card doesn't cover the amount in the cart, the gift card can be combined with another payment method.</span></span> <span data-ttu-id="5f824-144">Dárkové poukazy lze uplatnit pouze v případě, že je zákazník přihlášen.</span><span class="sxs-lookup"><span data-stu-id="5f824-144">Gift cards can be redeemed only if the customer is signed in.</span></span>
- <span data-ttu-id="5f824-145">**Věrnostní body** – Tento modul umožňuje odběrateli zaplatit za objednávku pomocí věrnostních bodů.</span><span class="sxs-lookup"><span data-stu-id="5f824-145">**Loyalty points** – This module lets a customer pay for an order by using loyalty points.</span></span> <span data-ttu-id="5f824-146">Poskytuje souhrn dostupných bodů a bodů s končící platností a umožňuje zákazníkovi vybrat počet bodů, které chce uplatnit.</span><span class="sxs-lookup"><span data-stu-id="5f824-146">It provides a summary of available points and expiring points, and lets the customer select the number of points to redeem.</span></span> <span data-ttu-id="5f824-147">Pokud zákazník není přihlášen nebo není věrnostní člen, nebo pokud je celková částka nákupního košíku 0 (nula), bude tento modul automaticky skryt.</span><span class="sxs-lookup"><span data-stu-id="5f824-147">If the customer isn't signed in or isn't a loyalty member, or if the total amount in the cart is 0 (zero), this module is automatically hidden.</span></span>
- <span data-ttu-id="5f824-148">**Platba** – Tento modul umožňuje zákazníkovi zaplatit za objednávku pomocí kreditní karty.</span><span class="sxs-lookup"><span data-stu-id="5f824-148">**Payment** – This module lets a customer pay for an order by using a credit card.</span></span> <span data-ttu-id="5f824-149">Pokud je celková částka nákupního košíku pokryta věrnostními body nebo dárkovým poukazem, nebo je 0 (nula), bude tento modul automaticky skryt.</span><span class="sxs-lookup"><span data-stu-id="5f824-149">If the total amount in the cart is covered by loyalty points or a gift card, or if it's 0 (zero), this module is automatically hidden.</span></span> <span data-ttu-id="5f824-150">Integraci kreditiní karty pro tento modul zajišťuje konektor platby Adyen.</span><span class="sxs-lookup"><span data-stu-id="5f824-150">Credit card integration is provided by the Adyen payment connector for this module.</span></span> <span data-ttu-id="5f824-151">Další informace o způsobu použití tohoto konektoru naleznete v tématu [Konektor platby Dynamics 365 pro Adyen](dev-itpro/adyen-connector.md).</span><span class="sxs-lookup"><span data-stu-id="5f824-151">For more information about how to use this connector, see [Dynamics 365 Payment Connector for Adyen](dev-itpro/adyen-connector.md).</span></span>
- <span data-ttu-id="5f824-152">**Fakturační adresa** – Tento modul umožňuje zákazníkovi zadat fakturační informace.</span><span class="sxs-lookup"><span data-stu-id="5f824-152">**Billing address** – This module lets a customer provide billing information.</span></span> <span data-ttu-id="5f824-153">Tyto informace jsou spolu s informacemi o kreditní kartě zpracovány konektorem platby Adyen.</span><span class="sxs-lookup"><span data-stu-id="5f824-153">This information is processed, together with the credit card information, by Adyen.</span></span> <span data-ttu-id="5f824-154">Tento modul zahrnuje možnost, která zákazníkům umožňuje použít fakturační adresu jako dodací adresu.</span><span class="sxs-lookup"><span data-stu-id="5f824-154">This module includes an option that lets customers use their billing address as the shipping address.</span></span>

    <span data-ttu-id="5f824-155">Následující obrázek ukazuje příklad modulů dárkové karty, věrnostních bodů, platby a fakturační adresy na stránce pokladny.</span><span class="sxs-lookup"><span data-stu-id="5f824-155">The following image shows an example of gift card, loyalty points, payment, and billing address modules on a checkout page.</span></span>

    ![Příklad modulů dárkové karty, věrnostních bodů, platby a fakturační adresy](./media/ecommerce-payments.PNG)

- <span data-ttu-id="5f824-157">**Kontaktní informace** – Tento modul umožňuje zákazníkovi přidat nebo změnit kontaktní informace (e-mailovou adresu) na objednávce.</span><span class="sxs-lookup"><span data-stu-id="5f824-157">**Contact information** – This module lets a customer add or change the contact information (email address) for an order.</span></span>

- <span data-ttu-id="5f824-158">**Textový blok** – Tento modul zahrnuje veškerá zasílání zpráv, která jsou řízena systémem správy obsahu (CMS).</span><span class="sxs-lookup"><span data-stu-id="5f824-158">**Text block** – This module contains any messaging that is driven by the content management system (CMS).</span></span> <span data-ttu-id="5f824-159">Může například obsahovat zprávu ve znění „V případě problémů s objednávkou volejte 1-800-Fabrikam“.</span><span class="sxs-lookup"><span data-stu-id="5f824-159">For example, it might contain a message that states, "For issues with your order, contact 1-800-Fabrikam."</span></span> 

## <a name="commerce-scale-unit-interaction"></a><span data-ttu-id="5f824-160">Interakce Commerce Scale Unit</span><span class="sxs-lookup"><span data-stu-id="5f824-160">Commerce Scale Unit interaction</span></span>

<span data-ttu-id="5f824-161">Většina informací o pokladně, například dodací adresa a způsob dodání, je uložena v nákupním košíku a zpracována jako součást objednávky.</span><span class="sxs-lookup"><span data-stu-id="5f824-161">Most of the checkout information, such as the shipping address and shipping method, is stored in the cart and processed as part of the order.</span></span> <span data-ttu-id="5f824-162">Jedinou výjimkou jsou informace o kreditní kartě.</span><span class="sxs-lookup"><span data-stu-id="5f824-162">The only exception is the credit card information.</span></span> <span data-ttu-id="5f824-163">Tyto informace jsou zpracovávány přímo pomocí konektoru platby Adyen.</span><span class="sxs-lookup"><span data-stu-id="5f824-163">This information is processed directly by using the Adyen payment connector.</span></span> <span data-ttu-id="5f824-164">Platba je autorizována, ale není účtována.</span><span class="sxs-lookup"><span data-stu-id="5f824-164">The payment is authorized but isn't charged.</span></span>

## <a name="add-a-checkout-module-to-a-page-and-set-the-required-properties"></a><span data-ttu-id="5f824-165">Na stránku přidejte modul pokladny a nastavte požadované vlastnosti.</span><span class="sxs-lookup"><span data-stu-id="5f824-165">Add a checkout module to a page and set the required properties</span></span>

<span data-ttu-id="5f824-166">Chcete-li přidat modul pokladny na novou stránku a nastavit požadované vlastnosti, postupujte následujícím způsobem.</span><span class="sxs-lookup"><span data-stu-id="5f824-166">To add a checkout module to a new page and set the required properties, follow these steps.</span></span>

1. <span data-ttu-id="5f824-167">Přejděte na **Fragmenty stránky** a volbou **Nový** vytvořte nový fragment.</span><span class="sxs-lookup"><span data-stu-id="5f824-167">Go to **Page Fragments**, and select **New** to create a new fragment.</span></span>
1. <span data-ttu-id="5f824-168">V dialogovém okně **Nový fragment stránky** vyberte modul **Pokladna**.</span><span class="sxs-lookup"><span data-stu-id="5f824-168">In the **New Page Fragment** dialog box, select the **Checkout** module.</span></span>
1. <span data-ttu-id="5f824-169">V části **Název fragmentu stránky** zadejte název pro **Fragment pokladny** a poté vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="5f824-169">Under **Page Fragment Name**, enter the name **Checkout fragment**, and then select **OK**.</span></span>
1. <span data-ttu-id="5f824-170">Vyberte pozici **Modul pokladny**.</span><span class="sxs-lookup"><span data-stu-id="5f824-170">Select the **Checkout module** slot.</span></span>
1. <span data-ttu-id="5f824-171">V podokně vlastností vpravo vyberte symbol tužky, do pole zadejte text záhlaví a poté zaškrtněte symbol zaškrtnutí.</span><span class="sxs-lookup"><span data-stu-id="5f824-171">In the properties pane on the right, select the pencil symbol, enter heading text in the field, and then select the check mark symbol.</span></span>
1. <span data-ttu-id="5f824-172">V pozici **Informace o pokladně** vyberte tři tečky (**...**) a poté vyberte možnost **Přidat modul**.</span><span class="sxs-lookup"><span data-stu-id="5f824-172">In the **Checkout Information** slot, select the ellipsis (**...**), and then select **Add Module**.</span></span>
1. <span data-ttu-id="5f824-173">V dialogovém okně **Přidat modul** vyberte moduly **Dodací adresa**, **Možnosti dodání**, **Kontejner sekce pokladny** a **Kontaktní informace** a vyberte **OK**.</span><span class="sxs-lookup"><span data-stu-id="5f824-173">In the **Add Module** dialog box, select the **Shipping address**, **Delivery options**, **Checkout section container**, and **Contact information** modules, and then select **OK**.</span></span>
1. <span data-ttu-id="5f824-174">V modulu **Kontejner sekce poklady** vyberte tři tečky (**...**) a poté vyberte možnost **Přidat modul**.</span><span class="sxs-lookup"><span data-stu-id="5f824-174">In the **Checkout section container** module, select the ellipsis (**...**), and then select **Add Module**.</span></span>
1. <span data-ttu-id="5f824-175">V dialogovém okně **Přidat modul** vyberte moduly **Dárkový poukaz**, **Věrnostní program** a **Platba** a poté klikněte na tlačítko **OK**.</span><span class="sxs-lookup"><span data-stu-id="5f824-175">In the **Add Module** dialog box, select the **Gift card**, **Loyalty**, and **Payment** modules, and then select **OK**.</span></span> <span data-ttu-id="5f824-176">Tímto způsobem zajistíte, že se všechny způsoby platby budou v sekci zobrazovat společně.</span><span class="sxs-lookup"><span data-stu-id="5f824-176">In this way, you make sure that all the payment methods appear together in a section.</span></span>
1. <span data-ttu-id="5f824-177">Vyberte možnost **Uložit** a poté vyberte možnost **Náhled**, chcete-li zobrazit náhled fragmentu.</span><span class="sxs-lookup"><span data-stu-id="5f824-177">Select **Save**, and then select **Preview** to preview the fragment.</span></span> <span data-ttu-id="5f824-178">Některé moduly, které nemají kontext nákupního košíku, nemusí být v náhledu vykresleny.</span><span class="sxs-lookup"><span data-stu-id="5f824-178">Some modules that don't have a cart context might not be rendered in the preview.</span></span>
1. <span data-ttu-id="5f824-179">Chcete-li vrátit fragment se změnami, vyberte možnost **Dokončit úpravy** a volbou **Publikovat** ji publikujte.</span><span class="sxs-lookup"><span data-stu-id="5f824-179">Select **Finish editing** to check in the fragment, and then select **Publish** to publish it.</span></span>
1. <span data-ttu-id="5f824-180">Vytvořte šablonu která používá nový fragment pokladny.</span><span class="sxs-lookup"><span data-stu-id="5f824-180">Create a template that uses the new checkout fragment.</span></span>
1. <span data-ttu-id="5f824-181">Vytvořte stránku pokladny, která používá novou šablonu.</span><span class="sxs-lookup"><span data-stu-id="5f824-181">Create a checkout page that uses the new template.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="5f824-182">Další zdroje</span><span class="sxs-lookup"><span data-stu-id="5f824-182">Additional resources</span></span>

[<span data-ttu-id="5f824-183">Přehled startovací sady</span><span class="sxs-lookup"><span data-stu-id="5f824-183">Starter kit overview</span></span>](starter-kit-overview.md)

[<span data-ttu-id="5f824-184">Modul kontejneru</span><span class="sxs-lookup"><span data-stu-id="5f824-184">Container module</span></span>](add-container-module.md)

[<span data-ttu-id="5f824-185">Modul buy boxu</span><span class="sxs-lookup"><span data-stu-id="5f824-185">Buy box module</span></span>](add-buy-box.md)

[<span data-ttu-id="5f824-186">Modul košíku</span><span class="sxs-lookup"><span data-stu-id="5f824-186">Cart module</span></span>](add-cart-module.md)

[<span data-ttu-id="5f824-187">Modul potvrzení objednávky</span><span class="sxs-lookup"><span data-stu-id="5f824-187">Order confirmation module</span></span>](order-confirmation-module.md)

[<span data-ttu-id="5f824-188">Modul záhlaví</span><span class="sxs-lookup"><span data-stu-id="5f824-188">Header module</span></span>](author-header-module.md)

[<span data-ttu-id="5f824-189">Modul zápatí</span><span class="sxs-lookup"><span data-stu-id="5f824-189">Footer module</span></span>](author-footer-module.md)
