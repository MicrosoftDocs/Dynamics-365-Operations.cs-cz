---
title: Optimalizace naplánovaných dávkových úloh BYOD
description: Toto téma vysvětluje, jak optimalizovat výkon, když používáte funkci použití vlastní databáze (BYOD) s řešením Microsoft Dynamics 365 Human Resources.
author: andreabichsel
manager: AnnBe
ms.date: 08/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-human-resources
ms.technology: ''
audience: Application User
ms.reviewer: anbichse
ms.search.scope: Core, Human Resources
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: Platform update 36
ms.openlocfilehash: d08762ff40b4da8264bd5bc4a1c16fd2afc4d610
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 10/13/2020
ms.locfileid: "4417613"
---
# <a name="optimize-byod-scheduled-batch-jobs"></a><span data-ttu-id="f9794-103">Optimalizace naplánovaných dávkových úloh BYOD</span><span class="sxs-lookup"><span data-stu-id="f9794-103">Optimize BYOD scheduled batch jobs</span></span>

<span data-ttu-id="f9794-104">Toto téma vysvětluje, jak optimalizovat výkon, když používáte funkci použití vlastní databáze (BYOD).</span><span class="sxs-lookup"><span data-stu-id="f9794-104">This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature.</span></span> <span data-ttu-id="f9794-105">Další informace o BYOD viz [Použití vlastní databáze (BYOD)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database?toc=/dynamics365/human-resources/toc.json).</span><span class="sxs-lookup"><span data-stu-id="f9794-105">For more information about BYOD, see [Bring your own database (BYOD)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database?toc=/dynamics365/human-resources/toc.json).</span></span>

## <a name="performance-considerations-for-data-export"></a><span data-ttu-id="f9794-106">Zvážení výkonu pro export dat</span><span class="sxs-lookup"><span data-stu-id="f9794-106">Performance considerations for data export</span></span>

<span data-ttu-id="f9794-107">Po publikování entit v cílové databázi můžete použít funkci Exportovat v pracovním prostoru **Správa dat** pro přesun dat.</span><span class="sxs-lookup"><span data-stu-id="f9794-107">After entities are published to the destination database, you can use the Export function in the **Data management** workspace to move data.</span></span> <span data-ttu-id="f9794-108">Funkce exportu vám umožňuje definovat úlohu přesnunu dat, která obsahuje jednu nebo více entit.</span><span class="sxs-lookup"><span data-stu-id="f9794-108">The Export function lets you define a Data movement job that contains one or more entities.</span></span> <span data-ttu-id="f9794-109">Další informace, jak používat exportovat data, naleznete v tématu [Přehled úloh importu a exportu dat](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/data-import-export-job?toc=/dynamics365/human-resources/toc.json).</span><span class="sxs-lookup"><span data-stu-id="f9794-109">For more information about data export, see [Data import and export jobs overview](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/data-import-export-job?toc=/dynamics365/human-resources/toc.json).</span></span>

<span data-ttu-id="f9794-110">Stránku **Export** můžete použít pro export dat do různých cílových datových formátů, například souboru CSV.</span><span class="sxs-lookup"><span data-stu-id="f9794-110">You can use the **Export** page to export data into different target data formats, such as a comma-separated values (CSV) file.</span></span> <span data-ttu-id="f9794-111">Tato stránka podporuje také databáze SQL jako další cíl.</span><span class="sxs-lookup"><span data-stu-id="f9794-111">This page also supports SQL databases as another destination.</span></span>

<span data-ttu-id="f9794-112">Můžete vytvořit datový projekt, který má více entit, a pomocí dávkové úlohy naplánovat spuštění tohoto datového projektu.</span><span class="sxs-lookup"><span data-stu-id="f9794-112">You can create a data project that has multiple entities and use a batch job to schedule that data project to run.</span></span> <span data-ttu-id="f9794-113">Pokud vyberete možnost **Exportovat v dávce**, můžete naplánovat pravidelné spouštění úlohy exportu dat.</span><span class="sxs-lookup"><span data-stu-id="f9794-113">If you select the **Export in batch** option, you can schedule the data export job to run periodically.</span></span>

<span data-ttu-id="f9794-114">Chcete-li zachovat celkovou spolehlivost exportu BYOD, musíte být opatrní, když do projektu exportu přidáte více entit.</span><span class="sxs-lookup"><span data-stu-id="f9794-114">To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project.</span></span> <span data-ttu-id="f9794-115">Když určujete počet entit, které se mají přidat do stejného projektu, zvažte následující parametry:</span><span class="sxs-lookup"><span data-stu-id="f9794-115">When you're determining the number of entities to add to the same project, consider the following parameters:</span></span>

- <span data-ttu-id="f9794-116">Složitost entit</span><span class="sxs-lookup"><span data-stu-id="f9794-116">The complexity of the entities</span></span>
- <span data-ttu-id="f9794-117">Očekávaný objem dat na entitu</span><span class="sxs-lookup"><span data-stu-id="f9794-117">The expected data volume per entity</span></span>
- <span data-ttu-id="f9794-118">Celková doba potřebná k dokončení exportu na úrovni úlohy</span><span class="sxs-lookup"><span data-stu-id="f9794-118">The overall time that will be required to complete the export at the job level</span></span>

<span data-ttu-id="f9794-119">Pro nejlepší výkon nepřidávejte stovky entit do jednoho projektu.</span><span class="sxs-lookup"><span data-stu-id="f9794-119">For the best performance, avoid adding hundreds of entities to a single project.</span></span> <span data-ttu-id="f9794-120">Doporučujeme vytvořit více úloh, z nichž každá obsahuje méně entit.</span><span class="sxs-lookup"><span data-stu-id="f9794-120">We recommend that you create multiple jobs, each of which contains fewer entities.</span></span>

## <a name="scheduling-byod-batch-jobs"></a><span data-ttu-id="f9794-121">Plánování dávkových úloh BYOD</span><span class="sxs-lookup"><span data-stu-id="f9794-121">Scheduling BYOD batch jobs</span></span>

<span data-ttu-id="f9794-122">Pro snížení dopadu na uživatele řešení Microsoft Dynamics 365 Human Resources spusťte dávkové úlohy BYOD v noci nebo po pracovní době.</span><span class="sxs-lookup"><span data-stu-id="f9794-122">To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours.</span></span> <span data-ttu-id="f9794-123">U opakujících se dávkových úloh zkontrolujte časové pásmo.</span><span class="sxs-lookup"><span data-stu-id="f9794-123">Be sure to check the time zone for recurring batch jobs.</span></span> <span data-ttu-id="f9794-124">Některé dávkové úlohy mohou používat tichomořský standardní čas (PST).</span><span class="sxs-lookup"><span data-stu-id="f9794-124">Some batch jobs might use Pacific Standard Time (PST).</span></span>

<span data-ttu-id="f9794-125">Abyste se vyhnuli problémům s výkonem, zvažte při konfiguraci frekvence plánování pro dávkové úlohy BYOD následující faktory:</span><span class="sxs-lookup"><span data-stu-id="f9794-125">To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</span></span>

- <span data-ttu-id="f9794-126">Čas potřebný k dokončení každé dávkové úlohy</span><span class="sxs-lookup"><span data-stu-id="f9794-126">The time that is required to complete each batch job</span></span>
- <span data-ttu-id="f9794-127">Obchodní potřeby pro data v BYOD</span><span class="sxs-lookup"><span data-stu-id="f9794-127">The business need for the data in BYOD</span></span>

<span data-ttu-id="f9794-128">Nastavte frekvenci pro každou dávkovou úlohu na hodnotu, která zajistí, že bude možné úlohu dokončit dlouho před jejím dalším plánovaným časem spuštění.</span><span class="sxs-lookup"><span data-stu-id="f9794-128">Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time.</span></span> <span data-ttu-id="f9794-129">Vyhněte se paralelnímu spuštění více úloh, protože tento přístup může negativně ovlivnit výkon aplikace Human Resources.</span><span class="sxs-lookup"><span data-stu-id="f9794-129">Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</span></span>

<span data-ttu-id="f9794-130">Pro nejlepší výkon vždy používejte možnost **Exportovat v dávce** na stránce **Export** pro plánování dávkových úloh BYOD.</span><span class="sxs-lookup"><span data-stu-id="f9794-130">For the best performance, always use the **Export in batch** option on the **Export** page to schedule BYOD batch jobs.</span></span> <span data-ttu-id="f9794-131">Vyhněte se plánování opakujících se exportů v **Spravovat \> Spravovat opakující se datové úlohy**.</span><span class="sxs-lookup"><span data-stu-id="f9794-131">Avoid scheduling recurring exports at **Manage \> Manage recurring data jobs**.</span></span>

## <a name="incremental-export"></a><span data-ttu-id="f9794-132">Přírůstkový export</span><span class="sxs-lookup"><span data-stu-id="f9794-132">Incremental export</span></span>

<span data-ttu-id="f9794-133">Když přidáte entitu pro export dat, můžete provést buď přírůstkové nabízení (export) nebo úplné nabízení.</span><span class="sxs-lookup"><span data-stu-id="f9794-133">When you add an entity for data export, you can do either an incremental push (export) or a full push.</span></span> <span data-ttu-id="f9794-134">Úplné nabízení odstraní všechny existující záznamy z entity v databázi BYOD.</span><span class="sxs-lookup"><span data-stu-id="f9794-134">A full push deletes all existing records from an entity in the BYOD database.</span></span> <span data-ttu-id="f9794-135">Poté vloží aktuální sadu záznamů z entity Human Resources.</span><span class="sxs-lookup"><span data-stu-id="f9794-135">It then inserts the current set of records from the Human Resources entity.</span></span>

<span data-ttu-id="f9794-136">Chcete-li provést přírůstkové nabízení, musíte zapnout sledování změn pro každou entitu na stránce **Entity**.</span><span class="sxs-lookup"><span data-stu-id="f9794-136">To do an incremental push, you must turn on change tracking for each entity on the **Entities** page.</span></span> <span data-ttu-id="f9794-137">Další informace viz [Povolení sledování změn pro entity](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-change-track?toc=/dynamics365/human-resources/toc.json).</span><span class="sxs-lookup"><span data-stu-id="f9794-137">For more information, see [Enable change tracking for entities](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-change-track?toc=/dynamics365/human-resources/toc.json).</span></span>

<span data-ttu-id="f9794-138">Pokud vyberete přírůstkové nabízení, první nabázení je vždy úplné nabízení.</span><span class="sxs-lookup"><span data-stu-id="f9794-138">If you select an incremental push, the first push is always a full push.</span></span> <span data-ttu-id="f9794-139">SQL sleduje změny od tohoto prvního úplného nabízení.</span><span class="sxs-lookup"><span data-stu-id="f9794-139">SQL tracks changes from this first full push.</span></span> <span data-ttu-id="f9794-140">Když je vložen nový záznam nebo když je záznam aktualizován nebo odstraněn, změna se projeví v cílové entitě.</span><span class="sxs-lookup"><span data-stu-id="f9794-140">When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</span></span>

## <a name="time-outs"></a><span data-ttu-id="f9794-141">Časové limity</span><span class="sxs-lookup"><span data-stu-id="f9794-141">Time-outs</span></span>

<span data-ttu-id="f9794-142">Zde jsou výchozí časové limity pro exporty BYOD:</span><span class="sxs-lookup"><span data-stu-id="f9794-142">Here are the default time-outs for BYOD exports:</span></span>

- <span data-ttu-id="f9794-143">Deset minut na operace zkrácení</span><span class="sxs-lookup"><span data-stu-id="f9794-143">Ten minutes for truncation operations</span></span>
- <span data-ttu-id="f9794-144">Jedna hodina pro operace hromadného vkládání</span><span class="sxs-lookup"><span data-stu-id="f9794-144">One hour for bulk insert operations</span></span>

<span data-ttu-id="f9794-145">Pokud jsou objemy dat vysoké, nemusí tato nastavení časového limitu stačit.</span><span class="sxs-lookup"><span data-stu-id="f9794-145">When volumes are high, these time-out settings might not be sufficient.</span></span> <span data-ttu-id="f9794-146">Chcete-li je aktualizovat, přejděte na **Správa dat \> Parametry architektury \> Použití vlastní databáze**.</span><span class="sxs-lookup"><span data-stu-id="f9794-146">To update them, go to **Data management \> Framework parameters \> Bring your own database**.</span></span> <span data-ttu-id="f9794-147">Tyto časové limity jsou specifické pro společnost a musí být nastaveny zvlášť pro každou společnost.</span><span class="sxs-lookup"><span data-stu-id="f9794-147">These time-outs are company-specific and must be set separately for each company.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="f9794-148">Známá omezení</span><span class="sxs-lookup"><span data-stu-id="f9794-148">Known limitations</span></span>

<span data-ttu-id="f9794-149">Funkce BYOD má následující omezení:</span><span class="sxs-lookup"><span data-stu-id="f9794-149">The BYOD feature has the following limitations:</span></span>

- <span data-ttu-id="f9794-150">Během synchronizace by ve vaší databázi neměly být žádné aktivní zámky.</span><span class="sxs-lookup"><span data-stu-id="f9794-150">There should be no active locks on your database during synchronization.</span></span> <span data-ttu-id="f9794-151">Aktivní zámky mohou způsobit pomalé zápisy nebo dokonce selhání exportu dat do vaší databáze Azure SQL.</span><span class="sxs-lookup"><span data-stu-id="f9794-151">Active locks can cause slow writes or even failure to export data to your Azure SQL database.</span></span>
- <span data-ttu-id="f9794-152">Složené entity nelze exportovat do vlastní databáze.</span><span class="sxs-lookup"><span data-stu-id="f9794-152">You can't export composite entities into your own database.</span></span> <span data-ttu-id="f9794-153">V současné době nejsou složené entity podporovány.</span><span class="sxs-lookup"><span data-stu-id="f9794-153">Currently, composite entities aren't supported.</span></span> <span data-ttu-id="f9794-154">Musíte exportovat jednotlivé entity, které tvoří složenou entitu.</span><span class="sxs-lookup"><span data-stu-id="f9794-154">You must export individual entities that make up the composite entity.</span></span> <span data-ttu-id="f9794-155">Můžete však exportovat obě entity ve stejném datovém projektu.</span><span class="sxs-lookup"><span data-stu-id="f9794-155">However, you can export both entities in the same data project.</span></span>
- <span data-ttu-id="f9794-156">Entity, které nemají jedinečné klíče, nelze exportovat pomocí přírůstkového nabízení.</span><span class="sxs-lookup"><span data-stu-id="f9794-156">Entities that don't have unique keys can't be exported by using incremental push.</span></span> <span data-ttu-id="f9794-157">S tímto omezením se můžete setkat, zvláště když se pokoušíte přírůstkově exportovat záznamy z několika připravených entit.</span><span class="sxs-lookup"><span data-stu-id="f9794-157">You might face this limitation especially when you try to incrementally export records from a few ready-made entities.</span></span> <span data-ttu-id="f9794-158">Protože tyto entity byly navrženy tak, aby umožňovaly import dat, nemají jedinečný klíč.</span><span class="sxs-lookup"><span data-stu-id="f9794-158">Because these entities were designed to enable the import of data, they don't have a unique key.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="f9794-159">Řešení potíží</span><span class="sxs-lookup"><span data-stu-id="f9794-159">Troubleshooting</span></span>

### <a name="incremental-push-doesnt-work-correctly"></a><span data-ttu-id="f9794-160">Přírůstkové nabízení nefunguje správně</span><span class="sxs-lookup"><span data-stu-id="f9794-160">Incremental push doesn't work correctly</span></span>

<span data-ttu-id="f9794-161">**Problém:** Když dojde k úplnému nabízení pro entitu, uvidíte velkou sadu záznamů v BYOD, když použijete příkaz **select**.</span><span class="sxs-lookup"><span data-stu-id="f9794-161">**Issue:** When a full push occurs for an entity, you see a large set of records in BYOD when you use a **select** statement.</span></span> <span data-ttu-id="f9794-162">Když však provedete přírůstkové nabízení, uvidíte v BYOD jen několik záznamů.</span><span class="sxs-lookup"><span data-stu-id="f9794-162">However, when you do an incremental push, you see only a few records in BYOD.</span></span> <span data-ttu-id="f9794-163">Zdá se, jako by přírůstkové nabízení odstranilo všechny záznamy a přidalo pouze změněné záznamy v BYOD.</span><span class="sxs-lookup"><span data-stu-id="f9794-163">It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</span></span>

<span data-ttu-id="f9794-164">**Řešení:** Tabulky sledování změn SQL nemusí být v očekávaném stavu.</span><span class="sxs-lookup"><span data-stu-id="f9794-164">**Solution:** The SQL change tracking tables might not be in the expected state.</span></span> <span data-ttu-id="f9794-165">V případech tohoto typu doporučujeme vypnout sledování změn pro entitu a poté ji znovu zapnout.</span><span class="sxs-lookup"><span data-stu-id="f9794-165">In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on.</span></span> <span data-ttu-id="f9794-166">Další informace viz [Povolení sledování změn pro entity](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-change-track?toc=/dynamics365/human-resources/toc.json).</span><span class="sxs-lookup"><span data-stu-id="f9794-166">For more information, see [Enable change tracking for entities](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-change-track?toc=/dynamics365/human-resources/toc.json).</span></span>

## <a name="see-also"></a><span data-ttu-id="f9794-167">Viz také</span><span class="sxs-lookup"><span data-stu-id="f9794-167">See also</span></span>

[<span data-ttu-id="f9794-168">Přehled správy dat</span><span class="sxs-lookup"><span data-stu-id="f9794-168">Data management overview</span></span>](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/data-entities-data-packages?toc=/dynamics365/human-resources/toc.json)<br>
[<span data-ttu-id="f9794-169">Použití vlastní databáze (BYOD)</span><span class="sxs-lookup"><span data-stu-id="f9794-169">Bring your own database (BYOD)</span></span>](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database?toc=/dynamics365/human-resources/toc.json)<br>
[<span data-ttu-id="f9794-170">Přehled úloh importu a exportu dat</span><span class="sxs-lookup"><span data-stu-id="f9794-170">Data import and export jobs overview</span></span>](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/data-import-export-job?toc=/dynamics365/human-resources/toc.json)<br>
[<span data-ttu-id="f9794-171">Povolení sledování změn pro entity</span><span class="sxs-lookup"><span data-stu-id="f9794-171">Enable change tracking for entities</span></span>](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/data-entities/entity-change-track?toc=/dynamics365/human-resources/toc.json)
