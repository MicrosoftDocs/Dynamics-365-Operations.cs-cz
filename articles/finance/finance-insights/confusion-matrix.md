---
title: Výsledky modelů strojového učení (Preview)
description: Toto téma pojednává o maticích zmatků, problémech s klasifikací a správnosti v modelech strojového učení (ML). Účelem je zlepšit vaše chápání správnosti ve výsledcích predikce ML.
author: ShivamPandey-msft
manager: AnnBe
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: dcdc6d501f09b639eb0d7504e0f760a66bb3dbc7
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/15/2021
ms.locfileid: "5208526"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="141fc-104">Výsledky modelů strojového učení (Preview)</span><span class="sxs-lookup"><span data-stu-id="141fc-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="141fc-105">Toto téma pojednává o maticích zmatků, problémech s klasifikací a správnosti v modelech strojového učení (ML).</span><span class="sxs-lookup"><span data-stu-id="141fc-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="141fc-106">Účelem je zlepšit vaše chápání správnosti ve výsledcích predikce ML.</span><span class="sxs-lookup"><span data-stu-id="141fc-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="141fc-107">Cílové publikum zahrnuje inženýry, analytiky a manažery, kteří chtějí rozvíjet své znalosti a dovednosti v oblasti datové vědy.</span><span class="sxs-lookup"><span data-stu-id="141fc-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="141fc-108">Matice zmatku</span><span class="sxs-lookup"><span data-stu-id="141fc-108">Confusion matrix</span></span>
<span data-ttu-id="141fc-109">Poté, co je kontrolovaný problém ML vycvičen na sadě historických dat, je testován pomocí dat, která jsou zadržena z procesu školení.</span><span class="sxs-lookup"><span data-stu-id="141fc-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="141fc-110">Tímto způsobem můžete porovnat předpovědi z trénovaného modelu se skutečnými hodnotami.</span><span class="sxs-lookup"><span data-stu-id="141fc-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="141fc-111">Matice zmatku poskytuje prostředky k vyhodnocení toho, jak úspěšný je problém s klasifikací a kde dělá chyby (tj. kde se stává „zmateným“).</span><span class="sxs-lookup"><span data-stu-id="141fc-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="141fc-112">Vaším cílem je například předpovědět, zda je domácí zvíře pes nebo kočka, na základě některých fyzických a behaviorálních atributů.</span><span class="sxs-lookup"><span data-stu-id="141fc-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="141fc-113">Pokud máte testovací datovou sadu, která obsahuje 30 psů a 20 koček, matice zmatku může vypadat jako na následujícím obrázku.</span><span class="sxs-lookup"><span data-stu-id="141fc-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

![Příklad předpovědi druhů](media/species-prediction-matrix.png)

<span data-ttu-id="141fc-115">Čísla v zelených buňkách představují správné předpovědi.</span><span class="sxs-lookup"><span data-stu-id="141fc-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="141fc-116">Jak vidíte, model správně předpovídal vyšší procento koček.</span><span class="sxs-lookup"><span data-stu-id="141fc-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="141fc-117">Celková správnost modelu je snadno vypočitatelná.</span><span class="sxs-lookup"><span data-stu-id="141fc-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="141fc-118">V tomto případě je to 42 ÷ 50 nebo 0,84.</span><span class="sxs-lookup"><span data-stu-id="141fc-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="141fc-119">Vícetřídové klasifikátory v matici zmatku</span><span class="sxs-lookup"><span data-stu-id="141fc-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="141fc-120">Většina diskusí o matici zmatku je zaměřena na binární klasifikátory, jako v předchozím příkladu.</span><span class="sxs-lookup"><span data-stu-id="141fc-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="141fc-121">Tento případ je zvláštní případ, kdy lze uvažovat o dalších metrikách, jako je citlivost a úplnost.</span><span class="sxs-lookup"><span data-stu-id="141fc-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="141fc-122">Dále zvážíme problém klasifikace pro finanční scénář, který má tři stavy.</span><span class="sxs-lookup"><span data-stu-id="141fc-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="141fc-123">Model předpovídá, zda bude faktura od zákazníka zaplacena včas, pozdě nebo velmi pozdě.</span><span class="sxs-lookup"><span data-stu-id="141fc-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="141fc-124">Například ze 100 testovacích faktur je 50 zaplaceno včas, 35 zaplaceno pozdě a 15 zaplaceno velmi pozdě.</span><span class="sxs-lookup"><span data-stu-id="141fc-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="141fc-125">V tomto případě může model vytvořit matici zmatku, která se podobá následující ilustraci.</span><span class="sxs-lookup"><span data-stu-id="141fc-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

![Model 1](media/payment-prediction-matrix.png)<span data-ttu-id="141fc-127">]</span><span class="sxs-lookup"><span data-stu-id="141fc-127">]</span></span>

<span data-ttu-id="141fc-128">Matice zmatku poskytuje podstatně více informací než jednoduchá metrika správnosti.</span><span class="sxs-lookup"><span data-stu-id="141fc-128">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="141fc-129">Stále je to však relativně snadné pochopit.</span><span class="sxs-lookup"><span data-stu-id="141fc-129">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="141fc-130">Matice zmatku vám řekne, zda máte vyváženou datovou sadu, kde výstupní třídy mají podobné počty.</span><span class="sxs-lookup"><span data-stu-id="141fc-130">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="141fc-131">Pro scénář pro více tříd vám řekne, jak mylná může být předpověď, když jsou výstupní třídy řadové, jako v předchozím příkladu o platbách zákazníků.</span><span class="sxs-lookup"><span data-stu-id="141fc-131">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="141fc-132">Správnost modelu</span><span class="sxs-lookup"><span data-stu-id="141fc-132">Model accuracy</span></span> 
<span data-ttu-id="141fc-133">Výhodou kvantifikace kvality modelu jsou různé metriky správnosti.</span><span class="sxs-lookup"><span data-stu-id="141fc-133">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="141fc-134">Protože správnost je snadno pochopitelná metrika, je to dobrý výchozí bod pro vysvětlení modelu ostatním lidem, zejména uživatelům modelu, kteří nejsou datovými vědci.</span><span class="sxs-lookup"><span data-stu-id="141fc-134">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="141fc-135">Pro pochopení správnosti modelu není nutné žádné porozumění statistikám.</span><span class="sxs-lookup"><span data-stu-id="141fc-135">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="141fc-136">Když je k dispozici matice zmatku, poskytuje podrobnější pohled na výkon modelu.</span><span class="sxs-lookup"><span data-stu-id="141fc-136">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="141fc-137">Pro důkladnější pochopení je však třeba uvést několik problémů, které jsou spojeny se správností.</span><span class="sxs-lookup"><span data-stu-id="141fc-137">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="141fc-138">Užitečnost metriky závisí na kontextu problému.</span><span class="sxs-lookup"><span data-stu-id="141fc-138">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="141fc-139">Ve vztahu k výkonu modelu často vyvstává otázka: „Jak dobrý je model?“</span><span class="sxs-lookup"><span data-stu-id="141fc-139">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="141fc-140">Odpověď na tuto otázku však nemusí být nutně přímočará.</span><span class="sxs-lookup"><span data-stu-id="141fc-140">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="141fc-141">Zvažte následující matici zmatku (model 2).</span><span class="sxs-lookup"><span data-stu-id="141fc-141">Consider the following confusion matrix (model 2).</span></span>

![Příklad předpovědi platby s větším vzorkem](media/payment-prediction-matrix-2.png)

<span data-ttu-id="141fc-143">Rychlý výpočet ukazuje, že správnost tohoto modelu je (70 + 10 + 3) ÷ 100 nebo 0,83.</span><span class="sxs-lookup"><span data-stu-id="141fc-143">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="141fc-144">Na povrchu se tento výsledek jeví lepší než výsledek pro předchozí model s více třídami (model 1), který má správnost 0,73.</span><span class="sxs-lookup"><span data-stu-id="141fc-144">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="141fc-145">Ale je to lepší?</span><span class="sxs-lookup"><span data-stu-id="141fc-145">But is it better?</span></span>

<span data-ttu-id="141fc-146">Chcete-li se touto otázkou začít zabývat, zvažte správnost naivního odhadu.</span><span class="sxs-lookup"><span data-stu-id="141fc-146">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="141fc-147">U problému klasifikace jednoduchý odhad vždy předpovídá nejběžnější třídu.</span><span class="sxs-lookup"><span data-stu-id="141fc-147">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="141fc-148">U modelu 1 bude tento odhad „včas“ a bude mít správnost 0,50.</span><span class="sxs-lookup"><span data-stu-id="141fc-148">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="141fc-149">Odhad pro model 2 bude také „včas“ a bude mít správnost 0,80.</span><span class="sxs-lookup"><span data-stu-id="141fc-149">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="141fc-150">Protože model 1 vylepšuje naivní odhad o 0,73 - 0,50 = 0,23, zatímco model 2 vylepšuje naivní odhad o 0,83 - 0,80 = 0,03, model 1 je lepší model, i když má nižší správnost.</span><span class="sxs-lookup"><span data-stu-id="141fc-150">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="141fc-151">Výpočet ukazuje, že efektivní posouzení kvality modelu vyžaduje více kontextu než hodnotu správnosti.</span><span class="sxs-lookup"><span data-stu-id="141fc-151">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="141fc-152">Za zmínku stojí další aspekt.</span><span class="sxs-lookup"><span data-stu-id="141fc-152">Another aspect is worth noting.</span></span> <span data-ttu-id="141fc-153">Zvažte scénář, kdy se ke zjištění nemoci u pacienta použije lékařský test.</span><span class="sxs-lookup"><span data-stu-id="141fc-153">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="141fc-154">Tento problém je problémem binární klasifikace, kde pozitivní výsledek naznačuje, že pacient má onemocnění.</span><span class="sxs-lookup"><span data-stu-id="141fc-154">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="141fc-155">V tomto scénáři musíte přemýšlet o dopadu následujících chyb:</span><span class="sxs-lookup"><span data-stu-id="141fc-155">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="141fc-156">Falešně pozitivní, kde test říká, že pacient má nemoc, ale ve skutečnosti ji nemá</span><span class="sxs-lookup"><span data-stu-id="141fc-156">False positives, where the test says that a patient has the disease, but she doesn't really have it</span></span>
- <span data-ttu-id="141fc-157">Falešně negativní, kde test říká, že pacient nemá nemoc, ale ve skutečnosti ji má</span><span class="sxs-lookup"><span data-stu-id="141fc-157">False negatives, where the test says that a patient doesn't have the disease, but he really does have it</span></span>

<span data-ttu-id="141fc-158">Je zřejmé, že oba typy chyb jsou nežádoucí, ale která je horší?</span><span class="sxs-lookup"><span data-stu-id="141fc-158">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="141fc-159">Opět to záleží na situaci.</span><span class="sxs-lookup"><span data-stu-id="141fc-159">Again, it depends.</span></span> <span data-ttu-id="141fc-160">V případě život ohrožujícího onemocnění, které vyžaduje rychlou léčbu, má přednost minimalizace falešně negativních chyb (s vyhlídkou dalších testů).</span><span class="sxs-lookup"><span data-stu-id="141fc-160">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="141fc-161">V jiných, méně kritických situacích mohou tvůrci modelu místo toho minimalizovat falešně pozitivní chyby.</span><span class="sxs-lookup"><span data-stu-id="141fc-161">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="141fc-162">Rozumným závěrem je, že k efektivnímu určení kvality modelu musíte mít více informací, než poskytuje metrika správnosti.</span><span class="sxs-lookup"><span data-stu-id="141fc-162">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="141fc-163">Doporučení</span><span class="sxs-lookup"><span data-stu-id="141fc-163">Recommendations</span></span>

<span data-ttu-id="141fc-164">Správnost je důležitý nástroj pro komunikaci s odborníky na danou oblast, kteří nejsou zběhlí ve statistice.</span><span class="sxs-lookup"><span data-stu-id="141fc-164">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="141fc-165">Aby však byly informace užitečné, je důležité poskytnout další kontext společně s hodnotou správnosti.</span><span class="sxs-lookup"><span data-stu-id="141fc-165">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="141fc-166">Pro scénář předpovědi plateb můžete nastavit cíl pro model strojového učení, který zahrnuje faktory při různých platebních chováních.</span><span class="sxs-lookup"><span data-stu-id="141fc-166">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="141fc-167">Cílem je, aby se model zlepšil v naivním odhadu snížením počtu nesprávných odpovědí alespoň o 50 procent.</span><span class="sxs-lookup"><span data-stu-id="141fc-167">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="141fc-168">Jinými slovy chcete dosáhnout cílové správnosti, která půlí rozdíl mezi přesností naivního odhadu a 100 procenty.</span><span class="sxs-lookup"><span data-stu-id="141fc-168">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="141fc-169">Následující tabulka shrnuje tento princip pro matice zmatku v tomto tématu.</span><span class="sxs-lookup"><span data-stu-id="141fc-169">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="141fc-170">Model</span><span class="sxs-lookup"><span data-stu-id="141fc-170">Model</span></span>   | <span data-ttu-id="141fc-171">Naivní odhad</span><span class="sxs-lookup"><span data-stu-id="141fc-171">Naïve guess</span></span> | <span data-ttu-id="141fc-172">Cíl</span><span class="sxs-lookup"><span data-stu-id="141fc-172">Target</span></span> | <span data-ttu-id="141fc-173">Správnost modelu</span><span class="sxs-lookup"><span data-stu-id="141fc-173">Model accuracy</span></span> | <span data-ttu-id="141fc-174">Je dosaženo cíle?</span><span class="sxs-lookup"><span data-stu-id="141fc-174">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="141fc-175">Model 1</span><span class="sxs-lookup"><span data-stu-id="141fc-175">Model 1</span></span> | <span data-ttu-id="141fc-176">0.50</span><span class="sxs-lookup"><span data-stu-id="141fc-176">0.50</span></span>        | <span data-ttu-id="141fc-177">0.75</span><span class="sxs-lookup"><span data-stu-id="141fc-177">0.75</span></span>   | <span data-ttu-id="141fc-178">0.73</span><span class="sxs-lookup"><span data-stu-id="141fc-178">0.73</span></span>           | <span data-ttu-id="141fc-179">Téměř.</span><span class="sxs-lookup"><span data-stu-id="141fc-179">Almost.</span></span> <span data-ttu-id="141fc-180">Tento model výrazně zlepšuje odhad.</span><span class="sxs-lookup"><span data-stu-id="141fc-180">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="141fc-181">Model 2</span><span class="sxs-lookup"><span data-stu-id="141fc-181">Model 2</span></span> | <span data-ttu-id="141fc-182">0.80</span><span class="sxs-lookup"><span data-stu-id="141fc-182">0.80</span></span>        | <span data-ttu-id="141fc-183">0.90</span><span class="sxs-lookup"><span data-stu-id="141fc-183">0.90</span></span>   | <span data-ttu-id="141fc-184">0.83</span><span class="sxs-lookup"><span data-stu-id="141fc-184">0.83</span></span>           | <span data-ttu-id="141fc-185">Č.</span><span class="sxs-lookup"><span data-stu-id="141fc-185">No.</span></span> <span data-ttu-id="141fc-186">Je nutné vylepšení.</span><span class="sxs-lookup"><span data-stu-id="141fc-186">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="141fc-187">Správnost F1 klasifikace</span><span class="sxs-lookup"><span data-stu-id="141fc-187">Classification F1 accuracy</span></span>

<span data-ttu-id="141fc-188">Konečným hlediskem v tomto tématu je pokročilejší měřítko výkonu strojového učení klasifikace, které se označuje jako správnost F1.</span><span class="sxs-lookup"><span data-stu-id="141fc-188">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="141fc-189">Před definováním správnosti F1 je třeba zavést dvě další metriky: přesnost a úplnost.</span><span class="sxs-lookup"><span data-stu-id="141fc-189">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="141fc-190">Přesnost označuje, kolik z celkového počtu předpovědí, které jsou zadány jako pozitivní, je správně přiřazeno.</span><span class="sxs-lookup"><span data-stu-id="141fc-190">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="141fc-191">Tato metrika je také známá jako pozitivní prediktivní hodnota.</span><span class="sxs-lookup"><span data-stu-id="141fc-191">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="141fc-192">Úplnost je celkový počet skutečných pozitivních případů, které byly správně předpovězeny.</span><span class="sxs-lookup"><span data-stu-id="141fc-192">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="141fc-193">Tato metrika je také známá jako citlivost.</span><span class="sxs-lookup"><span data-stu-id="141fc-193">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="141fc-194">[![Pravé výsledky vs. falešné výsledky](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="141fc-194">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="141fc-195">V matici zmatku na předchozím obrázku se tyto metriky počítají následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="141fc-195">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="141fc-196">Přesnost = TP ÷ (TP + FP)</span><span class="sxs-lookup"><span data-stu-id="141fc-196">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="141fc-197">Úplnost = TP ÷ (TP + FN)</span><span class="sxs-lookup"><span data-stu-id="141fc-197">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="141fc-198">Míra F1 kombinuje přesnost a úplnost.</span><span class="sxs-lookup"><span data-stu-id="141fc-198">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="141fc-199">Výsledkem je harmonický průměr obou hodnot.</span><span class="sxs-lookup"><span data-stu-id="141fc-199">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="141fc-200">Vypočítává se následujícím způsobem:</span><span class="sxs-lookup"><span data-stu-id="141fc-200">It's calculated in the following way:</span></span>

- <span data-ttu-id="141fc-201">F1 = 2 × (přesnost × úplnost) ÷ (přesnost + úplnost)</span><span class="sxs-lookup"><span data-stu-id="141fc-201">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="141fc-202">Podívejme se na konkrétní příklad.</span><span class="sxs-lookup"><span data-stu-id="141fc-202">Let's look at a concrete example.</span></span> <span data-ttu-id="141fc-203">Dříve v tomto tématu byl příklad modelu, který předpovídal, zda je zvíře pes nebo kočka.</span><span class="sxs-lookup"><span data-stu-id="141fc-203">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="141fc-204">Ilustrace se zde opakuje.</span><span class="sxs-lookup"><span data-stu-id="141fc-204">The illustration is repeated here.</span></span>

<span data-ttu-id="141fc-205">[![Příklad předpovědi druhů (opakování)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="141fc-205">[![Species prediction example (repeated)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="141fc-206">Zde jsou výsledky, pokud je jako pozitivní odpověď použit „pes“.</span><span class="sxs-lookup"><span data-stu-id="141fc-206">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="141fc-207">Přesnost = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="141fc-207">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="141fc-208">Úplnost = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="141fc-208">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="141fc-209">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="141fc-209">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="141fc-210">Jak vidíte, hodnota F1 je mezi hodnotami pro přesnost a úplnost.</span><span class="sxs-lookup"><span data-stu-id="141fc-210">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="141fc-211">Ačkoli správnost F1 není tak snadno pochopitelná, přidává k základnímu číslu přesnosti nuanci.</span><span class="sxs-lookup"><span data-stu-id="141fc-211">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="141fc-212">Může také pomoci s nevyváženými datovými sadami, jak ukáže následující diskuse.</span><span class="sxs-lookup"><span data-stu-id="141fc-212">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="141fc-213">Část [Správnost modelu](#model-accuracy) tohoto tématu porovnala následující dvě matice zmatků.</span><span class="sxs-lookup"><span data-stu-id="141fc-213">The [Model accuracy](#model-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="141fc-214">I když první model měl nižší přesnost, byl považován za užitečnější model, protože vykázal větší zlepšení než výchozí odhad včasné platby.</span><span class="sxs-lookup"><span data-stu-id="141fc-214">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

![Příklad předpovědi platby vs. skutečných hodnot](media/payment-prediction-matrix.png)

![Příklad předpovědi platby s větším vzorkem (opakování)](media/payment-prediction-matrix-2.png)

<span data-ttu-id="141fc-217">Podívejme se, jak se tyto dva modely porovnávají, když se použije skóre F1.</span><span class="sxs-lookup"><span data-stu-id="141fc-217">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="141fc-218">Faktory skóre F1 v přesnosti a úplnosti pro každý stav a výpočet makra F1 poté zprůměruje skóre F1 napříč stavy a určí celkové skóre F1.</span><span class="sxs-lookup"><span data-stu-id="141fc-218">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="141fc-219">Existují i jiné varianty F1, ale je mnohem zajímavější zvážit verzi makra, vzhledem ke stejné úvaze, která je věnována všem třem stavům.</span><span class="sxs-lookup"><span data-stu-id="141fc-219">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="141fc-220">Pro zjednodušení výpočtů byla sestrojena ukázková pole, která odpovídají skutečným a předpovězeným hodnotám.</span><span class="sxs-lookup"><span data-stu-id="141fc-220">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="141fc-221">Tato pole používala k výpočtu hodnot knihovnu metrik sklearn v Pythonu.</span><span class="sxs-lookup"><span data-stu-id="141fc-221">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="141fc-222">Zde je výsledek.</span><span class="sxs-lookup"><span data-stu-id="141fc-222">Here is the result.</span></span>

| <span data-ttu-id="141fc-223">Model</span><span class="sxs-lookup"><span data-stu-id="141fc-223">Model</span></span>   | <span data-ttu-id="141fc-224">Naivní odhad</span><span class="sxs-lookup"><span data-stu-id="141fc-224">Naive guess</span></span> | <span data-ttu-id="141fc-225">Přesnost</span><span class="sxs-lookup"><span data-stu-id="141fc-225">Accuracy</span></span> | <span data-ttu-id="141fc-226">Makro F1</span><span class="sxs-lookup"><span data-stu-id="141fc-226">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="141fc-227">Model 1</span><span class="sxs-lookup"><span data-stu-id="141fc-227">Model 1</span></span> | <span data-ttu-id="141fc-228">0.5</span><span class="sxs-lookup"><span data-stu-id="141fc-228">0.5</span></span>         | <span data-ttu-id="141fc-229">0.73</span><span class="sxs-lookup"><span data-stu-id="141fc-229">0.73</span></span>     | <span data-ttu-id="141fc-230">0.67</span><span class="sxs-lookup"><span data-stu-id="141fc-230">0.67</span></span>     |
| <span data-ttu-id="141fc-231">Model 2</span><span class="sxs-lookup"><span data-stu-id="141fc-231">Model 2</span></span> | <span data-ttu-id="141fc-232">0.80</span><span class="sxs-lookup"><span data-stu-id="141fc-232">0.80</span></span>        | <span data-ttu-id="141fc-233">0.83</span><span class="sxs-lookup"><span data-stu-id="141fc-233">0.83</span></span>     | <span data-ttu-id="141fc-234">0.66</span><span class="sxs-lookup"><span data-stu-id="141fc-234">0.66</span></span>     |

<span data-ttu-id="141fc-235">Další informace, jak tento výpočet funguje, najdete zde v sestavě klasifikace sklearn.metrics pro model 1.</span><span class="sxs-lookup"><span data-stu-id="141fc-235">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="141fc-236">Tři stavy: „Včas“, „Pozdě“ a „Velmi pozdě“ jsou reprezentovány řádky, které jsou označeny 1, 2 a 3.</span><span class="sxs-lookup"><span data-stu-id="141fc-236">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="141fc-237">Průměr makra je pouze průměr sloupce „skóre-f1“.</span><span class="sxs-lookup"><span data-stu-id="141fc-237">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="141fc-238">přesnost</span><span class="sxs-lookup"><span data-stu-id="141fc-238">precision</span></span> | <span data-ttu-id="141fc-239">úplnost</span><span class="sxs-lookup"><span data-stu-id="141fc-239">recall</span></span>   | <span data-ttu-id="141fc-240">skóre-f1</span><span class="sxs-lookup"><span data-stu-id="141fc-240">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="141fc-241">**1**</span><span class="sxs-lookup"><span data-stu-id="141fc-241">**1**</span></span>     | <span data-ttu-id="141fc-242">0.83</span><span class="sxs-lookup"><span data-stu-id="141fc-242">0.83</span></span>      | <span data-ttu-id="141fc-243">0.80</span><span class="sxs-lookup"><span data-stu-id="141fc-243">0.80</span></span>     | <span data-ttu-id="141fc-244">0.82</span><span class="sxs-lookup"><span data-stu-id="141fc-244">0.82</span></span>     |
| <span data-ttu-id="141fc-245">**2**</span><span class="sxs-lookup"><span data-stu-id="141fc-245">**2**</span></span>     | <span data-ttu-id="141fc-246">0.68</span><span class="sxs-lookup"><span data-stu-id="141fc-246">0.68</span></span>      | <span data-ttu-id="141fc-247">0.71</span><span class="sxs-lookup"><span data-stu-id="141fc-247">0.71</span></span>     | <span data-ttu-id="141fc-248">0.69</span><span class="sxs-lookup"><span data-stu-id="141fc-248">0.69</span></span>     |
| <span data-ttu-id="141fc-249">**3**</span><span class="sxs-lookup"><span data-stu-id="141fc-249">**3**</span></span>     | <span data-ttu-id="141fc-250">0.50</span><span class="sxs-lookup"><span data-stu-id="141fc-250">0.50</span></span>      | <span data-ttu-id="141fc-251">0.50</span><span class="sxs-lookup"><span data-stu-id="141fc-251">0.50</span></span>     | <span data-ttu-id="141fc-252">0.50</span><span class="sxs-lookup"><span data-stu-id="141fc-252">0.50</span></span>     |

<span data-ttu-id="141fc-253">Jak tyto výsledky ukazují, oba modely mají téměř identické skóre správnosti makra F1.</span><span class="sxs-lookup"><span data-stu-id="141fc-253">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="141fc-254">V tomto a mnoha dalších případech poskytuje správnost F1 lepší indikátor schopnosti modelu.</span><span class="sxs-lookup"><span data-stu-id="141fc-254">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="141fc-255">Pokud jde o přesnost, interpretace výsledků vyžaduje, abyste pochopili, co je v modelu nejdůležitější vzít v úvahu.</span><span class="sxs-lookup"><span data-stu-id="141fc-255">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="141fc-256">Oznámení o ochraně osobních údajů</span><span class="sxs-lookup"><span data-stu-id="141fc-256">Privacy notice</span></span>
<span data-ttu-id="141fc-257">Verze Preview (1) mohou využívat méně ochrany soukromí a bezpečnostních opatření než služba Dynamics 365 Finance and Operations, (2) nejsou zahrnuty v dohodě o úrovni služeb (SLA) pro tuto službu, (3) neměly by být používány pro zpracování osobních údajů nebo jiných údajů, které podléhají právním nebo regulačním požadavkům, a (4) mají omezenou podporu.</span><span class="sxs-lookup"><span data-stu-id="141fc-257">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]